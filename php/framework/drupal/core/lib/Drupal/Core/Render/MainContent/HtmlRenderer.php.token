[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Render",3],["T_NS_SEPARATOR","\\",3],["T_STRING","MainContent",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Plugin",5],["T_NS_SEPARATOR","\\",5],["T_STRING","PluginManagerInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Cache",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Cache",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Controller",7],["T_NS_SEPARATOR","\\",7],["T_STRING","TitleResolverInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Display",8],["T_NS_SEPARATOR","\\",8],["T_STRING","PageVariantInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Extension",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ModuleHandlerInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Display",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ContextAwareVariantInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Render",11],["T_NS_SEPARATOR","\\",11],["T_STRING","HtmlResponse",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Render",12],["T_NS_SEPARATOR","\\",12],["T_STRING","PageDisplayVariantSelectionEvent",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Core",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Render",13],["T_NS_SEPARATOR","\\",13],["T_STRING","RenderCacheInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Core",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Render",14],["T_NS_SEPARATOR","\\",14],["T_STRING","RenderContext",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Drupal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Core",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Render",15],["T_NS_SEPARATOR","\\",15],["T_STRING","RendererInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Drupal",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Core",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Render",16],["T_NS_SEPARATOR","\\",16],["T_STRING","RenderEvents",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Drupal",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Core",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Routing",17],["T_NS_SEPARATOR","\\",17],["T_STRING","RouteMatchInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","EventDispatcher",18],["T_NS_SEPARATOR","\\",18],["T_STRING","EventDispatcherInterface",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","HttpFoundation",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Request",19],";",["T_WHITESPACE","\n\n",19],["T_DOC_COMMENT","\/**\n * Default main content renderer for HTML requests.\n *\n * For attachment handling of HTML responses:\n * @see template_preprocess_html()\n * @see \\Drupal\\Core\\Render\\AttachmentsResponseProcessorInterface\n * @see \\Drupal\\Core\\Render\\BareHtmlPageRenderer\n * @see \\Drupal\\Core\\Render\\HtmlResponse\n * @see \\Drupal\\Core\\Render\\HtmlResponseAttachmentsProcessor\n *\/",21],["T_WHITESPACE","\n",30],["T_CLASS","class",31],["T_WHITESPACE"," ",31],["T_STRING","HtmlRenderer",31],["T_WHITESPACE"," ",31],["T_IMPLEMENTS","implements",31],["T_WHITESPACE"," ",31],["T_STRING","MainContentRendererInterface",31],["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n\n  ",31],["T_DOC_COMMENT","\/**\n   * The title resolver.\n   *\n   * @var \\Drupal\\Core\\Controller\\TitleResolverInterface\n   *\/",33],["T_WHITESPACE","\n  ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$titleResolver",38],";",["T_WHITESPACE","\n\n  ",38],["T_DOC_COMMENT","\/**\n   * The display variant manager.\n   *\n   * @var \\Drupal\\Component\\Plugin\\PluginManagerInterface\n   *\/",40],["T_WHITESPACE","\n  ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$displayVariantManager",45],";",["T_WHITESPACE","\n\n  ",45],["T_DOC_COMMENT","\/**\n   * The event dispatcher.\n   *\n   * @var \\Symfony\\Component\\EventDispatcher\\EventDispatcherInterface\n   *\/",47],["T_WHITESPACE","\n  ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$eventDispatcher",52],";",["T_WHITESPACE","\n  ",52],["T_DOC_COMMENT","\/**\n   * The module handler.\n   *\n   * @var \\Drupal\\Core\\Extension\\ModuleHandlerInterface\n   *\/",53],["T_WHITESPACE","\n  ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$moduleHandler",58],";",["T_WHITESPACE","\n\n  ",58],["T_DOC_COMMENT","\/**\n   * The renderer service.\n   *\n   * @var \\Drupal\\Core\\Render\\RendererInterface\n   *\/",60],["T_WHITESPACE","\n  ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$renderer",65],";",["T_WHITESPACE","\n\n  ",65],["T_DOC_COMMENT","\/**\n   * The render cache service.\n   *\n   * @var \\Drupal\\Core\\Render\\RenderCacheInterface\n   *\/",67],["T_WHITESPACE","\n  ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$renderCache",72],";",["T_WHITESPACE","\n\n  ",72],["T_DOC_COMMENT","\/**\n   * The renderer configuration array.\n   *\n   * @see sites\/default\/default.services.yml\n   *\n   * @var array\n   *\/",74],["T_WHITESPACE","\n  ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$rendererConfig",81],";",["T_WHITESPACE","\n\n  ",81],["T_DOC_COMMENT","\/**\n   * Constructs a new HtmlRenderer.\n   *\n   * @param \\Drupal\\Core\\Controller\\TitleResolverInterface $title_resolver\n   *   The title resolver.\n   * @param \\Drupal\\Component\\Plugin\\PluginManagerInterface $display_variant_manager\n   *   The display variant manager.\n   * @param \\Symfony\\Component\\EventDispatcher\\EventDispatcherInterface $event_dispatcher\n   *   The event dispatcher.\n   * @param \\Drupal\\Core\\Extension\\ModuleHandlerInterface $module_handler\n   *   The module handler.\n   * @param \\Drupal\\Core\\Render\\RendererInterface $renderer\n   *   The renderer service.\n   * @param \\Drupal\\Core\\Render\\RenderCacheInterface $render_cache\n   *   The render cache service.\n   * @param array $renderer_config\n   *   The renderer configuration array.\n   *\/",83],["T_WHITESPACE","\n  ",100],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","__construct",101],"(",["T_STRING","TitleResolverInterface",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$title_resolver",101],",",["T_WHITESPACE"," ",101],["T_STRING","PluginManagerInterface",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$display_variant_manager",101],",",["T_WHITESPACE"," ",101],["T_STRING","EventDispatcherInterface",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$event_dispatcher",101],",",["T_WHITESPACE"," ",101],["T_STRING","ModuleHandlerInterface",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$module_handler",101],",",["T_WHITESPACE"," ",101],["T_STRING","RendererInterface",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$renderer",101],",",["T_WHITESPACE"," ",101],["T_STRING","RenderCacheInterface",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$render_cache",101],",",["T_WHITESPACE"," ",101],["T_ARRAY","array",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$renderer_config",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","titleResolver",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$title_resolver",102],";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","displayVariantManager",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$display_variant_manager",103],";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","eventDispatcher",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$event_dispatcher",104],";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","moduleHandler",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$module_handler",105],";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","renderer",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$renderer",106],";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","renderCache",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$render_cache",107],";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","rendererConfig",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$renderer_config",108],";",["T_WHITESPACE","\n  ",108],"}",["T_WHITESPACE","\n\n  ",109],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\n   * The entire HTML: takes a #type 'page' and wraps it in a #type 'html'.\n   *\/",111],["T_WHITESPACE","\n  ",115],["T_PUBLIC","public",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","renderResponse",116],"(",["T_ARRAY","array",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$main_content",116],",",["T_WHITESPACE"," ",116],["T_STRING","Request",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$request",116],",",["T_WHITESPACE"," ",116],["T_STRING","RouteMatchInterface",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$route_match",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n    ",116],["T_LIST","list",117],"(",["T_VARIABLE","$page",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$title",117],")",["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","prepare",117],"(",["T_VARIABLE","$main_content",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$request",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$route_match",117],")",";",["T_WHITESPACE","\n\n    ",117],["T_IF","if",119],["T_WHITESPACE"," ",119],"(","!",["T_ISSET","isset",119],"(",["T_VARIABLE","$page",119],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",119],"]",")",["T_WHITESPACE"," ",119],["T_BOOLEAN_OR","||",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$page",119],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",119],"]",["T_WHITESPACE"," ",119],["T_IS_NOT_IDENTICAL","!==",119],["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'page'",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n      ",119],["T_THROW","throw",120],["T_WHITESPACE"," ",120],["T_NEW","new",120],["T_WHITESPACE"," ",120],["T_NS_SEPARATOR","\\",120],["T_STRING","LogicException",120],"(",["T_CONSTANT_ENCAPSED_STRING","'Must be #type page'",120],")",";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n\n    ",121],["T_VARIABLE","$page",123],"[",["T_CONSTANT_ENCAPSED_STRING","'#title'",123],"]",["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$title",123],";",["T_WHITESPACE","\n\n    ",123],["T_COMMENT","\/\/ Now render the rendered page.html.twig template inside the html.html.twig\n",125],["T_WHITESPACE","    ",126],["T_COMMENT","\/\/ template, and use the bubbled #attached metadata from $page to ensure we\n",126],["T_WHITESPACE","    ",127],["T_COMMENT","\/\/ load all attached assets.\n",127],["T_WHITESPACE","    ",128],["T_VARIABLE","$html",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],"[",["T_WHITESPACE","\n      ",128],["T_CONSTANT_ENCAPSED_STRING","'#type'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'html'",129],",",["T_WHITESPACE","\n      ",129],["T_CONSTANT_ENCAPSED_STRING","'page'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$page",130],",",["T_WHITESPACE","\n    ",130],"]",";",["T_WHITESPACE","\n\n    ",131],["T_COMMENT","\/\/ The special page regions will appear directly in html.html.twig, not in\n",133],["T_WHITESPACE","    ",134],["T_COMMENT","\/\/ page.html.twig, hence add them here, just before rendering html.html.twig.\n",134],["T_WHITESPACE","    ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","buildPageTopAndBottom",135],"(",["T_VARIABLE","$html",135],")",";",["T_WHITESPACE","\n\n    ",135],["T_COMMENT","\/\/ Render, but don't replace placeholders yet, because that happens later in\n",137],["T_WHITESPACE","    ",138],["T_COMMENT","\/\/ the render pipeline. To not replace placeholders yet, we use\n",138],["T_WHITESPACE","    ",139],["T_COMMENT","\/\/ RendererInterface::render() instead of RendererInterface::renderRoot().\n",139],["T_WHITESPACE","    ",140],["T_COMMENT","\/\/ @see \\Drupal\\Core\\Render\\HtmlResponseAttachmentsProcessor.\n",140],["T_WHITESPACE","    ",141],["T_VARIABLE","$render_context",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_NEW","new",141],["T_WHITESPACE"," ",141],["T_STRING","RenderContext",141],"(",")",";",["T_WHITESPACE","\n    ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","renderer",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","executeInRenderContext",142],"(",["T_VARIABLE","$render_context",142],",",["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],"(",")",["T_WHITESPACE"," ",142],["T_USE","use",142],["T_WHITESPACE"," ",142],"(","&",["T_VARIABLE","$html",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n      ",142],["T_COMMENT","\/\/ RendererInterface::render() renders the $html render array and updates\n",143],["T_WHITESPACE","      ",144],["T_COMMENT","\/\/ it in place. We don't care about the return value (which is just\n",144],["T_WHITESPACE","      ",145],["T_COMMENT","\/\/ $html['#markup']), but about the resulting render array.\n",145],["T_WHITESPACE","      ",146],["T_COMMENT","\/\/ @todo Simplify this when https:\/\/www.drupal.org\/node\/2495001 lands.\n",146],["T_WHITESPACE","      ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","renderer",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","render",147],"(",["T_VARIABLE","$html",147],")",";",["T_WHITESPACE","\n    ",147],"}",")",";",["T_WHITESPACE","\n    ",148],["T_COMMENT","\/\/ RendererInterface::render() always causes bubbleable metadata to be\n",149],["T_WHITESPACE","    ",150],["T_COMMENT","\/\/ stored in the render context, no need to check it conditionally.\n",150],["T_WHITESPACE","    ",151],["T_VARIABLE","$bubbleable_metadata",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$render_context",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","pop",151],"(",")",";",["T_WHITESPACE","\n    ",151],["T_VARIABLE","$bubbleable_metadata",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","applyTo",152],"(",["T_VARIABLE","$html",152],")",";",["T_WHITESPACE","\n    ",152],["T_VARIABLE","$content",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","renderCache",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getCacheableRenderArray",153],"(",["T_VARIABLE","$html",153],")",";",["T_WHITESPACE","\n\n    ",153],["T_COMMENT","\/\/ Also associate the required cache contexts.\n",155],["T_WHITESPACE","    ",156],["T_COMMENT","\/\/ (Because we use ::render() above and not ::renderRoot(), we manually must\n",156],["T_WHITESPACE","    ",157],["T_COMMENT","\/\/ ensure the HTML response varies by the required cache contexts.)\n",157],["T_WHITESPACE","    ",158],["T_VARIABLE","$content",158],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",158],"]","[",["T_CONSTANT_ENCAPSED_STRING","'contexts'",158],"]",["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","Cache",158],["T_DOUBLE_COLON","::",158],["T_STRING","mergeContexts",158],"(",["T_VARIABLE","$content",158],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",158],"]","[",["T_CONSTANT_ENCAPSED_STRING","'contexts'",158],"]",",",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","rendererConfig",158],"[",["T_CONSTANT_ENCAPSED_STRING","'required_cache_contexts'",158],"]",")",";",["T_WHITESPACE","\n\n    ",158],["T_COMMENT","\/\/ Also associate the \"rendered\" cache tag. This allows us to invalidate the\n",160],["T_WHITESPACE","    ",161],["T_COMMENT","\/\/ entire render cache, regardless of the cache bin.\n",161],["T_WHITESPACE","    ",162],["T_VARIABLE","$content",162],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",162],"]","[",["T_CONSTANT_ENCAPSED_STRING","'tags'",162],"]","[","]",["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'rendered'",162],";",["T_WHITESPACE","\n\n    ",162],["T_VARIABLE","$response",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_NEW","new",164],["T_WHITESPACE"," ",164],["T_STRING","HtmlResponse",164],"(",["T_VARIABLE","$content",164],",",["T_WHITESPACE"," ",164],["T_LNUMBER","200",164],",",["T_WHITESPACE"," ",164],"[",["T_WHITESPACE","\n      ",164],["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'text\/html; charset=UTF-8'",165],",",["T_WHITESPACE","\n    ",165],"]",")",";",["T_WHITESPACE","\n\n    ",166],["T_RETURN","return",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$response",168],";",["T_WHITESPACE","\n  ",168],"}",["T_WHITESPACE","\n\n  ",169],["T_DOC_COMMENT","\/**\n   * Prepares the HTML body: wraps the main content in #type 'page'.\n   *\n   * @param array $main_content\n   *   The render array representing the main content.\n   * @param \\Symfony\\Component\\HttpFoundation\\Request $request\n   *   The request object, for context.\n   * @param \\Drupal\\Core\\Routing\\RouteMatchInterface $route_match\n   *   The route match, for context.\n   *\n   * @return array\n   *   An array with two values:\n   *   0. A #type 'page' render array.\n   *   1. The page title.\n   *\n   * @throws \\LogicException\n   *   If the selected display variant does not implement PageVariantInterface.\n   *\/",171],["T_WHITESPACE","\n  ",188],["T_PROTECTED","protected",189],["T_WHITESPACE"," ",189],["T_FUNCTION","function",189],["T_WHITESPACE"," ",189],["T_STRING","prepare",189],"(",["T_ARRAY","array",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$main_content",189],",",["T_WHITESPACE"," ",189],["T_STRING","Request",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$request",189],",",["T_WHITESPACE"," ",189],["T_STRING","RouteMatchInterface",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$route_match",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n    ",189],["T_COMMENT","\/\/ Determine the title: use the title provided by the main content if any,\n",190],["T_WHITESPACE","    ",191],["T_COMMENT","\/\/ otherwise get it from the routing information.\n",191],["T_WHITESPACE","    ",192],["T_VARIABLE","$get_title",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_FUNCTION","function",192],["T_WHITESPACE"," ",192],"(",["T_ARRAY","array",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$main_content",192],")",["T_WHITESPACE"," ",192],["T_USE","use",192],["T_WHITESPACE"," ",192],"(",["T_VARIABLE","$request",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$route_match",192],")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n      ",192],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_ISSET","isset",193],"(",["T_VARIABLE","$main_content",193],"[",["T_CONSTANT_ENCAPSED_STRING","'#title'",193],"]",")",["T_WHITESPACE"," ",193],"?",["T_WHITESPACE"," ",193],["T_VARIABLE","$main_content",193],"[",["T_CONSTANT_ENCAPSED_STRING","'#title'",193],"]",["T_WHITESPACE"," ",193],":",["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","titleResolver",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","getTitle",193],"(",["T_VARIABLE","$request",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$route_match",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","getRouteObject",193],"(",")",")",";",["T_WHITESPACE","\n    ",193],"}",";",["T_WHITESPACE","\n\n    ",194],["T_COMMENT","\/\/ If the _controller result already is #type => page,\n",196],["T_WHITESPACE","    ",197],["T_COMMENT","\/\/ we have no work to do: The \"main content\" already is an entire \"page\"\n",197],["T_WHITESPACE","    ",198],["T_COMMENT","\/\/ (see html.html.twig).\n",198],["T_WHITESPACE","    ",199],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_ISSET","isset",199],"(",["T_VARIABLE","$main_content",199],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",199],"]",")",["T_WHITESPACE"," ",199],["T_BOOLEAN_AND","&&",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$main_content",199],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",199],"]",["T_WHITESPACE"," ",199],["T_IS_IDENTICAL","===",199],["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'page'",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n      ",199],["T_VARIABLE","$page",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$main_content",200],";",["T_WHITESPACE","\n      ",200],["T_VARIABLE","$title",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$get_title",201],"(",["T_VARIABLE","$page",201],")",";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n    ",202],["T_COMMENT","\/\/ Otherwise, render it as the main content of a #type => page, by selecting\n",203],["T_WHITESPACE","    ",204],["T_COMMENT","\/\/ page display variant to do that and building that page display variant.\n",204],["T_WHITESPACE","    ",205],["T_ELSE","else",205],["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n      ",205],["T_COMMENT","\/\/ Select the page display variant to be used to render this main content,\n",206],["T_WHITESPACE","      ",207],["T_COMMENT","\/\/ default to the built-in \"simple page\".\n",207],["T_WHITESPACE","      ",208],["T_VARIABLE","$event",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_NEW","new",208],["T_WHITESPACE"," ",208],["T_STRING","PageDisplayVariantSelectionEvent",208],"(",["T_CONSTANT_ENCAPSED_STRING","'simple_page'",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$route_match",208],")",";",["T_WHITESPACE","\n      ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","eventDispatcher",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","dispatch",209],"(",["T_STRING","RenderEvents",209],["T_DOUBLE_COLON","::",209],["T_STRING","SELECT_PAGE_DISPLAY_VARIANT",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$event",209],")",";",["T_WHITESPACE","\n      ",209],["T_VARIABLE","$variant_id",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$event",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getPluginId",210],"(",")",";",["T_WHITESPACE","\n\n      ",210],["T_COMMENT","\/\/ We must render the main content now already, because it might provide a\n",212],["T_WHITESPACE","      ",213],["T_COMMENT","\/\/ title. We set its $is_root_call parameter to FALSE, to ensure\n",213],["T_WHITESPACE","      ",214],["T_COMMENT","\/\/ placeholders are not yet replaced. This is essentially \"pre-rendering\"\n",214],["T_WHITESPACE","      ",215],["T_COMMENT","\/\/ the main content, the \"full rendering\" will happen in\n",215],["T_WHITESPACE","      ",216],["T_COMMENT","\/\/ ::renderResponse().\n",216],["T_WHITESPACE","      ",217],["T_COMMENT","\/\/ @todo Remove this once https:\/\/www.drupal.org\/node\/2359901 lands.\n",217],["T_WHITESPACE","      ",218],["T_IF","if",218],["T_WHITESPACE"," ",218],"(","!",["T_EMPTY","empty",218],"(",["T_VARIABLE","$main_content",218],")",")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","renderer",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","executeInRenderContext",219],"(",["T_NEW","new",219],["T_WHITESPACE"," ",219],["T_STRING","RenderContext",219],"(",")",",",["T_WHITESPACE"," ",219],["T_FUNCTION","function",219],"(",")",["T_WHITESPACE"," ",219],["T_USE","use",219],["T_WHITESPACE"," ",219],"(","&",["T_VARIABLE","$main_content",219],")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n          ",219],["T_IF","if",220],["T_WHITESPACE"," ",220],"(",["T_ISSET","isset",220],"(",["T_VARIABLE","$main_content",220],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",220],"]","[",["T_CONSTANT_ENCAPSED_STRING","'keys'",220],"]",")",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n            ",220],["T_COMMENT","\/\/ Retain #title, otherwise, dynamically generated titles would be\n",221],["T_WHITESPACE","            ",222],["T_COMMENT","\/\/ missing for controllers whose entire returned render array is\n",222],["T_WHITESPACE","            ",223],["T_COMMENT","\/\/ render cached.\n",223],["T_WHITESPACE","            ",224],["T_VARIABLE","$main_content",224],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache_properties'",224],"]","[","]",["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'#title'",224],";",["T_WHITESPACE","\n          ",224],"}",["T_WHITESPACE","\n          ",225],["T_RETURN","return",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","renderer",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","render",226],"(",["T_VARIABLE","$main_content",226],",",["T_WHITESPACE"," ",226],["T_STRING","FALSE",226],")",";",["T_WHITESPACE","\n        ",226],"}",")",";",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$main_content",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","renderCache",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","getCacheableRenderArray",228],"(",["T_VARIABLE","$main_content",228],")",["T_WHITESPACE"," ",228],"+",["T_WHITESPACE"," ",228],"[",["T_WHITESPACE","\n          ",228],["T_CONSTANT_ENCAPSED_STRING","'#title'",229],["T_WHITESPACE"," ",229],["T_DOUBLE_ARROW","=>",229],["T_WHITESPACE"," ",229],["T_ISSET","isset",229],"(",["T_VARIABLE","$main_content",229],"[",["T_CONSTANT_ENCAPSED_STRING","'#title'",229],"]",")",["T_WHITESPACE"," ",229],"?",["T_WHITESPACE"," ",229],["T_VARIABLE","$main_content",229],"[",["T_CONSTANT_ENCAPSED_STRING","'#title'",229],"]",["T_WHITESPACE"," ",229],":",["T_WHITESPACE"," ",229],["T_STRING","NULL",229],["T_WHITESPACE","\n        ",229],"]",";",["T_WHITESPACE","\n      ",230],"}",["T_WHITESPACE","\n\n      ",231],["T_VARIABLE","$title",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$get_title",233],"(",["T_VARIABLE","$main_content",233],")",";",["T_WHITESPACE","\n\n      ",233],["T_COMMENT","\/\/ Instantiate the page display, and give it the main content.\n",235],["T_WHITESPACE","      ",236],["T_VARIABLE","$page_display",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","displayVariantManager",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","createInstance",236],"(",["T_VARIABLE","$variant_id",236],")",";",["T_WHITESPACE","\n      ",236],["T_IF","if",237],["T_WHITESPACE"," ",237],"(","!",["T_VARIABLE","$page_display",237],["T_WHITESPACE"," ",237],["T_INSTANCEOF","instanceof",237],["T_WHITESPACE"," ",237],["T_STRING","PageVariantInterface",237],")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n        ",237],["T_THROW","throw",238],["T_WHITESPACE"," ",238],["T_NEW","new",238],["T_WHITESPACE"," ",238],["T_NS_SEPARATOR","\\",238],["T_STRING","LogicException",238],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot render the main content for this page because the provided display variant does not implement PageVariantInterface.'",238],")",";",["T_WHITESPACE","\n      ",238],"}",["T_WHITESPACE","\n      ",239],["T_VARIABLE","$page_display",240],["T_WHITESPACE","\n        ",240],["T_OBJECT_OPERATOR","->",241],["T_STRING","setMainContent",241],"(",["T_VARIABLE","$main_content",241],")",["T_WHITESPACE","\n        ",241],["T_OBJECT_OPERATOR","->",242],["T_STRING","setTitle",242],"(",["T_VARIABLE","$title",242],")",["T_WHITESPACE","\n        ",242],["T_OBJECT_OPERATOR","->",243],["T_STRING","addCacheableDependency",243],"(",["T_VARIABLE","$event",243],")",["T_WHITESPACE","\n        ",243],["T_OBJECT_OPERATOR","->",244],["T_STRING","setConfiguration",244],"(",["T_VARIABLE","$event",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getPluginConfiguration",244],"(",")",")",";",["T_WHITESPACE","\n      ",244],["T_COMMENT","\/\/ Some display variants need to be passed an array of contexts with\n",245],["T_WHITESPACE","      ",246],["T_COMMENT","\/\/ values because they can't get all their contexts globally. For example,\n",246],["T_WHITESPACE","      ",247],["T_COMMENT","\/\/ in Page Manager, you can create a Page which has a specific static\n",247],["T_WHITESPACE","      ",248],["T_COMMENT","\/\/ context (e.g. a context that refers to the Node with nid 6), if any\n",248],["T_WHITESPACE","      ",249],["T_COMMENT","\/\/ such contexts were added to the $event, pass them to the $page_display.\n",249],["T_WHITESPACE","      ",250],["T_IF","if",250],["T_WHITESPACE"," ",250],"(",["T_VARIABLE","$page_display",250],["T_WHITESPACE"," ",250],["T_INSTANCEOF","instanceof",250],["T_WHITESPACE"," ",250],["T_STRING","ContextAwareVariantInterface",250],")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$page_display",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","setContexts",251],"(",["T_VARIABLE","$event",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getContexts",251],"(",")",")",";",["T_WHITESPACE","\n      ",251],"}",["T_WHITESPACE","\n\n      ",252],["T_COMMENT","\/\/ Generate a #type => page render array using the page display variant,\n",254],["T_WHITESPACE","      ",255],["T_COMMENT","\/\/ the page display will build the content for the various page regions.\n",255],["T_WHITESPACE","      ",256],["T_VARIABLE","$page",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_ARRAY","array",256],"(",["T_WHITESPACE","\n        ",256],["T_CONSTANT_ENCAPSED_STRING","'#type'",257],["T_WHITESPACE"," ",257],["T_DOUBLE_ARROW","=>",257],["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'page'",257],",",["T_WHITESPACE","\n      ",257],")",";",["T_WHITESPACE","\n      ",258],["T_VARIABLE","$page",259],["T_WHITESPACE"," ",259],["T_PLUS_EQUAL","+=",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$page_display",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","build",259],"(",")",";",["T_WHITESPACE","\n    ",259],"}",["T_WHITESPACE","\n\n    ",260],["T_COMMENT","\/\/ $page is now fully built. Find all non-empty page regions, and add a\n",262],["T_WHITESPACE","    ",263],["T_COMMENT","\/\/ theme wrapper function that allows them to be consistently themed.\n",263],["T_WHITESPACE","    ",264],["T_VARIABLE","$regions",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_NS_SEPARATOR","\\",264],["T_STRING","Drupal",264],["T_DOUBLE_COLON","::",264],["T_STRING","theme",264],"(",")",["T_OBJECT_OPERATOR","->",264],["T_STRING","getActiveTheme",264],"(",")",["T_OBJECT_OPERATOR","->",264],["T_STRING","getRegions",264],"(",")",";",["T_WHITESPACE","\n    ",264],["T_FOREACH","foreach",265],["T_WHITESPACE"," ",265],"(",["T_VARIABLE","$regions",265],["T_WHITESPACE"," ",265],["T_AS","as",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$region",265],")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n      ",265],["T_IF","if",266],["T_WHITESPACE"," ",266],"(","!",["T_EMPTY","empty",266],"(",["T_VARIABLE","$page",266],"[",["T_VARIABLE","$region",266],"]",")",")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n        ",266],["T_VARIABLE","$page",267],"[",["T_VARIABLE","$region",267],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#theme_wrappers'",267],"]","[","]",["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","'region'",267],";",["T_WHITESPACE","\n        ",267],["T_VARIABLE","$page",268],"[",["T_VARIABLE","$region",268],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#region'",268],"]",["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_VARIABLE","$region",268],";",["T_WHITESPACE","\n      ",268],"}",["T_WHITESPACE","\n    ",269],"}",["T_WHITESPACE","\n\n    ",270],["T_COMMENT","\/\/ Allow hooks to add attachments to $page['#attached'].\n",272],["T_WHITESPACE","    ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","invokePageAttachmentHooks",273],"(",["T_VARIABLE","$page",273],")",";",["T_WHITESPACE","\n\n    ",273],["T_RETURN","return",275],["T_WHITESPACE"," ",275],"[",["T_VARIABLE","$page",275],",",["T_WHITESPACE"," ",275],["T_VARIABLE","$title",275],"]",";",["T_WHITESPACE","\n  ",275],"}",["T_WHITESPACE","\n\n  ",276],["T_DOC_COMMENT","\/**\n   * Invokes the page attachment hooks.\n   *\n   * @param array &$page\n   *   A #type 'page' render array, for which the page attachment hooks will be\n   *   invoked and to which the results will be added.\n   *\n   * @throws \\LogicException\n   *\n   * @internal\n   *\n   * @see hook_page_attachments()\n   * @see hook_page_attachments_alter()\n   *\/",278],["T_WHITESPACE","\n  ",291],["T_PUBLIC","public",292],["T_WHITESPACE"," ",292],["T_FUNCTION","function",292],["T_WHITESPACE"," ",292],["T_STRING","invokePageAttachmentHooks",292],"(",["T_ARRAY","array",292],["T_WHITESPACE"," ",292],"&",["T_VARIABLE","$page",292],")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n    ",292],["T_COMMENT","\/\/ Modules can add attachments.\n",293],["T_WHITESPACE","    ",294],["T_VARIABLE","$attachments",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],"[","]",";",["T_WHITESPACE","\n    ",294],["T_FOREACH","foreach",295],["T_WHITESPACE"," ",295],"(",["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","moduleHandler",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","getImplementations",295],"(",["T_CONSTANT_ENCAPSED_STRING","'page_attachments'",295],")",["T_WHITESPACE"," ",295],["T_AS","as",295],["T_WHITESPACE"," ",295],["T_VARIABLE","$module",295],")",["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n      ",295],["T_VARIABLE","$function",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_VARIABLE","$module",296],["T_WHITESPACE"," ",296],".",["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","'_page_attachments'",296],";",["T_WHITESPACE","\n      ",296],["T_VARIABLE","$function",297],"(",["T_VARIABLE","$attachments",297],")",";",["T_WHITESPACE","\n    ",297],"}",["T_WHITESPACE","\n    ",298],["T_IF","if",299],["T_WHITESPACE"," ",299],"(",["T_STRING","array_diff",299],"(",["T_STRING","array_keys",299],"(",["T_VARIABLE","$attachments",299],")",",",["T_WHITESPACE"," ",299],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",299],",",["T_WHITESPACE"," ",299],["T_CONSTANT_ENCAPSED_STRING","'#cache'",299],"]",")",["T_WHITESPACE"," ",299],["T_IS_NOT_IDENTICAL","!==",299],["T_WHITESPACE"," ",299],"[","]",")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n      ",299],["T_THROW","throw",300],["T_WHITESPACE"," ",300],["T_NEW","new",300],["T_WHITESPACE"," ",300],["T_NS_SEPARATOR","\\",300],["T_STRING","LogicException",300],"(",["T_CONSTANT_ENCAPSED_STRING","'Only #attached and #cache may be set in hook_page_attachments().'",300],")",";",["T_WHITESPACE","\n    ",300],"}",["T_WHITESPACE","\n\n    ",301],["T_COMMENT","\/\/ Modules and themes can alter page attachments.\n",303],["T_WHITESPACE","    ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","moduleHandler",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","alter",304],"(",["T_CONSTANT_ENCAPSED_STRING","'page_attachments'",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$attachments",304],")",";",["T_WHITESPACE","\n    ",304],["T_NS_SEPARATOR","\\",305],["T_STRING","Drupal",305],["T_DOUBLE_COLON","::",305],["T_STRING","theme",305],"(",")",["T_OBJECT_OPERATOR","->",305],["T_STRING","alter",305],"(",["T_CONSTANT_ENCAPSED_STRING","'page_attachments'",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$attachments",305],")",";",["T_WHITESPACE","\n    ",305],["T_IF","if",306],["T_WHITESPACE"," ",306],"(",["T_STRING","array_diff",306],"(",["T_STRING","array_keys",306],"(",["T_VARIABLE","$attachments",306],")",",",["T_WHITESPACE"," ",306],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",306],",",["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","'#cache'",306],"]",")",["T_WHITESPACE"," ",306],["T_IS_NOT_IDENTICAL","!==",306],["T_WHITESPACE"," ",306],"[","]",")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n      ",306],["T_THROW","throw",307],["T_WHITESPACE"," ",307],["T_NEW","new",307],["T_WHITESPACE"," ",307],["T_NS_SEPARATOR","\\",307],["T_STRING","LogicException",307],"(",["T_CONSTANT_ENCAPSED_STRING","'Only #attached and #cache may be set in hook_page_attachments_alter().'",307],")",";",["T_WHITESPACE","\n    ",307],"}",["T_WHITESPACE","\n\n    ",308],["T_COMMENT","\/\/ Merge the attachments onto the $page render array.\n",310],["T_WHITESPACE","    ",311],["T_VARIABLE","$page",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","renderer",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","mergeBubbleableMetadata",311],"(",["T_VARIABLE","$page",311],",",["T_WHITESPACE"," ",311],["T_VARIABLE","$attachments",311],")",";",["T_WHITESPACE","\n  ",311],"}",["T_WHITESPACE","\n\n  ",312],["T_DOC_COMMENT","\/**\n   * Invokes the page top and bottom hooks.\n   *\n   * @param array &$html\n   *   A #type 'html' render array, for which the page top and bottom hooks will\n   *   be invoked, and to which the 'page_top' and 'page_bottom' children (also\n   *   render arrays) will be added (if non-empty).\n   *\n   * @throws \\LogicException\n   *\n   * @internal\n   *\n   * @see hook_page_top()\n   * @see hook_page_bottom()\n   * @see html.html.twig\n   *\/",314],["T_WHITESPACE","\n  ",329],["T_PUBLIC","public",330],["T_WHITESPACE"," ",330],["T_FUNCTION","function",330],["T_WHITESPACE"," ",330],["T_STRING","buildPageTopAndBottom",330],"(",["T_ARRAY","array",330],["T_WHITESPACE"," ",330],"&",["T_VARIABLE","$html",330],")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n    ",330],["T_COMMENT","\/\/ Modules can add render arrays to the top and bottom of the page.\n",331],["T_WHITESPACE","    ",332],["T_VARIABLE","$page_top",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],"[","]",";",["T_WHITESPACE","\n    ",332],["T_VARIABLE","$page_bottom",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],"[","]",";",["T_WHITESPACE","\n    ",333],["T_FOREACH","foreach",334],["T_WHITESPACE"," ",334],"(",["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","moduleHandler",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","getImplementations",334],"(",["T_CONSTANT_ENCAPSED_STRING","'page_top'",334],")",["T_WHITESPACE"," ",334],["T_AS","as",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$module",334],")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n      ",334],["T_VARIABLE","$function",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_VARIABLE","$module",335],["T_WHITESPACE"," ",335],".",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'_page_top'",335],";",["T_WHITESPACE","\n      ",335],["T_VARIABLE","$function",336],"(",["T_VARIABLE","$page_top",336],")",";",["T_WHITESPACE","\n    ",336],"}",["T_WHITESPACE","\n    ",337],["T_FOREACH","foreach",338],["T_WHITESPACE"," ",338],"(",["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","moduleHandler",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","getImplementations",338],"(",["T_CONSTANT_ENCAPSED_STRING","'page_bottom'",338],")",["T_WHITESPACE"," ",338],["T_AS","as",338],["T_WHITESPACE"," ",338],["T_VARIABLE","$module",338],")",["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n      ",338],["T_VARIABLE","$function",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_VARIABLE","$module",339],["T_WHITESPACE"," ",339],".",["T_WHITESPACE"," ",339],["T_CONSTANT_ENCAPSED_STRING","'_page_bottom'",339],";",["T_WHITESPACE","\n      ",339],["T_VARIABLE","$function",340],"(",["T_VARIABLE","$page_bottom",340],")",";",["T_WHITESPACE","\n    ",340],"}",["T_WHITESPACE","\n    ",341],["T_IF","if",342],["T_WHITESPACE"," ",342],"(","!",["T_EMPTY","empty",342],"(",["T_VARIABLE","$page_top",342],")",")",["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n      ",342],["T_VARIABLE","$html",343],"[",["T_CONSTANT_ENCAPSED_STRING","'page_top'",343],"]",["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_VARIABLE","$page_top",343],";",["T_WHITESPACE","\n    ",343],"}",["T_WHITESPACE","\n    ",344],["T_IF","if",345],["T_WHITESPACE"," ",345],"(","!",["T_EMPTY","empty",345],"(",["T_VARIABLE","$page_bottom",345],")",")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n      ",345],["T_VARIABLE","$html",346],"[",["T_CONSTANT_ENCAPSED_STRING","'page_bottom'",346],"]",["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_VARIABLE","$page_bottom",346],";",["T_WHITESPACE","\n    ",346],"}",["T_WHITESPACE","\n  ",347],"}",["T_WHITESPACE","\n\n",348],"}",["T_WHITESPACE","\n",350]]