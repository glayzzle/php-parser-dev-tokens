[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Render",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Asset",5],["T_NS_SEPARATOR","\\",5],["T_STRING","AssetCollectionRendererInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Asset",6],["T_NS_SEPARATOR","\\",6],["T_STRING","AssetResolverInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Asset",7],["T_NS_SEPARATOR","\\",7],["T_STRING","AttachedAssets",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Asset",8],["T_NS_SEPARATOR","\\",8],["T_STRING","AttachedAssetsInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Config",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ConfigFactoryInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Form",10],["T_NS_SEPARATOR","\\",10],["T_STRING","EnforcedResponseException",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Extension",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ModuleHandlerInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Utility",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Html",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Symfony",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Component",13],["T_NS_SEPARATOR","\\",13],["T_STRING","HttpFoundation",13],["T_NS_SEPARATOR","\\",13],["T_STRING","RequestStack",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Processes attachments of HTML responses.\n *\n * This class is used by the rendering service to process the #attached part of\n * the render array, for HTML responses.\n *\n * To render attachments to HTML for testing without a controller, use the\n * 'bare_html_page_renderer' service to generate a\n * Drupal\\Core\\Render\\HtmlResponse object. Then use its getContent(),\n * getStatusCode(), and\/or the headers property to access the result.\n *\n * @see template_preprocess_html()\n * @see \\Drupal\\Core\\Render\\AttachmentsResponseProcessorInterface\n * @see \\Drupal\\Core\\Render\\BareHtmlPageRenderer\n * @see \\Drupal\\Core\\Render\\HtmlResponse\n * @see \\Drupal\\Core\\Render\\MainContent\\HtmlRenderer\n *\/",15],["T_WHITESPACE","\n",31],["T_CLASS","class",32],["T_WHITESPACE"," ",32],["T_STRING","HtmlResponseAttachmentsProcessor",32],["T_WHITESPACE"," ",32],["T_IMPLEMENTS","implements",32],["T_WHITESPACE"," ",32],["T_STRING","AttachmentsResponseProcessorInterface",32],["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n\n  ",32],["T_DOC_COMMENT","\/**\n   * The asset resolver service.\n   *\n   * @var \\Drupal\\Core\\Asset\\AssetResolverInterface\n   *\/",34],["T_WHITESPACE","\n  ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$assetResolver",39],";",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * A config object for the system performance configuration.\n   *\n   * @var \\Drupal\\Core\\Config\\Config\n   *\/",41],["T_WHITESPACE","\n  ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$config",46],";",["T_WHITESPACE","\n\n  ",46],["T_DOC_COMMENT","\/**\n   * The CSS asset collection renderer service.\n   *\n   * @var \\Drupal\\Core\\Asset\\AssetCollectionRendererInterface\n   *\/",48],["T_WHITESPACE","\n  ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$cssCollectionRenderer",53],";",["T_WHITESPACE","\n\n  ",53],["T_DOC_COMMENT","\/**\n   * The JS asset collection renderer service.\n   *\n   * @var \\Drupal\\Core\\Asset\\AssetCollectionRendererInterface\n   *\/",55],["T_WHITESPACE","\n  ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$jsCollectionRenderer",60],";",["T_WHITESPACE","\n\n  ",60],["T_DOC_COMMENT","\/**\n   * The request stack.\n   *\n   * @var \\Symfony\\Component\\HttpFoundation\\RequestStack\n   *\/",62],["T_WHITESPACE","\n  ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$requestStack",67],";",["T_WHITESPACE","\n\n  ",67],["T_DOC_COMMENT","\/**\n   * The renderer.\n   *\n   * @var \\Drupal\\Core\\Render\\RendererInterface\n   *\/",69],["T_WHITESPACE","\n  ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$renderer",74],";",["T_WHITESPACE","\n\n  ",74],["T_DOC_COMMENT","\/**\n   * The module handler service.\n   *\n   * @var \\Drupal\\Core\\Extension\\ModuleHandlerInterface\n   *\/",76],["T_WHITESPACE","\n  ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$moduleHandler",81],";",["T_WHITESPACE","\n\n  ",81],["T_DOC_COMMENT","\/**\n   * Constructs a HtmlResponseAttachmentsProcessor object.\n   *\n   * @param \\Drupal\\Core\\Asset\\AssetResolverInterface $asset_resolver\n   *   An asset resolver.\n   * @param \\Drupal\\Core\\Config\\ConfigFactoryInterface $config_factory\n   *   A config factory for retrieving required config objects.\n   * @param \\Drupal\\Core\\Asset\\AssetCollectionRendererInterface $css_collection_renderer\n   *   The CSS asset collection renderer.\n   * @param \\Drupal\\Core\\Asset\\AssetCollectionRendererInterface $js_collection_renderer\n   *   The JS asset collection renderer.\n   * @param \\Symfony\\Component\\HttpFoundation\\RequestStack $request_stack\n   *   The request stack.\n   * @param \\Drupal\\Core\\Render\\RendererInterface $renderer\n   *   The renderer.\n   * @param \\Drupal\\Core\\Extension\\ModuleHandlerInterface $module_handler\n   *   The module handler service.\n   *\/",83],["T_WHITESPACE","\n  ",100],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","__construct",101],"(",["T_STRING","AssetResolverInterface",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$asset_resolver",101],",",["T_WHITESPACE"," ",101],["T_STRING","ConfigFactoryInterface",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$config_factory",101],",",["T_WHITESPACE"," ",101],["T_STRING","AssetCollectionRendererInterface",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$css_collection_renderer",101],",",["T_WHITESPACE"," ",101],["T_STRING","AssetCollectionRendererInterface",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$js_collection_renderer",101],",",["T_WHITESPACE"," ",101],["T_STRING","RequestStack",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$request_stack",101],",",["T_WHITESPACE"," ",101],["T_STRING","RendererInterface",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$renderer",101],",",["T_WHITESPACE"," ",101],["T_STRING","ModuleHandlerInterface",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$module_handler",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assetResolver",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$asset_resolver",102],";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","config",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$config_factory",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","get",103],"(",["T_CONSTANT_ENCAPSED_STRING","'system.performance'",103],")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","cssCollectionRenderer",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$css_collection_renderer",104],";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","jsCollectionRenderer",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$js_collection_renderer",105],";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","requestStack",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$request_stack",106],";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","renderer",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$renderer",107],";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","moduleHandler",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$module_handler",108],";",["T_WHITESPACE","\n  ",108],"}",["T_WHITESPACE","\n\n  ",109],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",111],["T_WHITESPACE","\n  ",113],["T_PUBLIC","public",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","processAttachments",114],"(",["T_STRING","AttachmentsInterface",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$response",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n    ",114],["T_COMMENT","\/\/ @todo Convert to assertion once https:\/\/www.drupal.org\/node\/2408013 lands\n",115],["T_WHITESPACE","    ",116],["T_IF","if",116],["T_WHITESPACE"," ",116],"(","!",["T_VARIABLE","$response",116],["T_WHITESPACE"," ",116],["T_INSTANCEOF","instanceof",116],["T_WHITESPACE"," ",116],["T_STRING","HtmlResponse",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n      ",116],["T_THROW","throw",117],["T_WHITESPACE"," ",117],["T_NEW","new",117],["T_WHITESPACE"," ",117],["T_NS_SEPARATOR","\\",117],["T_STRING","InvalidArgumentException",117],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Core\\Render\\HtmlResponse instance expected.'",117],")",";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_COMMENT","\/\/ First, render the actual placeholders; this may cause additional\n",120],["T_WHITESPACE","    ",121],["T_COMMENT","\/\/ attachments to be added to the response, which the attachment\n",121],["T_WHITESPACE","    ",122],["T_COMMENT","\/\/ placeholders rendered by renderHtmlResponseAttachmentPlaceholders() will\n",122],["T_WHITESPACE","    ",123],["T_COMMENT","\/\/ need to include.\n",123],["T_WHITESPACE","    ",124],["T_COMMENT","\/\/\n",124],["T_WHITESPACE","    ",125],["T_COMMENT","\/\/ @todo Exceptions should not be used for code flow control. However, the\n",125],["T_WHITESPACE","    ",126],["T_COMMENT","\/\/   Form API does not integrate with the HTTP Kernel based architecture of\n",126],["T_WHITESPACE","    ",127],["T_COMMENT","\/\/   Drupal 8. In order to resolve this issue properly it is necessary to\n",127],["T_WHITESPACE","    ",128],["T_COMMENT","\/\/   completely separate form submission from rendering.\n",128],["T_WHITESPACE","    ",129],["T_COMMENT","\/\/   @see https:\/\/www.drupal.org\/node\/2367555\n",129],["T_WHITESPACE","    ",130],["T_TRY","try",130],["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n      ",130],["T_VARIABLE","$response",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","renderPlaceholders",131],"(",["T_VARIABLE","$response",131],")",";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n    ",132],["T_CATCH","catch",133],["T_WHITESPACE"," ",133],"(",["T_STRING","EnforcedResponseException",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$e",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n      ",133],["T_RETURN","return",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$e",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getResponse",134],"(",")",";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_COMMENT","\/\/ Get a reference to the attachments.\n",137],["T_WHITESPACE","    ",138],["T_VARIABLE","$attached",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$response",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getAttachments",138],"(",")",";",["T_WHITESPACE","\n\n    ",138],["T_COMMENT","\/\/ Send a message back if the render array has unsupported #attached types.\n",140],["T_WHITESPACE","    ",141],["T_VARIABLE","$unsupported_types",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING","array_diff",141],"(",["T_WHITESPACE","\n      ",141],["T_STRING","array_keys",142],"(",["T_VARIABLE","$attached",142],")",",",["T_WHITESPACE","\n      ",142],"[",["T_CONSTANT_ENCAPSED_STRING","'html_head'",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'feed'",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'html_head_link'",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'http_header'",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'library'",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'html_response_attachment_placeholders'",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'placeholders'",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'drupalSettings'",143],"]",["T_WHITESPACE","\n    ",143],")",";",["T_WHITESPACE","\n    ",144],["T_IF","if",145],["T_WHITESPACE"," ",145],"(","!",["T_EMPTY","empty",145],"(",["T_VARIABLE","$unsupported_types",145],")",")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n      ",145],["T_THROW","throw",146],["T_WHITESPACE"," ",146],["T_NEW","new",146],["T_WHITESPACE"," ",146],["T_NS_SEPARATOR","\\",146],["T_STRING","LogicException",146],"(",["T_STRING","sprintf",146],"(",["T_CONSTANT_ENCAPSED_STRING","'You are not allowed to use %s in #attached.'",146],",",["T_WHITESPACE"," ",146],["T_STRING","implode",146],"(",["T_CONSTANT_ENCAPSED_STRING","', '",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$unsupported_types",146],")",")",")",";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n\n    ",147],["T_COMMENT","\/\/ If we don't have any placeholders, there is no need to proceed.\n",149],["T_WHITESPACE","    ",150],["T_IF","if",150],["T_WHITESPACE"," ",150],"(","!",["T_EMPTY","empty",150],"(",["T_VARIABLE","$attached",150],"[",["T_CONSTANT_ENCAPSED_STRING","'html_response_attachment_placeholders'",150],"]",")",")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n      ",150],["T_COMMENT","\/\/ Get the placeholders from attached and then remove them.\n",151],["T_WHITESPACE","      ",152],["T_VARIABLE","$attachment_placeholders",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$attached",152],"[",["T_CONSTANT_ENCAPSED_STRING","'html_response_attachment_placeholders'",152],"]",";",["T_WHITESPACE","\n      ",152],["T_UNSET","unset",153],"(",["T_VARIABLE","$attached",153],"[",["T_CONSTANT_ENCAPSED_STRING","'html_response_attachment_placeholders'",153],"]",")",";",["T_WHITESPACE","\n\n      ",153],["T_VARIABLE","$assets",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_STRING","AttachedAssets",155],["T_DOUBLE_COLON","::",155],["T_STRING","createFromRenderArray",155],"(","[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$attached",155],"]",")",";",["T_WHITESPACE","\n      ",155],["T_COMMENT","\/\/ Take Ajax page state into account, to allow for something like\n",156],["T_WHITESPACE","      ",157],["T_COMMENT","\/\/ Turbolinks to be implemented without altering core.\n",157],["T_WHITESPACE","      ",158],["T_COMMENT","\/\/ @see https:\/\/github.com\/rails\/turbolinks\/\n",158],["T_WHITESPACE","      ",159],["T_VARIABLE","$ajax_page_state",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","requestStack",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getCurrentRequest",159],"(",")",["T_OBJECT_OPERATOR","->",159],["T_STRING","get",159],"(",["T_CONSTANT_ENCAPSED_STRING","'ajax_page_state'",159],")",";",["T_WHITESPACE","\n      ",159],["T_VARIABLE","$assets",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","setAlreadyLoadedLibraries",160],"(",["T_ISSET","isset",160],"(",["T_VARIABLE","$ajax_page_state",160],")",["T_WHITESPACE"," ",160],"?",["T_WHITESPACE"," ",160],["T_STRING","explode",160],"(",["T_CONSTANT_ENCAPSED_STRING","','",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$ajax_page_state",160],"[",["T_CONSTANT_ENCAPSED_STRING","'libraries'",160],"]",")",["T_WHITESPACE"," ",160],":",["T_WHITESPACE"," ",160],"[","]",")",";",["T_WHITESPACE","\n      ",160],["T_VARIABLE","$variables",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","processAssetLibraries",161],"(",["T_VARIABLE","$assets",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$attachment_placeholders",161],")",";",["T_WHITESPACE","\n      ",161],["T_COMMENT","\/\/ $variables now contains the markup to load the asset libraries. Update\n",162],["T_WHITESPACE","      ",163],["T_COMMENT","\/\/ $attached with the final list of libraries and JavaScript settings, so\n",163],["T_WHITESPACE","      ",164],["T_COMMENT","\/\/ that $response can be updated with those. Then the response object will\n",164],["T_WHITESPACE","      ",165],["T_COMMENT","\/\/ list the final, processed attachments.\n",165],["T_WHITESPACE","      ",166],["T_VARIABLE","$attached",166],"[",["T_CONSTANT_ENCAPSED_STRING","'library'",166],"]",["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$assets",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getLibraries",166],"(",")",";",["T_WHITESPACE","\n      ",166],["T_VARIABLE","$attached",167],"[",["T_CONSTANT_ENCAPSED_STRING","'drupalSettings'",167],"]",["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$assets",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getSettings",167],"(",")",";",["T_WHITESPACE","\n\n      ",167],["T_COMMENT","\/\/ Since we can only replace content in the HTML head section if there's a\n",169],["T_WHITESPACE","      ",170],["T_COMMENT","\/\/ placeholder for it, we can safely avoid processing the render array if\n",170],["T_WHITESPACE","      ",171],["T_COMMENT","\/\/ it's not present.\n",171],["T_WHITESPACE","      ",172],["T_IF","if",172],["T_WHITESPACE"," ",172],"(","!",["T_EMPTY","empty",172],"(",["T_VARIABLE","$attachment_placeholders",172],"[",["T_CONSTANT_ENCAPSED_STRING","'head'",172],"]",")",")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n        ",172],["T_COMMENT","\/\/ 'feed' is a special case of 'html_head_link'. We process them into\n",173],["T_WHITESPACE","        ",174],["T_COMMENT","\/\/ 'html_head_link' entries and merge them.\n",174],["T_WHITESPACE","        ",175],["T_IF","if",175],["T_WHITESPACE"," ",175],"(","!",["T_EMPTY","empty",175],"(",["T_VARIABLE","$attached",175],"[",["T_CONSTANT_ENCAPSED_STRING","'feed'",175],"]",")",")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n          ",175],["T_VARIABLE","$attached",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING","BubbleableMetadata",176],["T_DOUBLE_COLON","::",176],["T_STRING","mergeAttachments",176],"(",["T_WHITESPACE","\n            ",176],["T_VARIABLE","$attached",177],",",["T_WHITESPACE","\n            ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","processFeed",178],"(",["T_VARIABLE","$attached",178],"[",["T_CONSTANT_ENCAPSED_STRING","'feed'",178],"]",")",["T_WHITESPACE","\n          ",178],")",";",["T_WHITESPACE","\n          ",179],["T_UNSET","unset",180],"(",["T_VARIABLE","$attached",180],"[",["T_CONSTANT_ENCAPSED_STRING","'feed'",180],"]",")",";",["T_WHITESPACE","\n        ",180],"}",["T_WHITESPACE","\n        ",181],["T_COMMENT","\/\/ 'html_head_link' is a special case of 'html_head' which can be present\n",182],["T_WHITESPACE","        ",183],["T_COMMENT","\/\/ as a head element, but also as a Link: HTTP header depending on\n",183],["T_WHITESPACE","        ",184],["T_COMMENT","\/\/ settings in the render array. Processing it can add to both the\n",184],["T_WHITESPACE","        ",185],["T_COMMENT","\/\/ 'html_head' and 'http_header' keys of '#attached', so we must address\n",185],["T_WHITESPACE","        ",186],["T_COMMENT","\/\/ it before 'html_head'.\n",186],["T_WHITESPACE","        ",187],["T_IF","if",187],["T_WHITESPACE"," ",187],"(","!",["T_EMPTY","empty",187],"(",["T_VARIABLE","$attached",187],"[",["T_CONSTANT_ENCAPSED_STRING","'html_head_link'",187],"]",")",")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n          ",187],["T_COMMENT","\/\/ Merge the processed 'html_head_link' into $attached so that its\n",188],["T_WHITESPACE","          ",189],["T_COMMENT","\/\/ 'html_head' and 'http_header' values are present for further\n",189],["T_WHITESPACE","          ",190],["T_COMMENT","\/\/ processing.\n",190],["T_WHITESPACE","          ",191],["T_VARIABLE","$attached",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_STRING","BubbleableMetadata",191],["T_DOUBLE_COLON","::",191],["T_STRING","mergeAttachments",191],"(",["T_WHITESPACE","\n            ",191],["T_VARIABLE","$attached",192],",",["T_WHITESPACE","\n            ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","processHtmlHeadLink",193],"(",["T_VARIABLE","$attached",193],"[",["T_CONSTANT_ENCAPSED_STRING","'html_head_link'",193],"]",")",["T_WHITESPACE","\n          ",193],")",";",["T_WHITESPACE","\n          ",194],["T_UNSET","unset",195],"(",["T_VARIABLE","$attached",195],"[",["T_CONSTANT_ENCAPSED_STRING","'html_head_link'",195],"]",")",";",["T_WHITESPACE","\n        ",195],"}",["T_WHITESPACE","\n\n        ",196],["T_COMMENT","\/\/ Now we can process 'html_head', which contains both 'feed' and\n",198],["T_WHITESPACE","        ",199],["T_COMMENT","\/\/ 'html_head_link'.\n",199],["T_WHITESPACE","        ",200],["T_IF","if",200],["T_WHITESPACE"," ",200],"(","!",["T_EMPTY","empty",200],"(",["T_VARIABLE","$attached",200],"[",["T_CONSTANT_ENCAPSED_STRING","'html_head'",200],"]",")",")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n          ",200],["T_VARIABLE","$variables",201],"[",["T_CONSTANT_ENCAPSED_STRING","'head'",201],"]",["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","processHtmlHead",201],"(",["T_VARIABLE","$attached",201],"[",["T_CONSTANT_ENCAPSED_STRING","'html_head'",201],"]",")",";",["T_WHITESPACE","\n        ",201],"}",["T_WHITESPACE","\n      ",202],"}",["T_WHITESPACE","\n\n      ",203],["T_COMMENT","\/\/ Now replace the attachment placeholders.\n",205],["T_WHITESPACE","      ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","renderHtmlResponseAttachmentPlaceholders",206],"(",["T_VARIABLE","$response",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$attachment_placeholders",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$variables",206],")",";",["T_WHITESPACE","\n    ",206],"}",["T_WHITESPACE","\n\n    ",207],["T_COMMENT","\/\/ Set the HTTP headers and status code on the response if any bubbled.\n",209],["T_WHITESPACE","    ",210],["T_IF","if",210],["T_WHITESPACE"," ",210],"(","!",["T_EMPTY","empty",210],"(",["T_VARIABLE","$attached",210],"[",["T_CONSTANT_ENCAPSED_STRING","'http_header'",210],"]",")",")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n      ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","setHeaders",211],"(",["T_VARIABLE","$response",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$attached",211],"[",["T_CONSTANT_ENCAPSED_STRING","'http_header'",211],"]",")",";",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n\n    ",212],["T_COMMENT","\/\/ AttachmentsResponseProcessorInterface mandates that the response it\n",214],["T_WHITESPACE","    ",215],["T_COMMENT","\/\/ processes contains the final attachment values.\n",215],["T_WHITESPACE","    ",216],["T_VARIABLE","$response",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","setAttachments",216],"(",["T_VARIABLE","$attached",216],")",";",["T_WHITESPACE","\n\n    ",216],["T_RETURN","return",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$response",218],";",["T_WHITESPACE","\n  ",218],"}",["T_WHITESPACE","\n\n  ",219],["T_DOC_COMMENT","\/**\n   * Renders placeholders (#attached['placeholders']).\n   *\n   * First, the HTML response object is converted to an equivalent render array,\n   * with #markup being set to the response's content and #attached being set to\n   * the response's attachments. Among these attachments, there may be\n   * placeholders that need to be rendered (replaced).\n   *\n   * Next, RendererInterface::renderRoot() is called, which renders the\n   * placeholders into their final markup.\n   *\n   * The markup that results from RendererInterface::renderRoot() is now the\n   * original HTML response's content, but with the placeholders rendered. We\n   * overwrite the existing content in the original HTML response object with\n   * this markup. The markup that was rendered for the placeholders may also\n   * have attachments (e.g. for CSS\/JS assets) itself, and cacheability metadata\n   * that indicates what that markup depends on. That metadata is also added to\n   * the HTML response object.\n   *\n   * @param \\Drupal\\Core\\Render\\HtmlResponse $response\n   *   The HTML response whose placeholders are being replaced.\n   *\n   * @return \\Drupal\\Core\\Render\\HtmlResponse\n   *   The updated HTML response, with replaced placeholders.\n   *\n   * @see \\Drupal\\Core\\Render\\Renderer::replacePlaceholders()\n   * @see \\Drupal\\Core\\Render\\Renderer::renderPlaceholder()\n   *\/",221],["T_WHITESPACE","\n  ",248],["T_PROTECTED","protected",249],["T_WHITESPACE"," ",249],["T_FUNCTION","function",249],["T_WHITESPACE"," ",249],["T_STRING","renderPlaceholders",249],"(",["T_STRING","HtmlResponse",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$response",249],")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n    ",249],["T_VARIABLE","$build",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],"[",["T_WHITESPACE","\n      ",250],["T_CONSTANT_ENCAPSED_STRING","'#markup'",251],["T_WHITESPACE"," ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],["T_STRING","Markup",251],["T_DOUBLE_COLON","::",251],["T_STRING","create",251],"(",["T_VARIABLE","$response",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getContent",251],"(",")",")",",",["T_WHITESPACE","\n      ",251],["T_CONSTANT_ENCAPSED_STRING","'#attached'",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$response",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","getAttachments",252],"(",")",",",["T_WHITESPACE","\n    ",252],"]",";",["T_WHITESPACE","\n    ",253],["T_COMMENT","\/\/ RendererInterface::renderRoot() renders the $build render array and\n",254],["T_WHITESPACE","    ",255],["T_COMMENT","\/\/ updates it in place. We don't care about the return value (which is just\n",255],["T_WHITESPACE","    ",256],["T_COMMENT","\/\/ $build['#markup']), but about the resulting render array.\n",256],["T_WHITESPACE","    ",257],["T_COMMENT","\/\/ @todo Simplify this when https:\/\/www.drupal.org\/node\/2495001 lands.\n",257],["T_WHITESPACE","    ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","renderer",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","renderRoot",258],"(",["T_VARIABLE","$build",258],")",";",["T_WHITESPACE","\n\n    ",258],["T_COMMENT","\/\/ Update the Response object now that the placeholders have been rendered.\n",260],["T_WHITESPACE","    ",261],["T_VARIABLE","$placeholders_bubbleable_metadata",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_STRING","BubbleableMetadata",261],["T_DOUBLE_COLON","::",261],["T_STRING","createFromRenderArray",261],"(",["T_VARIABLE","$build",261],")",";",["T_WHITESPACE","\n    ",261],["T_VARIABLE","$response",262],["T_WHITESPACE","\n      ",262],["T_OBJECT_OPERATOR","->",263],["T_STRING","setContent",263],"(",["T_VARIABLE","$build",263],"[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",263],"]",")",["T_WHITESPACE","\n      ",263],["T_OBJECT_OPERATOR","->",264],["T_STRING","addCacheableDependency",264],"(",["T_VARIABLE","$placeholders_bubbleable_metadata",264],")",["T_WHITESPACE","\n      ",264],["T_OBJECT_OPERATOR","->",265],["T_STRING","setAttachments",265],"(",["T_VARIABLE","$placeholders_bubbleable_metadata",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","getAttachments",265],"(",")",")",";",["T_WHITESPACE","\n\n    ",265],["T_RETURN","return",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$response",267],";",["T_WHITESPACE","\n  ",267],"}",["T_WHITESPACE","\n\n  ",268],["T_DOC_COMMENT","\/**\n   * Processes asset libraries into render arrays.\n   *\n   * @param \\Drupal\\Core\\Asset\\AttachedAssetsInterface $assets\n   *   The attached assets collection for the current response.\n   * @param array $placeholders\n   *   The placeholders that exist in the response.\n   *\n   * @return array\n   *   An array keyed by asset type, with keys:\n   *     - styles\n   *     - scripts\n   *     - scripts_bottom\n   *\/",270],["T_WHITESPACE","\n  ",283],["T_PROTECTED","protected",284],["T_WHITESPACE"," ",284],["T_FUNCTION","function",284],["T_WHITESPACE"," ",284],["T_STRING","processAssetLibraries",284],"(",["T_STRING","AttachedAssetsInterface",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$assets",284],",",["T_WHITESPACE"," ",284],["T_ARRAY","array",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$placeholders",284],")",["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n    ",284],["T_VARIABLE","$variables",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],"[","]",";",["T_WHITESPACE","\n\n    ",285],["T_COMMENT","\/\/ Print styles - if present.\n",287],["T_WHITESPACE","    ",288],["T_IF","if",288],["T_WHITESPACE"," ",288],"(",["T_ISSET","isset",288],"(",["T_VARIABLE","$placeholders",288],"[",["T_CONSTANT_ENCAPSED_STRING","'styles'",288],"]",")",")",["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n      ",288],["T_COMMENT","\/\/ Optimize CSS if necessary, but only during normal site operation.\n",289],["T_WHITESPACE","      ",290],["T_VARIABLE","$optimize_css",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],"!",["T_STRING","defined",290],"(",["T_CONSTANT_ENCAPSED_STRING","'MAINTENANCE_MODE'",290],")",["T_WHITESPACE"," ",290],["T_BOOLEAN_AND","&&",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","config",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","get",290],"(",["T_CONSTANT_ENCAPSED_STRING","'css.preprocess'",290],")",";",["T_WHITESPACE","\n      ",290],["T_VARIABLE","$variables",291],"[",["T_CONSTANT_ENCAPSED_STRING","'styles'",291],"]",["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","cssCollectionRenderer",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","render",291],"(",["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","assetResolver",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","getCssAssets",291],"(",["T_VARIABLE","$assets",291],",",["T_WHITESPACE"," ",291],["T_VARIABLE","$optimize_css",291],")",")",";",["T_WHITESPACE","\n    ",291],"}",["T_WHITESPACE","\n\n    ",292],["T_COMMENT","\/\/ Print scripts - if any are present.\n",294],["T_WHITESPACE","    ",295],["T_IF","if",295],["T_WHITESPACE"," ",295],"(",["T_ISSET","isset",295],"(",["T_VARIABLE","$placeholders",295],"[",["T_CONSTANT_ENCAPSED_STRING","'scripts'",295],"]",")",["T_WHITESPACE"," ",295],["T_BOOLEAN_OR","||",295],["T_WHITESPACE"," ",295],["T_ISSET","isset",295],"(",["T_VARIABLE","$placeholders",295],"[",["T_CONSTANT_ENCAPSED_STRING","'scripts_bottom'",295],"]",")",")",["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n      ",295],["T_COMMENT","\/\/ Optimize JS if necessary, but only during normal site operation.\n",296],["T_WHITESPACE","      ",297],["T_VARIABLE","$optimize_js",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],"!",["T_STRING","defined",297],"(",["T_CONSTANT_ENCAPSED_STRING","'MAINTENANCE_MODE'",297],")",["T_WHITESPACE"," ",297],["T_BOOLEAN_AND","&&",297],["T_WHITESPACE"," ",297],"!",["T_NS_SEPARATOR","\\",297],["T_STRING","Drupal",297],["T_DOUBLE_COLON","::",297],["T_STRING","state",297],"(",")",["T_OBJECT_OPERATOR","->",297],["T_STRING","get",297],"(",["T_CONSTANT_ENCAPSED_STRING","'system.maintenance_mode'",297],")",["T_WHITESPACE"," ",297],["T_BOOLEAN_AND","&&",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","config",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","get",297],"(",["T_CONSTANT_ENCAPSED_STRING","'js.preprocess'",297],")",";",["T_WHITESPACE","\n      ",297],["T_LIST","list",298],"(",["T_VARIABLE","$js_assets_header",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$js_assets_footer",298],")",["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","assetResolver",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","getJsAssets",298],"(",["T_VARIABLE","$assets",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$optimize_js",298],")",";",["T_WHITESPACE","\n      ",298],["T_VARIABLE","$variables",299],"[",["T_CONSTANT_ENCAPSED_STRING","'scripts'",299],"]",["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","jsCollectionRenderer",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","render",299],"(",["T_VARIABLE","$js_assets_header",299],")",";",["T_WHITESPACE","\n      ",299],["T_VARIABLE","$variables",300],"[",["T_CONSTANT_ENCAPSED_STRING","'scripts_bottom'",300],"]",["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","jsCollectionRenderer",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","render",300],"(",["T_VARIABLE","$js_assets_footer",300],")",";",["T_WHITESPACE","\n    ",300],"}",["T_WHITESPACE","\n\n    ",301],["T_RETURN","return",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$variables",303],";",["T_WHITESPACE","\n  ",303],"}",["T_WHITESPACE","\n\n  ",304],["T_DOC_COMMENT","\/**\n   * Renders HTML response attachment placeholders.\n   *\n   * This is the last step where all of the attachments are placed into the\n   * response object's contents.\n   *\n   * @param \\Drupal\\Core\\Render\\HtmlResponse $response\n   *   The HTML response to update.\n   * @param array $placeholders\n   *   An array of placeholders, keyed by type with the placeholders\n   *   present in the content of the response as values.\n   * @param array $variables\n   *   The variables to render and replace, keyed by type with renderable\n   *   arrays as values.\n   *\/",306],["T_WHITESPACE","\n  ",320],["T_PROTECTED","protected",321],["T_WHITESPACE"," ",321],["T_FUNCTION","function",321],["T_WHITESPACE"," ",321],["T_STRING","renderHtmlResponseAttachmentPlaceholders",321],"(",["T_STRING","HtmlResponse",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$response",321],",",["T_WHITESPACE"," ",321],["T_ARRAY","array",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$placeholders",321],",",["T_WHITESPACE"," ",321],["T_ARRAY","array",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$variables",321],")",["T_WHITESPACE"," ",321],"{",["T_WHITESPACE","\n    ",321],["T_VARIABLE","$content",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_VARIABLE","$response",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","getContent",322],"(",")",";",["T_WHITESPACE","\n    ",322],["T_FOREACH","foreach",323],["T_WHITESPACE"," ",323],"(",["T_VARIABLE","$placeholders",323],["T_WHITESPACE"," ",323],["T_AS","as",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$type",323],["T_WHITESPACE"," ",323],["T_DOUBLE_ARROW","=>",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$placeholder",323],")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n      ",323],["T_IF","if",324],["T_WHITESPACE"," ",324],"(",["T_ISSET","isset",324],"(",["T_VARIABLE","$variables",324],"[",["T_VARIABLE","$type",324],"]",")",")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n        ",324],["T_VARIABLE","$content",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_STRING","str_replace",325],"(",["T_VARIABLE","$placeholder",325],",",["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","renderer",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","renderPlain",325],"(",["T_VARIABLE","$variables",325],"[",["T_VARIABLE","$type",325],"]",")",",",["T_WHITESPACE"," ",325],["T_VARIABLE","$content",325],")",";",["T_WHITESPACE","\n      ",325],"}",["T_WHITESPACE","\n    ",326],"}",["T_WHITESPACE","\n    ",327],["T_VARIABLE","$response",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","setContent",328],"(",["T_VARIABLE","$content",328],")",";",["T_WHITESPACE","\n  ",328],"}",["T_WHITESPACE","\n\n  ",329],["T_DOC_COMMENT","\/**\n   * Sets headers on a response object.\n   *\n   * @param \\Drupal\\Core\\Render\\HtmlResponse $response\n   *   The HTML response to update.\n   * @param array $headers\n   *   The headers to set, as an array. The items in this array should be as\n   *   follows:\n   *   - The header name.\n   *   - The header value.\n   *   - (optional) Whether to replace a current value with the new one, or add\n   *     it to the others. If the value is not replaced, it will be appended,\n   *     resulting in a header like this: 'Header: value1,value2'\n   *\/",331],["T_WHITESPACE","\n  ",344],["T_PROTECTED","protected",345],["T_WHITESPACE"," ",345],["T_FUNCTION","function",345],["T_WHITESPACE"," ",345],["T_STRING","setHeaders",345],"(",["T_STRING","HtmlResponse",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$response",345],",",["T_WHITESPACE"," ",345],["T_ARRAY","array",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$headers",345],")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n    ",345],["T_FOREACH","foreach",346],["T_WHITESPACE"," ",346],"(",["T_VARIABLE","$headers",346],["T_WHITESPACE"," ",346],["T_AS","as",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$values",346],")",["T_WHITESPACE"," ",346],"{",["T_WHITESPACE","\n      ",346],["T_VARIABLE","$name",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_VARIABLE","$values",347],"[",["T_LNUMBER","0",347],"]",";",["T_WHITESPACE","\n      ",347],["T_VARIABLE","$value",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_VARIABLE","$values",348],"[",["T_LNUMBER","1",348],"]",";",["T_WHITESPACE","\n      ",348],["T_VARIABLE","$replace",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],"!",["T_EMPTY","empty",349],"(",["T_VARIABLE","$values",349],"[",["T_LNUMBER","2",349],"]",")",";",["T_WHITESPACE","\n\n      ",349],["T_COMMENT","\/\/ Drupal treats the HTTP response status code like a header, even though\n",351],["T_WHITESPACE","      ",352],["T_COMMENT","\/\/ it really is not.\n",352],["T_WHITESPACE","      ",353],["T_IF","if",353],["T_WHITESPACE"," ",353],"(",["T_STRING","strtolower",353],"(",["T_VARIABLE","$name",353],")",["T_WHITESPACE"," ",353],["T_IS_IDENTICAL","===",353],["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","'status'",353],")",["T_WHITESPACE"," ",353],"{",["T_WHITESPACE","\n        ",353],["T_VARIABLE","$response",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","setStatusCode",354],"(",["T_VARIABLE","$value",354],")",";",["T_WHITESPACE","\n      ",354],"}",["T_WHITESPACE","\n      ",355],["T_ELSE","else",356],["T_WHITESPACE"," ",356],"{",["T_WHITESPACE","\n        ",356],["T_VARIABLE","$response",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","headers",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","set",357],"(",["T_VARIABLE","$name",357],",",["T_WHITESPACE"," ",357],["T_VARIABLE","$value",357],",",["T_WHITESPACE"," ",357],["T_VARIABLE","$replace",357],")",";",["T_WHITESPACE","\n      ",357],"}",["T_WHITESPACE","\n    ",358],"}",["T_WHITESPACE","\n  ",359],"}",["T_WHITESPACE","\n\n  ",360],["T_DOC_COMMENT","\/**\n   * Ensure proper key\/data order and defaults for renderable head items.\n   *\n   * @param array $html_head\n   *   The ['#attached']['html_head'] portion of a render array.\n   *\n   * @return array\n   *   The ['#attached']['html_head'] portion of a render array with #type of\n   *   html_tag added for items without a #type.\n   *\/",362],["T_WHITESPACE","\n  ",371],["T_PROTECTED","protected",372],["T_WHITESPACE"," ",372],["T_FUNCTION","function",372],["T_WHITESPACE"," ",372],["T_STRING","processHtmlHead",372],"(",["T_ARRAY","array",372],["T_WHITESPACE"," ",372],["T_VARIABLE","$html_head",372],")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n    ",372],["T_VARIABLE","$head",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],"[","]",";",["T_WHITESPACE","\n    ",373],["T_FOREACH","foreach",374],["T_WHITESPACE"," ",374],"(",["T_VARIABLE","$html_head",374],["T_WHITESPACE"," ",374],["T_AS","as",374],["T_WHITESPACE"," ",374],["T_VARIABLE","$item",374],")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n      ",374],["T_LIST","list",375],"(",["T_VARIABLE","$data",375],",",["T_WHITESPACE"," ",375],["T_VARIABLE","$key",375],")",["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_VARIABLE","$item",375],";",["T_WHITESPACE","\n      ",375],["T_IF","if",376],["T_WHITESPACE"," ",376],"(","!",["T_ISSET","isset",376],"(",["T_VARIABLE","$data",376],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",376],"]",")",")",["T_WHITESPACE"," ",376],"{",["T_WHITESPACE","\n        ",376],["T_VARIABLE","$data",377],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",377],"]",["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","'html_tag'",377],";",["T_WHITESPACE","\n      ",377],"}",["T_WHITESPACE","\n      ",378],["T_VARIABLE","$head",379],"[",["T_VARIABLE","$key",379],"]",["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_VARIABLE","$data",379],";",["T_WHITESPACE","\n    ",379],"}",["T_WHITESPACE","\n    ",380],["T_RETURN","return",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$head",381],";",["T_WHITESPACE","\n  ",381],"}",["T_WHITESPACE","\n\n  ",382],["T_DOC_COMMENT","\/**\n   * Transform a html_head_link array into html_head and http_header arrays.\n   *\n   * html_head_link is a special case of html_head which can be present as\n   * a link item in the HTML head section, and also as a Link: HTTP header,\n   * depending on options in the render array. Processing it can add to both the\n   * html_head and http_header sections.\n   *\n   * @param array $html_head_link\n   *   The 'html_head_link' value of a render array. Each head link is specified\n   *   by a two-element array:\n   *   - An array specifying the attributes of the link.\n   *   - A boolean specifying whether the link should also be a Link: HTTP\n   *     header.\n   *\n   * @return array\n   *   An ['#attached'] section of a render array. This allows us to easily\n   *   merge the results with other render arrays. The array could contain the\n   *   following keys:\n   *   - http_header\n   *   - html_head\n   *\/",384],["T_WHITESPACE","\n  ",405],["T_PROTECTED","protected",406],["T_WHITESPACE"," ",406],["T_FUNCTION","function",406],["T_WHITESPACE"," ",406],["T_STRING","processHtmlHeadLink",406],"(",["T_ARRAY","array",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$html_head_link",406],")",["T_WHITESPACE"," ",406],"{",["T_WHITESPACE","\n    ",406],["T_VARIABLE","$attached",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],"[","]",";",["T_WHITESPACE","\n\n    ",407],["T_FOREACH","foreach",409],["T_WHITESPACE"," ",409],"(",["T_VARIABLE","$html_head_link",409],["T_WHITESPACE"," ",409],["T_AS","as",409],["T_WHITESPACE"," ",409],["T_VARIABLE","$item",409],")",["T_WHITESPACE"," ",409],"{",["T_WHITESPACE","\n      ",409],["T_VARIABLE","$attributes",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_VARIABLE","$item",410],"[",["T_LNUMBER","0",410],"]",";",["T_WHITESPACE","\n      ",410],["T_VARIABLE","$should_add_header",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_ISSET","isset",411],"(",["T_VARIABLE","$item",411],"[",["T_LNUMBER","1",411],"]",")",["T_WHITESPACE"," ",411],"?",["T_WHITESPACE"," ",411],["T_VARIABLE","$item",411],"[",["T_LNUMBER","1",411],"]",["T_WHITESPACE"," ",411],":",["T_WHITESPACE"," ",411],["T_STRING","FALSE",411],";",["T_WHITESPACE","\n\n      ",411],["T_VARIABLE","$element",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_ARRAY","array",413],"(",["T_WHITESPACE","\n        ",413],["T_CONSTANT_ENCAPSED_STRING","'#tag'",414],["T_WHITESPACE"," ",414],["T_DOUBLE_ARROW","=>",414],["T_WHITESPACE"," ",414],["T_CONSTANT_ENCAPSED_STRING","'link'",414],",",["T_WHITESPACE","\n        ",414],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",415],["T_WHITESPACE"," ",415],["T_DOUBLE_ARROW","=>",415],["T_WHITESPACE"," ",415],["T_VARIABLE","$attributes",415],",",["T_WHITESPACE","\n      ",415],")",";",["T_WHITESPACE","\n      ",416],["T_VARIABLE","$href",417],["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_VARIABLE","$attributes",417],"[",["T_CONSTANT_ENCAPSED_STRING","'href'",417],"]",";",["T_WHITESPACE","\n      ",417],["T_VARIABLE","$attached",418],"[",["T_CONSTANT_ENCAPSED_STRING","'html_head'",418],"]","[","]",["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],"[",["T_VARIABLE","$element",418],",",["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","'html_head_link:'",418],["T_WHITESPACE"," ",418],".",["T_WHITESPACE"," ",418],["T_VARIABLE","$attributes",418],"[",["T_CONSTANT_ENCAPSED_STRING","'rel'",418],"]",["T_WHITESPACE"," ",418],".",["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","':'",418],["T_WHITESPACE"," ",418],".",["T_WHITESPACE"," ",418],["T_VARIABLE","$href",418],"]",";",["T_WHITESPACE","\n\n      ",418],["T_IF","if",420],["T_WHITESPACE"," ",420],"(",["T_VARIABLE","$should_add_header",420],")",["T_WHITESPACE"," ",420],"{",["T_WHITESPACE","\n        ",420],["T_COMMENT","\/\/ Also add a HTTP header \"Link:\".\n",421],["T_WHITESPACE","        ",422],["T_VARIABLE","$href",422],["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","'<'",422],["T_WHITESPACE"," ",422],".",["T_WHITESPACE"," ",422],["T_STRING","Html",422],["T_DOUBLE_COLON","::",422],["T_STRING","escape",422],"(",["T_VARIABLE","$attributes",422],"[",["T_CONSTANT_ENCAPSED_STRING","'href'",422],"]",")",["T_WHITESPACE"," ",422],".",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","'>'",422],";",["T_WHITESPACE","\n        ",422],["T_UNSET","unset",423],"(",["T_VARIABLE","$attributes",423],"[",["T_CONSTANT_ENCAPSED_STRING","'href'",423],"]",")",";",["T_WHITESPACE","\n        ",423],["T_IF","if",424],["T_WHITESPACE"," ",424],"(",["T_VARIABLE","$param",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_STRING","drupal_http_header_attributes",424],"(",["T_VARIABLE","$attributes",424],")",")",["T_WHITESPACE"," ",424],"{",["T_WHITESPACE","\n          ",424],["T_VARIABLE","$href",425],["T_WHITESPACE"," ",425],["T_CONCAT_EQUAL",".=",425],["T_WHITESPACE"," ",425],["T_CONSTANT_ENCAPSED_STRING","';'",425],["T_WHITESPACE"," ",425],".",["T_WHITESPACE"," ",425],["T_VARIABLE","$param",425],";",["T_WHITESPACE","\n        ",425],"}",["T_WHITESPACE","\n\n        ",426],["T_VARIABLE","$attached",428],"[",["T_CONSTANT_ENCAPSED_STRING","'http_header'",428],"]","[","]",["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],"[",["T_CONSTANT_ENCAPSED_STRING","'Link'",428],",",["T_WHITESPACE"," ",428],["T_VARIABLE","$href",428],",",["T_WHITESPACE"," ",428],["T_STRING","FALSE",428],"]",";",["T_WHITESPACE","\n      ",428],"}",["T_WHITESPACE","\n    ",429],"}",["T_WHITESPACE","\n    ",430],["T_RETURN","return",431],["T_WHITESPACE"," ",431],["T_VARIABLE","$attached",431],";",["T_WHITESPACE","\n  ",431],"}",["T_WHITESPACE","\n\n  ",432],["T_DOC_COMMENT","\/**\n   * Transform a 'feed' attachment into an 'html_head_link' attachment.\n   *\n   * The RSS feed is a special case of 'html_head_link', so we just turn it into\n   * one.\n   *\n   * @param array $attached_feed\n   *   The ['#attached']['feed'] portion of a render array.\n   *\n   * @return array\n   *   An ['#attached']['html_head_link'] array, suitable for merging with\n   *   another 'html_head_link' array.\n   *\/",434],["T_WHITESPACE","\n  ",446],["T_PROTECTED","protected",447],["T_WHITESPACE"," ",447],["T_FUNCTION","function",447],["T_WHITESPACE"," ",447],["T_STRING","processFeed",447],"(",["T_VARIABLE","$attached_feed",447],")",["T_WHITESPACE"," ",447],"{",["T_WHITESPACE","\n    ",447],["T_VARIABLE","$html_head_link",448],["T_WHITESPACE"," ",448],"=",["T_WHITESPACE"," ",448],"[","]",";",["T_WHITESPACE","\n    ",448],["T_FOREACH","foreach",449],["T_WHITESPACE"," ",449],"(",["T_VARIABLE","$attached_feed",449],["T_WHITESPACE"," ",449],["T_AS","as",449],["T_WHITESPACE"," ",449],["T_VARIABLE","$item",449],")",["T_WHITESPACE"," ",449],"{",["T_WHITESPACE","\n      ",449],["T_VARIABLE","$feed_link",450],["T_WHITESPACE"," ",450],"=",["T_WHITESPACE"," ",450],"[",["T_WHITESPACE","\n        ",450],["T_CONSTANT_ENCAPSED_STRING","'href'",451],["T_WHITESPACE"," ",451],["T_DOUBLE_ARROW","=>",451],["T_WHITESPACE"," ",451],["T_VARIABLE","$item",451],"[",["T_LNUMBER","0",451],"]",",",["T_WHITESPACE","\n        ",451],["T_CONSTANT_ENCAPSED_STRING","'rel'",452],["T_WHITESPACE"," ",452],["T_DOUBLE_ARROW","=>",452],["T_WHITESPACE"," ",452],["T_CONSTANT_ENCAPSED_STRING","'alternate'",452],",",["T_WHITESPACE","\n        ",452],["T_CONSTANT_ENCAPSED_STRING","'title'",453],["T_WHITESPACE"," ",453],["T_DOUBLE_ARROW","=>",453],["T_WHITESPACE"," ",453],["T_EMPTY","empty",453],"(",["T_VARIABLE","$item",453],"[",["T_LNUMBER","1",453],"]",")",["T_WHITESPACE"," ",453],"?",["T_WHITESPACE"," ",453],["T_CONSTANT_ENCAPSED_STRING","''",453],["T_WHITESPACE"," ",453],":",["T_WHITESPACE"," ",453],["T_VARIABLE","$item",453],"[",["T_LNUMBER","1",453],"]",",",["T_WHITESPACE","\n        ",453],["T_CONSTANT_ENCAPSED_STRING","'type'",454],["T_WHITESPACE"," ",454],["T_DOUBLE_ARROW","=>",454],["T_WHITESPACE"," ",454],["T_CONSTANT_ENCAPSED_STRING","'application\/rss+xml'",454],",",["T_WHITESPACE","\n      ",454],"]",";",["T_WHITESPACE","\n      ",455],["T_VARIABLE","$html_head_link",456],"[","]",["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],"[",["T_VARIABLE","$feed_link",456],",",["T_WHITESPACE"," ",456],["T_STRING","FALSE",456],"]",";",["T_WHITESPACE","\n    ",456],"}",["T_WHITESPACE","\n    ",457],["T_RETURN","return",458],["T_WHITESPACE"," ",458],"[",["T_CONSTANT_ENCAPSED_STRING","'html_head_link'",458],["T_WHITESPACE"," ",458],["T_DOUBLE_ARROW","=>",458],["T_WHITESPACE"," ",458],["T_VARIABLE","$html_head_link",458],"]",";",["T_WHITESPACE","\n  ",458],"}",["T_WHITESPACE","\n\n",459],"}",["T_WHITESPACE","\n",461]]