[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Timer",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Extension",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ModuleHandlerInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Queue",7],["T_NS_SEPARATOR","\\",7],["T_STRING","QueueWorkerManagerInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Queue",8],["T_NS_SEPARATOR","\\",8],["T_STRING","RequeueException",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","State",9],["T_NS_SEPARATOR","\\",9],["T_STRING","StateInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Lock",10],["T_NS_SEPARATOR","\\",10],["T_STRING","LockBackendInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Queue",11],["T_NS_SEPARATOR","\\",11],["T_STRING","QueueFactory",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Session",12],["T_NS_SEPARATOR","\\",12],["T_STRING","AnonymousUserSession",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Core",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Session",13],["T_NS_SEPARATOR","\\",13],["T_STRING","AccountSwitcherInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Core",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Queue",14],["T_NS_SEPARATOR","\\",14],["T_STRING","SuspendQueueException",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Psr",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Log",15],["T_NS_SEPARATOR","\\",15],["T_STRING","LoggerInterface",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * The Drupal core Cron service.\n *\/",17],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","Cron",20],["T_WHITESPACE"," ",20],["T_IMPLEMENTS","implements",20],["T_WHITESPACE"," ",20],["T_STRING","CronInterface",20],["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * The module handler service.\n   *\n   * @var \\Drupal\\Core\\Extension\\ModuleHandlerInterface\n   *\/",22],["T_WHITESPACE","\n  ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$moduleHandler",27],";",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * The lock service.\n   *\n   * @var \\Drupal\\Core\\Lock\\LockBackendInterface\n   *\/",29],["T_WHITESPACE","\n  ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$lock",34],";",["T_WHITESPACE","\n\n  ",34],["T_DOC_COMMENT","\/**\n   * The queue service.\n   *\n   * @var \\Drupal\\Core\\Queue\\QueueFactory\n   *\/",36],["T_WHITESPACE","\n  ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$queueFactory",41],";",["T_WHITESPACE","\n\n  ",41],["T_DOC_COMMENT","\/**\n   * The state service.\n   *\n   * @var \\Drupal\\Core\\State\\StateInterface\n   *\/",43],["T_WHITESPACE","\n  ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$state",48],";",["T_WHITESPACE","\n\n  ",48],["T_DOC_COMMENT","\/**\n   * The account switcher service.\n   *\n   * @var \\Drupal\\Core\\Session\\AccountSwitcherInterface\n   *\/",50],["T_WHITESPACE","\n  ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$accountSwitcher",55],";",["T_WHITESPACE","\n\n  ",55],["T_DOC_COMMENT","\/**\n   * A logger instance.\n   *\n   * @var \\Psr\\Log\\LoggerInterface\n   *\/",57],["T_WHITESPACE","\n  ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$logger",62],";",["T_WHITESPACE","\n\n  ",62],["T_DOC_COMMENT","\/**\n   * The queue plugin manager.\n   *\n   * @var \\Drupal\\Core\\Queue\\QueueWorkerManagerInterface\n   *\/",64],["T_WHITESPACE","\n  ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$queueManager",69],";",["T_WHITESPACE","\n\n  ",69],["T_DOC_COMMENT","\/**\n   * Constructs a cron object.\n   *\n   * @param \\Drupal\\Core\\Extension\\ModuleHandlerInterface $module_handler\n   *   The module handler\n   * @param \\Drupal\\Core\\Lock\\LockBackendInterface $lock\n   *   The lock service.\n   * @param \\Drupal\\Core\\Queue\\QueueFactory $queue_factory\n   *   The queue service.\n   * @param \\Drupal\\Core\\State\\StateInterface $state\n   *   The state service.\n   * @param \\Drupal\\Core\\Session\\AccountSwitcherInterface $account_switcher\n   *    The account switching service.\n   * @param \\Psr\\Log\\LoggerInterface $logger\n   *   A logger instance.\n   * @param \\Drupal\\Core\\Queue\\QueueWorkerManagerInterface $queue_manager\n   *   The queue plugin manager.\n   *\/",71],["T_WHITESPACE","\n  ",88],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","__construct",89],"(",["T_STRING","ModuleHandlerInterface",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$module_handler",89],",",["T_WHITESPACE"," ",89],["T_STRING","LockBackendInterface",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$lock",89],",",["T_WHITESPACE"," ",89],["T_STRING","QueueFactory",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$queue_factory",89],",",["T_WHITESPACE"," ",89],["T_STRING","StateInterface",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$state",89],",",["T_WHITESPACE"," ",89],["T_STRING","AccountSwitcherInterface",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$account_switcher",89],",",["T_WHITESPACE"," ",89],["T_STRING","LoggerInterface",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$logger",89],",",["T_WHITESPACE"," ",89],["T_STRING","QueueWorkerManagerInterface",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$queue_manager",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","moduleHandler",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$module_handler",90],";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","lock",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$lock",91],";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","queueFactory",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$queue_factory",92],";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","state",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$state",93],";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","accountSwitcher",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$account_switcher",94],";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","logger",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$logger",95],";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","queueManager",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$queue_manager",96],";",["T_WHITESPACE","\n  ",96],"}",["T_WHITESPACE","\n\n  ",97],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",99],["T_WHITESPACE","\n  ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","run",102],"(",")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n    ",102],["T_COMMENT","\/\/ Allow execution to continue even if the request gets cancelled.\n",103],["T_WHITESPACE","    ",104],"@",["T_STRING","ignore_user_abort",104],"(",["T_STRING","TRUE",104],")",";",["T_WHITESPACE","\n\n    ",104],["T_COMMENT","\/\/ Force the current user to anonymous to ensure consistent permissions on\n",106],["T_WHITESPACE","    ",107],["T_COMMENT","\/\/ cron runs.\n",107],["T_WHITESPACE","    ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","accountSwitcher",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","switchTo",108],"(",["T_NEW","new",108],["T_WHITESPACE"," ",108],["T_STRING","AnonymousUserSession",108],"(",")",")",";",["T_WHITESPACE","\n\n    ",108],["T_COMMENT","\/\/ Try to allocate enough time to run all the hook_cron implementations.\n",110],["T_WHITESPACE","    ",111],["T_STRING","drupal_set_time_limit",111],"(",["T_LNUMBER","240",111],")",";",["T_WHITESPACE","\n\n    ",111],["T_VARIABLE","$return",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","FALSE",113],";",["T_WHITESPACE","\n\n    ",113],["T_COMMENT","\/\/ Try to acquire cron lock.\n",115],["T_WHITESPACE","    ",116],["T_IF","if",116],["T_WHITESPACE"," ",116],"(","!",["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","lock",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","acquire",116],"(",["T_CONSTANT_ENCAPSED_STRING","'cron'",116],",",["T_WHITESPACE"," ",116],["T_DNUMBER","900.0",116],")",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n      ",116],["T_COMMENT","\/\/ Cron is still running normally.\n",117],["T_WHITESPACE","      ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","logger",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","warning",118],"(",["T_CONSTANT_ENCAPSED_STRING","'Attempting to re-run cron while it is already running.'",118],")",";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n    ",119],["T_ELSE","else",120],["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n      ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","invokeCronHandlers",121],"(",")",";",["T_WHITESPACE","\n      ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","setCronLastTime",122],"(",")",";",["T_WHITESPACE","\n\n      ",122],["T_COMMENT","\/\/ Release cron lock.\n",124],["T_WHITESPACE","      ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","lock",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","release",125],"(",["T_CONSTANT_ENCAPSED_STRING","'cron'",125],")",";",["T_WHITESPACE","\n\n      ",125],["T_COMMENT","\/\/ Return TRUE so other functions can check if it did run successfully\n",127],["T_WHITESPACE","      ",128],["T_VARIABLE","$return",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_STRING","TRUE",128],";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n\n    ",129],["T_COMMENT","\/\/ Process cron queues.\n",131],["T_WHITESPACE","    ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","processQueues",132],"(",")",";",["T_WHITESPACE","\n\n    ",132],["T_COMMENT","\/\/ Restore the user.\n",134],["T_WHITESPACE","    ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","accountSwitcher",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","switchBack",135],"(",")",";",["T_WHITESPACE","\n\n    ",135],["T_RETURN","return",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$return",137],";",["T_WHITESPACE","\n  ",137],"}",["T_WHITESPACE","\n\n  ",138],["T_DOC_COMMENT","\/**\n   * Records and logs the request time for this cron invocation.\n   *\/",140],["T_WHITESPACE","\n  ",142],["T_PROTECTED","protected",143],["T_WHITESPACE"," ",143],["T_FUNCTION","function",143],["T_WHITESPACE"," ",143],["T_STRING","setCronLastTime",143],"(",")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n    ",143],["T_COMMENT","\/\/ Record cron time.\n",144],["T_WHITESPACE","    ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","state",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","set",145],"(",["T_CONSTANT_ENCAPSED_STRING","'system.cron_last'",145],",",["T_WHITESPACE"," ",145],["T_STRING","REQUEST_TIME",145],")",";",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","logger",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","notice",146],"(",["T_CONSTANT_ENCAPSED_STRING","'Cron run completed.'",146],")",";",["T_WHITESPACE","\n  ",146],"}",["T_WHITESPACE","\n\n  ",147],["T_DOC_COMMENT","\/**\n   * Processes cron queues.\n   *\/",149],["T_WHITESPACE","\n  ",151],["T_PROTECTED","protected",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","processQueues",152],"(",")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n    ",152],["T_COMMENT","\/\/ Grab the defined cron queues.\n",153],["T_WHITESPACE","    ",154],["T_FOREACH","foreach",154],["T_WHITESPACE"," ",154],"(",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","queueManager",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getDefinitions",154],"(",")",["T_WHITESPACE"," ",154],["T_AS","as",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$queue_name",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$info",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n      ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_ISSET","isset",155],"(",["T_VARIABLE","$info",155],"[",["T_CONSTANT_ENCAPSED_STRING","'cron'",155],"]",")",")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n        ",155],["T_COMMENT","\/\/ Make sure every queue exists. There is no harm in trying to recreate\n",156],["T_WHITESPACE","        ",157],["T_COMMENT","\/\/ an existing queue.\n",157],["T_WHITESPACE","        ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","queueFactory",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","get",158],"(",["T_VARIABLE","$queue_name",158],")",["T_OBJECT_OPERATOR","->",158],["T_STRING","createQueue",158],"(",")",";",["T_WHITESPACE","\n\n        ",158],["T_VARIABLE","$queue_worker",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","queueManager",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","createInstance",160],"(",["T_VARIABLE","$queue_name",160],")",";",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$end",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","time",161],"(",")",["T_WHITESPACE"," ",161],"+",["T_WHITESPACE"," ",161],"(",["T_ISSET","isset",161],"(",["T_VARIABLE","$info",161],"[",["T_CONSTANT_ENCAPSED_STRING","'cron'",161],"]","[",["T_CONSTANT_ENCAPSED_STRING","'time'",161],"]",")",["T_WHITESPACE"," ",161],"?",["T_WHITESPACE"," ",161],["T_VARIABLE","$info",161],"[",["T_CONSTANT_ENCAPSED_STRING","'cron'",161],"]","[",["T_CONSTANT_ENCAPSED_STRING","'time'",161],"]",["T_WHITESPACE"," ",161],":",["T_WHITESPACE"," ",161],["T_LNUMBER","15",161],")",";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$queue",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","queueFactory",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","get",162],"(",["T_VARIABLE","$queue_name",162],")",";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$lease_time",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_ISSET","isset",163],"(",["T_VARIABLE","$info",163],"[",["T_CONSTANT_ENCAPSED_STRING","'cron'",163],"]","[",["T_CONSTANT_ENCAPSED_STRING","'time'",163],"]",")",["T_WHITESPACE"," ",163],"?",":",["T_WHITESPACE"," ",163],["T_STRING","NULL",163],";",["T_WHITESPACE","\n        ",163],["T_WHILE","while",164],["T_WHITESPACE"," ",164],"(",["T_STRING","time",164],"(",")",["T_WHITESPACE"," ",164],"<",["T_WHITESPACE"," ",164],["T_VARIABLE","$end",164],["T_WHITESPACE"," ",164],["T_BOOLEAN_AND","&&",164],["T_WHITESPACE"," ",164],"(",["T_VARIABLE","$item",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$queue",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","claimItem",164],"(",["T_VARIABLE","$lease_time",164],")",")",")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n          ",164],["T_TRY","try",165],["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$queue_worker",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","processItem",166],"(",["T_VARIABLE","$item",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","data",166],")",";",["T_WHITESPACE","\n            ",166],["T_VARIABLE","$queue",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","deleteItem",167],"(",["T_VARIABLE","$item",167],")",";",["T_WHITESPACE","\n          ",167],"}",["T_WHITESPACE","\n          ",168],["T_CATCH","catch",169],["T_WHITESPACE"," ",169],"(",["T_STRING","RequeueException",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$e",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n            ",169],["T_COMMENT","\/\/ The worker requested the task be immediately requeued.\n",170],["T_WHITESPACE","            ",171],["T_VARIABLE","$queue",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","releaseItem",171],"(",["T_VARIABLE","$item",171],")",";",["T_WHITESPACE","\n          ",171],"}",["T_WHITESPACE","\n          ",172],["T_CATCH","catch",173],["T_WHITESPACE"," ",173],"(",["T_STRING","SuspendQueueException",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$e",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n            ",173],["T_COMMENT","\/\/ If the worker indicates there is a problem with the whole queue,\n",174],["T_WHITESPACE","            ",175],["T_COMMENT","\/\/ release the item and skip to the next queue.\n",175],["T_WHITESPACE","            ",176],["T_VARIABLE","$queue",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","releaseItem",176],"(",["T_VARIABLE","$item",176],")",";",["T_WHITESPACE","\n\n            ",176],["T_STRING","watchdog_exception",178],"(",["T_CONSTANT_ENCAPSED_STRING","'cron'",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$e",178],")",";",["T_WHITESPACE","\n\n            ",178],["T_COMMENT","\/\/ Skip to the next queue.\n",180],["T_WHITESPACE","            ",181],["T_CONTINUE","continue",181],["T_WHITESPACE"," ",181],["T_LNUMBER","2",181],";",["T_WHITESPACE","\n          ",181],"}",["T_WHITESPACE","\n          ",182],["T_CATCH","catch",183],["T_WHITESPACE"," ",183],"(",["T_NS_SEPARATOR","\\",183],["T_STRING","Exception",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$e",183],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n            ",183],["T_COMMENT","\/\/ In case of any other kind of exception, log it and leave the item\n",184],["T_WHITESPACE","            ",185],["T_COMMENT","\/\/ in the queue to be processed again later.\n",185],["T_WHITESPACE","            ",186],["T_STRING","watchdog_exception",186],"(",["T_CONSTANT_ENCAPSED_STRING","'cron'",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$e",186],")",";",["T_WHITESPACE","\n          ",186],"}",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n      ",188],"}",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n  ",190],"}",["T_WHITESPACE","\n\n  ",191],["T_DOC_COMMENT","\/**\n   * Invokes any cron handlers implementing hook_cron.\n   *\/",193],["T_WHITESPACE","\n  ",195],["T_PROTECTED","protected",196],["T_WHITESPACE"," ",196],["T_FUNCTION","function",196],["T_WHITESPACE"," ",196],["T_STRING","invokeCronHandlers",196],"(",")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n    ",196],["T_VARIABLE","$module_previous",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","''",197],";",["T_WHITESPACE","\n\n    ",197],["T_COMMENT","\/\/ Iterate through the modules calling their cron handlers (if any):\n",199],["T_WHITESPACE","    ",200],["T_FOREACH","foreach",200],["T_WHITESPACE"," ",200],"(",["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","moduleHandler",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getImplementations",200],"(",["T_CONSTANT_ENCAPSED_STRING","'cron'",200],")",["T_WHITESPACE"," ",200],["T_AS","as",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$module",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n\n      ",200],["T_IF","if",202],["T_WHITESPACE"," ",202],"(","!",["T_VARIABLE","$module_previous",202],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","logger",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","notice",203],"(",["T_CONSTANT_ENCAPSED_STRING","'Starting execution of @module_cron().'",203],",",["T_WHITESPACE"," ",203],"[",["T_WHITESPACE","\n          ",203],["T_CONSTANT_ENCAPSED_STRING","'@module'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$module",204],",",["T_WHITESPACE","\n        ",204],"]",")",";",["T_WHITESPACE","\n      ",205],"}",["T_WHITESPACE","\n      ",206],["T_ELSE","else",207],["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","logger",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","notice",208],"(",["T_CONSTANT_ENCAPSED_STRING","'Starting execution of @module_cron(), execution of @module_previous_cron() took @time.'",208],",",["T_WHITESPACE"," ",208],"[",["T_WHITESPACE","\n          ",208],["T_CONSTANT_ENCAPSED_STRING","'@module'",209],["T_WHITESPACE"," ",209],["T_DOUBLE_ARROW","=>",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$module",209],",",["T_WHITESPACE","\n          ",209],["T_CONSTANT_ENCAPSED_STRING","'@module_previous'",210],["T_WHITESPACE"," ",210],["T_DOUBLE_ARROW","=>",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$module_previous",210],",",["T_WHITESPACE","\n          ",210],["T_CONSTANT_ENCAPSED_STRING","'@time'",211],["T_WHITESPACE"," ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_STRING","Timer",211],["T_DOUBLE_COLON","::",211],["T_STRING","read",211],"(",["T_CONSTANT_ENCAPSED_STRING","'cron_'",211],["T_WHITESPACE"," ",211],".",["T_WHITESPACE"," ",211],["T_VARIABLE","$module_previous",211],")",["T_WHITESPACE"," ",211],".",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'ms'",211],",",["T_WHITESPACE","\n        ",211],"]",")",";",["T_WHITESPACE","\n      ",212],"}",["T_WHITESPACE","\n      ",213],["T_STRING","Timer",214],["T_DOUBLE_COLON","::",214],["T_STRING","start",214],"(",["T_CONSTANT_ENCAPSED_STRING","'cron_'",214],["T_WHITESPACE"," ",214],".",["T_WHITESPACE"," ",214],["T_VARIABLE","$module",214],")",";",["T_WHITESPACE","\n\n      ",214],["T_COMMENT","\/\/ Do not let an exception thrown by one module disturb another.\n",216],["T_WHITESPACE","      ",217],["T_TRY","try",217],["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","moduleHandler",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","invoke",218],"(",["T_VARIABLE","$module",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'cron'",218],")",";",["T_WHITESPACE","\n      ",218],"}",["T_WHITESPACE","\n      ",219],["T_CATCH","catch",220],["T_WHITESPACE"," ",220],"(",["T_NS_SEPARATOR","\\",220],["T_STRING","Exception",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$e",220],")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n        ",220],["T_STRING","watchdog_exception",221],"(",["T_CONSTANT_ENCAPSED_STRING","'cron'",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$e",221],")",";",["T_WHITESPACE","\n      ",221],"}",["T_WHITESPACE","\n\n      ",222],["T_STRING","Timer",224],["T_DOUBLE_COLON","::",224],["T_STRING","stop",224],"(",["T_CONSTANT_ENCAPSED_STRING","'cron_'",224],["T_WHITESPACE"," ",224],".",["T_WHITESPACE"," ",224],["T_VARIABLE","$module",224],")",";",["T_WHITESPACE","\n      ",224],["T_VARIABLE","$module_previous",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$module",225],";",["T_WHITESPACE","\n    ",225],"}",["T_WHITESPACE","\n    ",226],["T_IF","if",227],["T_WHITESPACE"," ",227],"(",["T_VARIABLE","$module_previous",227],")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n      ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","logger",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","notice",228],"(",["T_CONSTANT_ENCAPSED_STRING","'Execution of @module_previous_cron() took @time.'",228],",",["T_WHITESPACE"," ",228],"[",["T_WHITESPACE","\n        ",228],["T_CONSTANT_ENCAPSED_STRING","'@module_previous'",229],["T_WHITESPACE"," ",229],["T_DOUBLE_ARROW","=>",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$module_previous",229],",",["T_WHITESPACE","\n        ",229],["T_CONSTANT_ENCAPSED_STRING","'@time'",230],["T_WHITESPACE"," ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_STRING","Timer",230],["T_DOUBLE_COLON","::",230],["T_STRING","read",230],"(",["T_CONSTANT_ENCAPSED_STRING","'cron_'",230],["T_WHITESPACE"," ",230],".",["T_WHITESPACE"," ",230],["T_VARIABLE","$module_previous",230],")",["T_WHITESPACE"," ",230],".",["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","'ms'",230],",",["T_WHITESPACE","\n      ",230],"]",")",";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n  ",232],"}",["T_WHITESPACE","\n\n",233],"}",["T_WHITESPACE","\n",235]]