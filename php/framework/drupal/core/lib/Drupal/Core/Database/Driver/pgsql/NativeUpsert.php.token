[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Database",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Driver",3],["T_NS_SEPARATOR","\\",3],["T_STRING","pgsql",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Database",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Query",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Upsert",5],["T_WHITESPACE"," ",5],["T_AS","as",5],["T_WHITESPACE"," ",5],["T_STRING","QueryUpsert",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * PostgreSQL implementation of native \\Drupal\\Core\\Database\\Query\\Upsert.\n *\n * @see http:\/\/www.postgresql.org\/docs\/9.5\/static\/sql-insert.html#SQL-ON-CONFLICT\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","NativeUpsert",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","QueryUpsert",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",14],["T_WHITESPACE","\n  ",16],["T_PUBLIC","public",17],["T_WHITESPACE"," ",17],["T_FUNCTION","function",17],["T_WHITESPACE"," ",17],["T_STRING","execute",17],"(",")",["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n    ",17],["T_IF","if",18],["T_WHITESPACE"," ",18],"(","!",["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","preExecute",18],"(",")",")",["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n      ",18],["T_RETURN","return",19],["T_WHITESPACE"," ",19],["T_STRING","NULL",19],";",["T_WHITESPACE","\n    ",19],"}",["T_WHITESPACE","\n\n    ",20],["T_VARIABLE","$stmt",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","connection",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","prepareQuery",22],"(",["T_STRING_CAST","(string)",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$this",22],")",";",["T_WHITESPACE","\n\n    ",22],["T_COMMENT","\/\/ Fetch the list of blobs and sequences used on that table.\n",24],["T_WHITESPACE","    ",25],["T_VARIABLE","$table_information",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","connection",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","schema",25],"(",")",["T_OBJECT_OPERATOR","->",25],["T_STRING","queryTableInformation",25],"(",["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","table",25],")",";",["T_WHITESPACE","\n\n    ",25],["T_VARIABLE","$max_placeholder",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_LNUMBER","0",27],";",["T_WHITESPACE","\n    ",27],["T_VARIABLE","$blobs",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],"[","]",";",["T_WHITESPACE","\n    ",28],["T_VARIABLE","$blob_count",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_LNUMBER","0",29],";",["T_WHITESPACE","\n    ",29],["T_FOREACH","foreach",30],["T_WHITESPACE"," ",30],"(",["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","insertValues",30],["T_WHITESPACE"," ",30],["T_AS","as",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$insert_values",30],")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n      ",30],["T_FOREACH","foreach",31],["T_WHITESPACE"," ",31],"(",["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","insertFields",31],["T_WHITESPACE"," ",31],["T_AS","as",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$idx",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$field",31],")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n        ",31],["T_IF","if",32],["T_WHITESPACE"," ",32],"(",["T_ISSET","isset",32],"(",["T_VARIABLE","$table_information",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","blob_fields",32],"[",["T_VARIABLE","$field",32],"]",")",")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n          ",32],["T_VARIABLE","$blobs",33],"[",["T_VARIABLE","$blob_count",33],"]",["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_STRING","fopen",33],"(",["T_CONSTANT_ENCAPSED_STRING","'php:\/\/memory'",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'a'",33],")",";",["T_WHITESPACE","\n          ",33],["T_STRING","fwrite",34],"(",["T_VARIABLE","$blobs",34],"[",["T_VARIABLE","$blob_count",34],"]",",",["T_WHITESPACE"," ",34],["T_VARIABLE","$insert_values",34],"[",["T_VARIABLE","$idx",34],"]",")",";",["T_WHITESPACE","\n          ",34],["T_STRING","rewind",35],"(",["T_VARIABLE","$blobs",35],"[",["T_VARIABLE","$blob_count",35],"]",")",";",["T_WHITESPACE","\n\n          ",35],["T_VARIABLE","$stmt",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","bindParam",37],"(",["T_CONSTANT_ENCAPSED_STRING","':db_insert_placeholder_'",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_VARIABLE","$max_placeholder",37],["T_INC","++",37],",",["T_WHITESPACE"," ",37],["T_VARIABLE","$blobs",37],"[",["T_VARIABLE","$blob_count",37],"]",",",["T_WHITESPACE"," ",37],["T_NS_SEPARATOR","\\",37],["T_STRING","PDO",37],["T_DOUBLE_COLON","::",37],["T_STRING","PARAM_LOB",37],")",";",["T_WHITESPACE","\n\n          ",37],["T_COMMENT","\/\/ Pre-increment is faster in PHP than increment.\n",39],["T_WHITESPACE","          ",40],["T_INC","++",40],["T_VARIABLE","$blob_count",40],";",["T_WHITESPACE","\n        ",40],"}",["T_WHITESPACE","\n        ",41],["T_ELSE","else",42],["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n          ",42],["T_VARIABLE","$stmt",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","bindParam",43],"(",["T_CONSTANT_ENCAPSED_STRING","':db_insert_placeholder_'",43],["T_WHITESPACE"," ",43],".",["T_WHITESPACE"," ",43],["T_VARIABLE","$max_placeholder",43],["T_INC","++",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$insert_values",43],"[",["T_VARIABLE","$idx",43],"]",")",";",["T_WHITESPACE","\n        ",43],"}",["T_WHITESPACE","\n      ",44],"}",["T_WHITESPACE","\n      ",45],["T_COMMENT","\/\/ Check if values for a serial field has been passed.\n",46],["T_WHITESPACE","      ",47],["T_IF","if",47],["T_WHITESPACE"," ",47],"(","!",["T_EMPTY","empty",47],"(",["T_VARIABLE","$table_information",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","serial_fields",47],")",")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n        ",47],["T_FOREACH","foreach",48],["T_WHITESPACE"," ",48],"(",["T_VARIABLE","$table_information",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","serial_fields",48],["T_WHITESPACE"," ",48],["T_AS","as",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$index",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$serial_field",48],")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n          ",48],["T_VARIABLE","$serial_key",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","array_search",49],"(",["T_VARIABLE","$serial_field",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","insertFields",49],")",";",["T_WHITESPACE","\n          ",49],["T_IF","if",50],["T_WHITESPACE"," ",50],"(",["T_VARIABLE","$serial_key",50],["T_WHITESPACE"," ",50],["T_IS_NOT_IDENTICAL","!==",50],["T_WHITESPACE"," ",50],["T_STRING","FALSE",50],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n            ",50],["T_VARIABLE","$serial_value",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$insert_values",51],"[",["T_VARIABLE","$serial_key",51],"]",";",["T_WHITESPACE","\n\n            ",51],["T_COMMENT","\/\/ Sequences must be greater than or equal to 1.\n",53],["T_WHITESPACE","            ",54],["T_IF","if",54],["T_WHITESPACE"," ",54],"(",["T_VARIABLE","$serial_value",54],["T_WHITESPACE"," ",54],["T_IS_IDENTICAL","===",54],["T_WHITESPACE"," ",54],["T_STRING","NULL",54],["T_WHITESPACE"," ",54],["T_BOOLEAN_OR","||",54],["T_WHITESPACE"," ",54],"!",["T_VARIABLE","$serial_value",54],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n              ",54],["T_VARIABLE","$serial_value",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_LNUMBER","1",55],";",["T_WHITESPACE","\n            ",55],"}",["T_WHITESPACE","\n            ",56],["T_COMMENT","\/\/ Set the sequence to the bigger value of either the passed\n",57],["T_WHITESPACE","            ",58],["T_COMMENT","\/\/ value or the max value of the column. It can happen that another\n",58],["T_WHITESPACE","            ",59],["T_COMMENT","\/\/ thread calls nextval() which could lead to a serial number being\n",59],["T_WHITESPACE","            ",60],["T_COMMENT","\/\/ used twice. However, trying to insert a value into a serial\n",60],["T_WHITESPACE","            ",61],["T_COMMENT","\/\/ column should only be done in very rare cases and is not thread\n",61],["T_WHITESPACE","            ",62],["T_COMMENT","\/\/ safe by definition.\n",62],["T_WHITESPACE","            ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","connection",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","query",63],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT setval('\"",63],["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_VARIABLE","$table_information",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","sequences",63],"[",["T_VARIABLE","$index",63],"]",["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","\"', GREATEST(MAX(\"",63],["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_VARIABLE","$serial_field",63],["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","\"), :serial_value)) FROM {\"",63],["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","table",63],["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","\"}\"",63],",",["T_WHITESPACE"," ",63],["T_ARRAY","array",63],"(",["T_CONSTANT_ENCAPSED_STRING","':serial_value'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_INT_CAST","(int)",63],["T_VARIABLE","$serial_value",63],")",")",";",["T_WHITESPACE","\n          ",63],"}",["T_WHITESPACE","\n        ",64],"}",["T_WHITESPACE","\n      ",65],"}",["T_WHITESPACE","\n    ",66],"}",["T_WHITESPACE","\n\n    ",67],["T_VARIABLE","$options",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","queryOptions",69],";",["T_WHITESPACE","\n    ",69],["T_IF","if",70],["T_WHITESPACE"," ",70],"(","!",["T_EMPTY","empty",70],"(",["T_VARIABLE","$table_information",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","sequences",70],")",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n      ",70],["T_VARIABLE","$options",71],"[",["T_CONSTANT_ENCAPSED_STRING","'sequence_name'",71],"]",["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$table_information",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","sequences",71],"[",["T_LNUMBER","0",71],"]",";",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n\n    ",72],["T_COMMENT","\/\/ Re-initialize the values array so that we can re-use this query.\n",74],["T_WHITESPACE","    ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","insertValues",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],"[","]",";",["T_WHITESPACE","\n\n    ",75],["T_COMMENT","\/\/ Create a savepoint so we can rollback a failed query. This is so we can\n",77],["T_WHITESPACE","    ",78],["T_COMMENT","\/\/ mimic MySQL and SQLite transactions which don't fail if a single query\n",78],["T_WHITESPACE","    ",79],["T_COMMENT","\/\/ fails. This is important for tables that are created on demand. For\n",79],["T_WHITESPACE","    ",80],["T_COMMENT","\/\/ example, \\Drupal\\Core\\Cache\\DatabaseBackend.\n",80],["T_WHITESPACE","    ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","connection",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","addSavepoint",81],"(",")",";",["T_WHITESPACE","\n    ",81],["T_TRY","try",82],["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n      ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","connection",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","query",83],"(",["T_VARIABLE","$stmt",83],",",["T_WHITESPACE"," ",83],"[","]",",",["T_WHITESPACE"," ",83],["T_VARIABLE","$options",83],")",";",["T_WHITESPACE","\n      ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","connection",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","releaseSavepoint",84],"(",")",";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n    ",85],["T_CATCH","catch",86],["T_WHITESPACE"," ",86],"(",["T_NS_SEPARATOR","\\",86],["T_STRING","Exception",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$e",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n      ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","connection",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","rollbackSavepoint",87],"(",")",";",["T_WHITESPACE","\n      ",87],["T_THROW","throw",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$e",88],";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_RETURN","return",91],["T_WHITESPACE"," ",91],["T_STRING","TRUE",91],";",["T_WHITESPACE","\n  ",91],"}",["T_WHITESPACE","\n\n  ",92],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",94],["T_WHITESPACE","\n  ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","__toString",97],"(",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n    ",97],["T_COMMENT","\/\/ Create a sanitized comment string to prepend to the query.\n",98],["T_WHITESPACE","    ",99],["T_VARIABLE","$comments",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","connection",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","makeComment",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","comments",99],")",";",["T_WHITESPACE","\n\n    ",99],["T_COMMENT","\/\/ Default fields are always placed first for consistency.\n",101],["T_WHITESPACE","    ",102],["T_VARIABLE","$insert_fields",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","array_merge",102],"(",["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","defaultFields",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","insertFields",102],")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$insert_fields",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","array_map",103],"(",["T_FUNCTION","function",103],"(",["T_VARIABLE","$f",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE"," ",103],["T_RETURN","return",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","connection",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","escapeField",103],"(",["T_VARIABLE","$f",103],")",";",["T_WHITESPACE"," ",103],"}",",",["T_WHITESPACE"," ",103],["T_VARIABLE","$insert_fields",103],")",";",["T_WHITESPACE","\n\n    ",103],["T_VARIABLE","$query",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$comments",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'INSERT INTO {'",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","table",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'} ('",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_STRING","implode",105],"(",["T_CONSTANT_ENCAPSED_STRING","', '",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$insert_fields",105],")",["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","') VALUES '",105],";",["T_WHITESPACE","\n\n    ",105],["T_VARIABLE","$values",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getInsertPlaceholderFragment",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","insertValues",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","defaultFields",107],")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$query",108],["T_WHITESPACE"," ",108],["T_CONCAT_EQUAL",".=",108],["T_WHITESPACE"," ",108],["T_STRING","implode",108],"(",["T_CONSTANT_ENCAPSED_STRING","', '",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$values",108],")",";",["T_WHITESPACE","\n\n    ",108],["T_COMMENT","\/\/ Updating the unique \/ primary key is not necessary.\n",110],["T_WHITESPACE","    ",111],["T_UNSET","unset",111],"(",["T_VARIABLE","$insert_fields",111],"[",["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","key",111],"]",")",";",["T_WHITESPACE","\n\n    ",111],["T_VARIABLE","$update",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],"[","]",";",["T_WHITESPACE","\n    ",113],["T_FOREACH","foreach",114],["T_WHITESPACE"," ",114],"(",["T_VARIABLE","$insert_fields",114],["T_WHITESPACE"," ",114],["T_AS","as",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$field",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n      ",114],["T_VARIABLE","$update",115],"[","]",["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],"\"",["T_VARIABLE","$field",115],["T_ENCAPSED_AND_WHITESPACE"," = EXCLUDED.",115],["T_VARIABLE","$field",115],"\"",";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_VARIABLE","$query",118],["T_WHITESPACE"," ",118],["T_CONCAT_EQUAL",".=",118],["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","' ON CONFLICT ('",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","connection",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","escapeField",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","key",118],")",["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","') DO UPDATE SET '",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_STRING","implode",118],"(",["T_CONSTANT_ENCAPSED_STRING","', '",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$update",118],")",";",["T_WHITESPACE","\n\n    ",118],["T_RETURN","return",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$query",120],";",["T_WHITESPACE","\n  ",120],"}",["T_WHITESPACE","\n\n",121],"}",["T_WHITESPACE","\n",123]]