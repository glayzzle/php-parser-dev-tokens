[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Database",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Driver",3],["T_NS_SEPARATOR","\\",3],["T_STRING","mysql",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Install",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Database",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Install",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Tasks",5],["T_WHITESPACE"," ",5],["T_AS","as",5],["T_WHITESPACE"," ",5],["T_STRING","InstallTasks",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Database",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Database",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Database",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Driver",7],["T_NS_SEPARATOR","\\",7],["T_STRING","mysql",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Connection",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Database",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DatabaseNotFoundException",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Specifies installation tasks for MySQL and equivalent databases.\n *\/",10],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","Tasks",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","InstallTasks",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * Minimum required MySQLnd version.\n   *\/",15],["T_WHITESPACE","\n  ",17],["T_CONST","const",18],["T_WHITESPACE"," ",18],["T_STRING","MYSQLND_MINIMUM_VERSION",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'5.0.9'",18],";",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * Minimum required libmysqlclient version.\n   *\/",20],["T_WHITESPACE","\n  ",22],["T_CONST","const",23],["T_WHITESPACE"," ",23],["T_STRING","LIBMYSQLCLIENT_MINIMUM_VERSION",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'5.5.3'",23],";",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * The PDO driver name for MySQL and equivalent databases.\n   *\n   * @var string\n   *\/",25],["T_WHITESPACE","\n  ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$pdoDriver",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'mysql'",30],";",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * Constructs a \\Drupal\\Core\\Database\\Driver\\mysql\\Install\\Tasks object.\n   *\/",32],["T_WHITESPACE","\n  ",34],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","__construct",35],"(",")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","tasks",36],"[","]",["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_ARRAY","array",36],"(",["T_WHITESPACE","\n      ",36],["T_CONSTANT_ENCAPSED_STRING","'arguments'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_ARRAY","array",37],"(",")",",",["T_WHITESPACE","\n      ",37],["T_CONSTANT_ENCAPSED_STRING","'function'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'ensureInnoDbAvailable'",38],",",["T_WHITESPACE","\n    ",38],")",";",["T_WHITESPACE","\n  ",39],"}",["T_WHITESPACE","\n\n  ",40],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",42],["T_WHITESPACE","\n  ",44],["T_PUBLIC","public",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","name",45],"(",")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n    ",45],["T_RETURN","return",46],["T_WHITESPACE"," ",46],["T_STRING","t",46],"(",["T_CONSTANT_ENCAPSED_STRING","'MySQL, MariaDB, Percona Server, or equivalent'",46],")",";",["T_WHITESPACE","\n  ",46],"}",["T_WHITESPACE","\n\n  ",47],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",49],["T_WHITESPACE","\n  ",51],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","minimumVersion",52],"(",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n    ",52],["T_RETURN","return",53],["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'5.5.3'",53],";",["T_WHITESPACE","\n  ",53],"}",["T_WHITESPACE","\n\n  ",54],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",56],["T_WHITESPACE","\n  ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","connect",59],"(",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n    ",59],["T_TRY","try",60],["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n      ",60],["T_COMMENT","\/\/ This doesn't actually test the connection.\n",61],["T_WHITESPACE","      ",62],["T_STRING","db_set_active",62],"(",")",";",["T_WHITESPACE","\n      ",62],["T_COMMENT","\/\/ Now actually do a check.\n",63],["T_WHITESPACE","      ",64],["T_TRY","try",64],["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n        ",64],["T_STRING","Database",65],["T_DOUBLE_COLON","::",65],["T_STRING","getConnection",65],"(",")",";",["T_WHITESPACE","\n      ",65],"}",["T_WHITESPACE","\n      ",66],["T_CATCH","catch",67],["T_WHITESPACE"," ",67],"(",["T_NS_SEPARATOR","\\",67],["T_STRING","Exception",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$e",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n        ",67],["T_COMMENT","\/\/ Detect utf8mb4 incompability.\n",68],["T_WHITESPACE","        ",69],["T_IF","if",69],["T_WHITESPACE"," ",69],"(",["T_VARIABLE","$e",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getCode",69],"(",")",["T_WHITESPACE"," ",69],["T_IS_EQUAL","==",69],["T_WHITESPACE"," ",69],["T_STRING","Connection",69],["T_DOUBLE_COLON","::",69],["T_STRING","UNSUPPORTED_CHARSET",69],["T_WHITESPACE"," ",69],["T_BOOLEAN_OR","||",69],["T_WHITESPACE"," ",69],"(",["T_VARIABLE","$e",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getCode",69],"(",")",["T_WHITESPACE"," ",69],["T_IS_EQUAL","==",69],["T_WHITESPACE"," ",69],["T_STRING","Connection",69],["T_DOUBLE_COLON","::",69],["T_STRING","SQLSTATE_SYNTAX_ERROR",69],["T_WHITESPACE"," ",69],["T_BOOLEAN_AND","&&",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$e",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","errorInfo",69],"[",["T_LNUMBER","1",69],"]",["T_WHITESPACE"," ",69],["T_IS_EQUAL","==",69],["T_WHITESPACE"," ",69],["T_STRING","Connection",69],["T_DOUBLE_COLON","::",69],["T_STRING","UNKNOWN_CHARSET",69],")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n          ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","fail",70],"(",["T_STRING","t",70],"(",["T_CONSTANT_ENCAPSED_STRING","'Your MySQL server and PHP MySQL driver must support utf8mb4 character encoding. Make sure to use a database system that supports this (such as MySQL\/MariaDB\/Percona 5.5.3 and up), and that the utf8mb4 character set is compiled in. See the <a href=\":documentation\" target=\"_blank\">MySQL documentation<\/a> for more information.'",70],",",["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",["T_CONSTANT_ENCAPSED_STRING","':documentation'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/dev.mysql.com\/doc\/refman\/5.0\/en\/cannot-initialize-character-set.html'",70],")",")",")",";",["T_WHITESPACE","\n          ",70],["T_VARIABLE","$info",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","Database",71],["T_DOUBLE_COLON","::",71],["T_STRING","getConnectionInfo",71],"(",")",";",["T_WHITESPACE","\n          ",71],["T_VARIABLE","$info_copy",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$info",72],";",["T_WHITESPACE","\n          ",72],["T_COMMENT","\/\/ Set a flag to fall back to utf8. Note: this flag should only be\n",73],["T_WHITESPACE","          ",74],["T_COMMENT","\/\/ used here and is for internal use only.\n",74],["T_WHITESPACE","          ",75],["T_VARIABLE","$info_copy",75],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",75],"]","[",["T_CONSTANT_ENCAPSED_STRING","'_dsn_utf8_fallback'",75],"]",["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","TRUE",75],";",["T_WHITESPACE","\n          ",75],["T_COMMENT","\/\/ In order to change the Database::$databaseInfo array, we need to\n",76],["T_WHITESPACE","          ",77],["T_COMMENT","\/\/ remove the active connection, then re-add it with the new info.\n",77],["T_WHITESPACE","          ",78],["T_STRING","Database",78],["T_DOUBLE_COLON","::",78],["T_STRING","removeConnection",78],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",78],")",";",["T_WHITESPACE","\n          ",78],["T_STRING","Database",79],["T_DOUBLE_COLON","::",79],["T_STRING","addConnectionInfo",79],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'default'",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$info_copy",79],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",79],"]",")",";",["T_WHITESPACE","\n          ",79],["T_COMMENT","\/\/ Connect with the new database info, using the utf8 character set so\n",80],["T_WHITESPACE","          ",81],["T_COMMENT","\/\/ that we can run the checkEngineVersion test.\n",81],["T_WHITESPACE","          ",82],["T_STRING","Database",82],["T_DOUBLE_COLON","::",82],["T_STRING","getConnection",82],"(",")",";",["T_WHITESPACE","\n          ",82],["T_COMMENT","\/\/ Revert to the old settings.\n",83],["T_WHITESPACE","          ",84],["T_STRING","Database",84],["T_DOUBLE_COLON","::",84],["T_STRING","removeConnection",84],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",84],")",";",["T_WHITESPACE","\n          ",84],["T_STRING","Database",85],["T_DOUBLE_COLON","::",85],["T_STRING","addConnectionInfo",85],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'default'",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$info",85],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",85],"]",")",";",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n        ",86],["T_ELSE","else",87],["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n          ",87],["T_COMMENT","\/\/ Rethrow the exception.\n",88],["T_WHITESPACE","          ",89],["T_THROW","throw",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$e",89],";",["T_WHITESPACE","\n        ",89],"}",["T_WHITESPACE","\n      ",90],"}",["T_WHITESPACE","\n      ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","pass",92],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal can CONNECT to the database ok.'",92],")",";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n    ",93],["T_CATCH","catch",94],["T_WHITESPACE"," ",94],"(",["T_NS_SEPARATOR","\\",94],["T_STRING","Exception",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$e",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n      ",94],["T_COMMENT","\/\/ Attempt to create the database if it is not found.\n",95],["T_WHITESPACE","      ",96],["T_IF","if",96],["T_WHITESPACE"," ",96],"(",["T_VARIABLE","$e",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getCode",96],"(",")",["T_WHITESPACE"," ",96],["T_IS_EQUAL","==",96],["T_WHITESPACE"," ",96],["T_STRING","Connection",96],["T_DOUBLE_COLON","::",96],["T_STRING","DATABASE_NOT_FOUND",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n        ",96],["T_COMMENT","\/\/ Remove the database string from connection info.\n",97],["T_WHITESPACE","        ",98],["T_VARIABLE","$connection_info",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","Database",98],["T_DOUBLE_COLON","::",98],["T_STRING","getConnectionInfo",98],"(",")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$database",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$connection_info",99],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",99],"]","[",["T_CONSTANT_ENCAPSED_STRING","'database'",99],"]",";",["T_WHITESPACE","\n        ",99],["T_UNSET","unset",100],"(",["T_VARIABLE","$connection_info",100],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",100],"]","[",["T_CONSTANT_ENCAPSED_STRING","'database'",100],"]",")",";",["T_WHITESPACE","\n\n        ",100],["T_COMMENT","\/\/ In order to change the Database::$databaseInfo array, need to remove\n",102],["T_WHITESPACE","        ",103],["T_COMMENT","\/\/ the active connection, then re-add it with the new info.\n",103],["T_WHITESPACE","        ",104],["T_STRING","Database",104],["T_DOUBLE_COLON","::",104],["T_STRING","removeConnection",104],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",104],")",";",["T_WHITESPACE","\n        ",104],["T_STRING","Database",105],["T_DOUBLE_COLON","::",105],["T_STRING","addConnectionInfo",105],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'default'",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$connection_info",105],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",105],"]",")",";",["T_WHITESPACE","\n\n        ",105],["T_TRY","try",107],["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n          ",107],["T_COMMENT","\/\/ Now, attempt the connection again; if it's successful, attempt to\n",108],["T_WHITESPACE","          ",109],["T_COMMENT","\/\/ create the database.\n",109],["T_WHITESPACE","          ",110],["T_STRING","Database",110],["T_DOUBLE_COLON","::",110],["T_STRING","getConnection",110],"(",")",["T_OBJECT_OPERATOR","->",110],["T_STRING","createDatabase",110],"(",["T_VARIABLE","$database",110],")",";",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE","\n        ",111],["T_CATCH","catch",112],["T_WHITESPACE"," ",112],"(",["T_STRING","DatabaseNotFoundException",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$e",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n          ",112],["T_COMMENT","\/\/ Still no dice; probably a permission issue. Raise the error to the\n",113],["T_WHITESPACE","          ",114],["T_COMMENT","\/\/ installer.\n",114],["T_WHITESPACE","          ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","fail",115],"(",["T_STRING","t",115],"(",["T_CONSTANT_ENCAPSED_STRING","'Database %database not found. The server reports the following message when attempting to create the database: %error.'",115],",",["T_WHITESPACE"," ",115],["T_ARRAY","array",115],"(",["T_CONSTANT_ENCAPSED_STRING","'%database'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$database",115],",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'%error'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$e",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getMessage",115],"(",")",")",")",")",";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n      ",116],"}",["T_WHITESPACE","\n      ",117],["T_ELSE","else",118],["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n        ",118],["T_COMMENT","\/\/ Database connection failed for some other reason than the database\n",119],["T_WHITESPACE","        ",120],["T_COMMENT","\/\/ not existing.\n",120],["T_WHITESPACE","        ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","fail",121],"(",["T_STRING","t",121],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to connect to your database server. The server reports the following message: %error.<ul><li>Is the database server running?<\/li><li>Does the database exist or does the database user have sufficient privileges to create the database?<\/li><li>Have you entered the correct database name?<\/li><li>Have you entered the correct username and password?<\/li><li>Have you entered the correct database hostname?<\/li><\/ul>'",121],",",["T_WHITESPACE"," ",121],["T_ARRAY","array",121],"(",["T_CONSTANT_ENCAPSED_STRING","'%error'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$e",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getMessage",121],"(",")",")",")",")",";",["T_WHITESPACE","\n        ",121],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_STRING","FALSE",122],";",["T_WHITESPACE","\n      ",122],"}",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n    ",124],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_STRING","TRUE",125],";",["T_WHITESPACE","\n  ",125],"}",["T_WHITESPACE","\n\n  ",126],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",128],["T_WHITESPACE","\n  ",130],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","getFormOptions",131],"(",["T_ARRAY","array",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$database",131],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$form",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_STRING","parent",132],["T_DOUBLE_COLON","::",132],["T_STRING","getFormOptions",132],"(",["T_VARIABLE","$database",132],")",";",["T_WHITESPACE","\n    ",132],["T_IF","if",133],["T_WHITESPACE"," ",133],"(",["T_EMPTY","empty",133],"(",["T_VARIABLE","$form",133],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced_options'",133],"]","[",["T_CONSTANT_ENCAPSED_STRING","'port'",133],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",133],"]",")",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n      ",133],["T_VARIABLE","$form",134],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced_options'",134],"]","[",["T_CONSTANT_ENCAPSED_STRING","'port'",134],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",134],"]",["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'3306'",134],";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_RETURN","return",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$form",137],";",["T_WHITESPACE","\n  ",137],"}",["T_WHITESPACE","\n\n  ",138],["T_DOC_COMMENT","\/**\n   * Ensure that InnoDB is available.\n   *\/",140],["T_WHITESPACE","\n  ",142],["T_FUNCTION","function",143],["T_WHITESPACE"," ",143],["T_STRING","ensureInnoDbAvailable",143],"(",")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n    ",143],["T_VARIABLE","$engines",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_STRING","Database",144],["T_DOUBLE_COLON","::",144],["T_STRING","getConnection",144],"(",")",["T_OBJECT_OPERATOR","->",144],["T_STRING","query",144],"(",["T_CONSTANT_ENCAPSED_STRING","'SHOW ENGINES'",144],")",["T_OBJECT_OPERATOR","->",144],["T_STRING","fetchAllKeyed",144],"(",")",";",["T_WHITESPACE","\n    ",144],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_ISSET","isset",145],"(",["T_VARIABLE","$engines",145],"[",["T_CONSTANT_ENCAPSED_STRING","'MyISAM'",145],"]",")",["T_WHITESPACE"," ",145],["T_BOOLEAN_AND","&&",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$engines",145],"[",["T_CONSTANT_ENCAPSED_STRING","'MyISAM'",145],"]",["T_WHITESPACE"," ",145],["T_IS_EQUAL","==",145],["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'DEFAULT'",145],["T_WHITESPACE"," ",145],["T_BOOLEAN_AND","&&",145],["T_WHITESPACE"," ",145],"!",["T_ISSET","isset",145],"(",["T_VARIABLE","$engines",145],"[",["T_CONSTANT_ENCAPSED_STRING","'InnoDB'",145],"]",")",")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n      ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","fail",146],"(",["T_STRING","t",146],"(",["T_CONSTANT_ENCAPSED_STRING","'The MyISAM storage engine is not supported.'",146],")",")",";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n  ",147],"}",["T_WHITESPACE","\n\n  ",148],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",150],["T_WHITESPACE","\n  ",152],["T_PROTECTED","protected",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","checkEngineVersion",153],"(",")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n    ",153],["T_STRING","parent",154],["T_DOUBLE_COLON","::",154],["T_STRING","checkEngineVersion",154],"(",")",";",["T_WHITESPACE","\n\n    ",154],["T_COMMENT","\/\/ Ensure that the MySQL driver supports utf8mb4 encoding.\n",156],["T_WHITESPACE","    ",157],["T_VARIABLE","$version",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_STRING","Database",157],["T_DOUBLE_COLON","::",157],["T_STRING","getConnection",157],"(",")",["T_OBJECT_OPERATOR","->",157],["T_STRING","clientVersion",157],"(",")",";",["T_WHITESPACE","\n    ",157],["T_IF","if",158],["T_WHITESPACE"," ",158],"(",["T_STRING","FALSE",158],["T_WHITESPACE"," ",158],["T_IS_NOT_IDENTICAL","!==",158],["T_WHITESPACE"," ",158],["T_STRING","strpos",158],"(",["T_VARIABLE","$version",158],",",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'mysqlnd'",158],")",")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n      ",158],["T_COMMENT","\/\/ The mysqlnd driver supports utf8mb4 starting at version 5.0.9.\n",159],["T_WHITESPACE","      ",160],["T_VARIABLE","$version",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_STRING","preg_replace",160],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^\\D+([\\d.]+).*\/'",160],",",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'$1'",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$version",160],")",";",["T_WHITESPACE","\n      ",160],["T_IF","if",161],["T_WHITESPACE"," ",161],"(",["T_STRING","version_compare",161],"(",["T_VARIABLE","$version",161],",",["T_WHITESPACE"," ",161],["T_STRING","self",161],["T_DOUBLE_COLON","::",161],["T_STRING","MYSQLND_MINIMUM_VERSION",161],",",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'<'",161],")",")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","fail",162],"(",["T_STRING","t",162],"(",["T_CONSTANT_ENCAPSED_STRING","\"The MySQLnd driver version %version is less than the minimum required version. Upgrade to MySQLnd version %mysqlnd_minimum_version or up, or alternatively switch mysql drivers to libmysqlclient version %libmysqlclient_minimum_version or up.\"",162],",",["T_WHITESPACE"," ",162],["T_ARRAY","array",162],"(",["T_CONSTANT_ENCAPSED_STRING","'%version'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$version",162],",",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'%mysqlnd_minimum_version'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_STRING","self",162],["T_DOUBLE_COLON","::",162],["T_STRING","MYSQLND_MINIMUM_VERSION",162],",",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'%libmysqlclient_minimum_version'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_STRING","self",162],["T_DOUBLE_COLON","::",162],["T_STRING","LIBMYSQLCLIENT_MINIMUM_VERSION",162],")",")",")",";",["T_WHITESPACE","\n      ",162],"}",["T_WHITESPACE","\n    ",163],"}",["T_WHITESPACE","\n    ",164],["T_ELSE","else",165],["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n      ",165],["T_COMMENT","\/\/ The libmysqlclient driver supports utf8mb4 starting at version 5.5.3.\n",166],["T_WHITESPACE","      ",167],["T_IF","if",167],["T_WHITESPACE"," ",167],"(",["T_STRING","version_compare",167],"(",["T_VARIABLE","$version",167],",",["T_WHITESPACE"," ",167],["T_STRING","self",167],["T_DOUBLE_COLON","::",167],["T_STRING","LIBMYSQLCLIENT_MINIMUM_VERSION",167],",",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'<'",167],")",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","fail",168],"(",["T_STRING","t",168],"(",["T_CONSTANT_ENCAPSED_STRING","\"The libmysqlclient driver version %version is less than the minimum required version. Upgrade to libmysqlclient version %libmysqlclient_minimum_version or up, or alternatively switch mysql drivers to MySQLnd version %mysqlnd_minimum_version or up.\"",168],",",["T_WHITESPACE"," ",168],["T_ARRAY","array",168],"(",["T_CONSTANT_ENCAPSED_STRING","'%version'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$version",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'%libmysqlclient_minimum_version'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_STRING","self",168],["T_DOUBLE_COLON","::",168],["T_STRING","LIBMYSQLCLIENT_MINIMUM_VERSION",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'%mysqlnd_minimum_version'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_STRING","self",168],["T_DOUBLE_COLON","::",168],["T_STRING","MYSQLND_MINIMUM_VERSION",168],")",")",")",";",["T_WHITESPACE","\n      ",168],"}",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n  ",170],"}",["T_WHITESPACE","\n\n",171],"}",["T_WHITESPACE","\n",173]]