[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Database",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Driver",3],["T_NS_SEPARATOR","\\",3],["T_STRING","sqlite",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Database",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Database",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Database",6],["T_NS_SEPARATOR","\\",6],["T_STRING","DatabaseNotFoundException",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Database",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Connection",7],["T_WHITESPACE"," ",7],["T_AS","as",7],["T_WHITESPACE"," ",7],["T_STRING","DatabaseConnection",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * SQLite implementation of \\Drupal\\Core\\Database\\Connection.\n *\/",9],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","Connection",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","DatabaseConnection",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * Error code for \"Unable to open database file\" error.\n   *\/",14],["T_WHITESPACE","\n  ",16],["T_CONST","const",17],["T_WHITESPACE"," ",17],["T_STRING","DATABASE_NOT_FOUND",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_LNUMBER","14",17],";",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * Whether or not the active transaction (if any) will be rolled back.\n   *\n   * @var bool\n   *\/",19],["T_WHITESPACE","\n  ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$willRollback",24],";",["T_WHITESPACE","\n\n  ",24],["T_DOC_COMMENT","\/**\n   * All databases attached to the current database. This is used to allow\n   * prefixes to be safely handled without locking the table\n   *\n   * @var array\n   *\/",26],["T_WHITESPACE","\n  ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$attachedDatabases",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_ARRAY","array",32],"(",")",";",["T_WHITESPACE","\n\n  ",32],["T_DOC_COMMENT","\/**\n   * Whether or not a table has been dropped this request: the destructor will\n   * only try to get rid of unnecessary databases if there is potential of them\n   * being empty.\n   *\n   * This variable is set to public because Schema needs to\n   * access it. However, it should not be manually set.\n   *\n   * @var bool\n   *\/",34],["T_WHITESPACE","\n  ",43],["T_PUBLIC","public",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$tableDropped",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","FALSE",44],";",["T_WHITESPACE","\n\n  ",44],["T_DOC_COMMENT","\/**\n   * Constructs a \\Drupal\\Core\\Database\\Driver\\sqlite\\Connection object.\n   *\/",46],["T_WHITESPACE","\n  ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","__construct",49],"(",["T_NS_SEPARATOR","\\",49],["T_STRING","PDO",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$connection",49],",",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$connection_options",49],")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n    ",49],["T_COMMENT","\/\/ We don't need a specific PDOStatement class here, we simulate it in\n",50],["T_WHITESPACE","    ",51],["T_COMMENT","\/\/ static::prepare().\n",51],["T_WHITESPACE","    ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","statementClass",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","NULL",52],";",["T_WHITESPACE","\n\n    ",52],["T_STRING","parent",54],["T_DOUBLE_COLON","::",54],["T_STRING","__construct",54],"(",["T_VARIABLE","$connection",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$connection_options",54],")",";",["T_WHITESPACE","\n\n    ",54],["T_COMMENT","\/\/ This driver defaults to transaction support, except if explicitly passed FALSE.\n",56],["T_WHITESPACE","    ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","transactionSupport",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","transactionalDDLSupport",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],"!",["T_ISSET","isset",57],"(",["T_VARIABLE","$connection_options",57],"[",["T_CONSTANT_ENCAPSED_STRING","'transactions'",57],"]",")",["T_WHITESPACE"," ",57],["T_BOOLEAN_OR","||",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$connection_options",57],"[",["T_CONSTANT_ENCAPSED_STRING","'transactions'",57],"]",["T_WHITESPACE"," ",57],["T_IS_NOT_IDENTICAL","!==",57],["T_WHITESPACE"," ",57],["T_STRING","FALSE",57],";",["T_WHITESPACE","\n\n    ",57],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","connectionOptions",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$connection_options",59],";",["T_WHITESPACE","\n\n    ",59],["T_COMMENT","\/\/ Attach one database for each registered prefix.\n",61],["T_WHITESPACE","    ",62],["T_VARIABLE","$prefixes",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","prefixes",62],";",["T_WHITESPACE","\n    ",62],["T_FOREACH","foreach",63],["T_WHITESPACE"," ",63],"(",["T_VARIABLE","$prefixes",63],["T_WHITESPACE"," ",63],["T_AS","as",63],["T_WHITESPACE"," ",63],"&",["T_VARIABLE","$prefix",63],")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n      ",63],["T_COMMENT","\/\/ Empty prefix means query the main database -- no need to attach anything.\n",64],["T_WHITESPACE","      ",65],["T_IF","if",65],["T_WHITESPACE"," ",65],"(","!",["T_EMPTY","empty",65],"(",["T_VARIABLE","$prefix",65],")",")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n        ",65],["T_COMMENT","\/\/ Only attach the database once.\n",66],["T_WHITESPACE","        ",67],["T_IF","if",67],["T_WHITESPACE"," ",67],"(","!",["T_ISSET","isset",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","attachedDatabases",67],"[",["T_VARIABLE","$prefix",67],"]",")",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n          ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","attachedDatabases",68],"[",["T_VARIABLE","$prefix",68],"]",["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$prefix",68],";",["T_WHITESPACE","\n          ",68],["T_IF","if",69],["T_WHITESPACE"," ",69],"(",["T_VARIABLE","$connection_options",69],"[",["T_CONSTANT_ENCAPSED_STRING","'database'",69],"]",["T_WHITESPACE"," ",69],["T_IS_IDENTICAL","===",69],["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","':memory:'",69],")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n            ",69],["T_COMMENT","\/\/ In memory database use ':memory:' as database name. According to\n",70],["T_WHITESPACE","            ",71],["T_COMMENT","\/\/ http:\/\/www.sqlite.org\/inmemorydb.html it will open a unique\n",71],["T_WHITESPACE","            ",72],["T_COMMENT","\/\/ database so attaching it twice is not a problem.\n",72],["T_WHITESPACE","            ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","query",73],"(",["T_CONSTANT_ENCAPSED_STRING","'ATTACH DATABASE :database AS :prefix'",73],",",["T_WHITESPACE"," ",73],["T_ARRAY","array",73],"(",["T_CONSTANT_ENCAPSED_STRING","':database'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$connection_options",73],"[",["T_CONSTANT_ENCAPSED_STRING","'database'",73],"]",",",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","':prefix'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$prefix",73],")",")",";",["T_WHITESPACE","\n          ",73],"}",["T_WHITESPACE","\n          ",74],["T_ELSE","else",75],["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n            ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","query",76],"(",["T_CONSTANT_ENCAPSED_STRING","'ATTACH DATABASE :database AS :prefix'",76],",",["T_WHITESPACE"," ",76],["T_ARRAY","array",76],"(",["T_CONSTANT_ENCAPSED_STRING","':database'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$connection_options",76],"[",["T_CONSTANT_ENCAPSED_STRING","'database'",76],"]",["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'-'",76],["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_VARIABLE","$prefix",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","':prefix'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$prefix",76],")",")",";",["T_WHITESPACE","\n          ",76],"}",["T_WHITESPACE","\n        ",77],"}",["T_WHITESPACE","\n\n        ",78],["T_COMMENT","\/\/ Add a ., so queries become prefix.table, which is proper syntax for\n",80],["T_WHITESPACE","        ",81],["T_COMMENT","\/\/ querying an attached database.\n",81],["T_WHITESPACE","        ",82],["T_VARIABLE","$prefix",82],["T_WHITESPACE"," ",82],["T_CONCAT_EQUAL",".=",82],["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'.'",82],";",["T_WHITESPACE","\n      ",82],"}",["T_WHITESPACE","\n    ",83],"}",["T_WHITESPACE","\n    ",84],["T_COMMENT","\/\/ Regenerate the prefixes replacement table.\n",85],["T_WHITESPACE","    ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","setPrefix",86],"(",["T_VARIABLE","$prefixes",86],")",";",["T_WHITESPACE","\n  ",86],"}",["T_WHITESPACE","\n\n  ",87],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",89],["T_WHITESPACE","\n  ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_STATIC","static",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","open",92],"(",["T_ARRAY","array",92],["T_WHITESPACE"," ",92],"&",["T_VARIABLE","$connection_options",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_ARRAY","array",92],"(",")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n    ",92],["T_COMMENT","\/\/ Allow PDO options to be overridden.\n",93],["T_WHITESPACE","    ",94],["T_VARIABLE","$connection_options",94],["T_WHITESPACE"," ",94],["T_PLUS_EQUAL","+=",94],["T_WHITESPACE"," ",94],["T_ARRAY","array",94],"(",["T_WHITESPACE","\n      ",94],["T_CONSTANT_ENCAPSED_STRING","'pdo'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_ARRAY","array",95],"(",")",",",["T_WHITESPACE","\n    ",95],")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$connection_options",97],"[",["T_CONSTANT_ENCAPSED_STRING","'pdo'",97],"]",["T_WHITESPACE"," ",97],["T_PLUS_EQUAL","+=",97],["T_WHITESPACE"," ",97],["T_ARRAY","array",97],"(",["T_WHITESPACE","\n      ",97],["T_NS_SEPARATOR","\\",98],["T_STRING","PDO",98],["T_DOUBLE_COLON","::",98],["T_STRING","ATTR_ERRMODE",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_NS_SEPARATOR","\\",98],["T_STRING","PDO",98],["T_DOUBLE_COLON","::",98],["T_STRING","ERRMODE_EXCEPTION",98],",",["T_WHITESPACE","\n      ",98],["T_COMMENT","\/\/ Convert numeric values to strings when fetching.\n",99],["T_WHITESPACE","      ",100],["T_NS_SEPARATOR","\\",100],["T_STRING","PDO",100],["T_DOUBLE_COLON","::",100],["T_STRING","ATTR_STRINGIFY_FETCHES",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_STRING","TRUE",100],",",["T_WHITESPACE","\n    ",100],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$pdo",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_NEW","new",102],["T_WHITESPACE"," ",102],["T_NS_SEPARATOR","\\",102],["T_STRING","PDO",102],"(",["T_CONSTANT_ENCAPSED_STRING","'sqlite:'",102],["T_WHITESPACE"," ",102],".",["T_WHITESPACE"," ",102],["T_VARIABLE","$connection_options",102],"[",["T_CONSTANT_ENCAPSED_STRING","'database'",102],"]",",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","''",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","''",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$connection_options",102],"[",["T_CONSTANT_ENCAPSED_STRING","'pdo'",102],"]",")",";",["T_WHITESPACE","\n\n    ",102],["T_COMMENT","\/\/ Create functions needed by SQLite.\n",104],["T_WHITESPACE","    ",105],["T_VARIABLE","$pdo",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","sqliteCreateFunction",105],"(",["T_CONSTANT_ENCAPSED_STRING","'if'",105],",",["T_WHITESPACE"," ",105],["T_ARRAY","array",105],"(",["T_CLASS_C","__CLASS__",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'sqlFunctionIf'",105],")",")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$pdo",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","sqliteCreateFunction",106],"(",["T_CONSTANT_ENCAPSED_STRING","'greatest'",106],",",["T_WHITESPACE"," ",106],["T_ARRAY","array",106],"(",["T_CLASS_C","__CLASS__",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'sqlFunctionGreatest'",106],")",")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$pdo",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","sqliteCreateFunction",107],"(",["T_CONSTANT_ENCAPSED_STRING","'pow'",107],",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'pow'",107],",",["T_WHITESPACE"," ",107],["T_LNUMBER","2",107],")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$pdo",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","sqliteCreateFunction",108],"(",["T_CONSTANT_ENCAPSED_STRING","'exp'",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'exp'",108],",",["T_WHITESPACE"," ",108],["T_LNUMBER","1",108],")",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$pdo",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","sqliteCreateFunction",109],"(",["T_CONSTANT_ENCAPSED_STRING","'length'",109],",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'strlen'",109],",",["T_WHITESPACE"," ",109],["T_LNUMBER","1",109],")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$pdo",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","sqliteCreateFunction",110],"(",["T_CONSTANT_ENCAPSED_STRING","'md5'",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'md5'",110],",",["T_WHITESPACE"," ",110],["T_LNUMBER","1",110],")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$pdo",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","sqliteCreateFunction",111],"(",["T_CONSTANT_ENCAPSED_STRING","'concat'",111],",",["T_WHITESPACE"," ",111],["T_ARRAY","array",111],"(",["T_CLASS_C","__CLASS__",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'sqlFunctionConcat'",111],")",")",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$pdo",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","sqliteCreateFunction",112],"(",["T_CONSTANT_ENCAPSED_STRING","'concat_ws'",112],",",["T_WHITESPACE"," ",112],["T_ARRAY","array",112],"(",["T_CLASS_C","__CLASS__",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'sqlFunctionConcatWs'",112],")",")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$pdo",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","sqliteCreateFunction",113],"(",["T_CONSTANT_ENCAPSED_STRING","'substring'",113],",",["T_WHITESPACE"," ",113],["T_ARRAY","array",113],"(",["T_CLASS_C","__CLASS__",113],",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'sqlFunctionSubstring'",113],")",",",["T_WHITESPACE"," ",113],["T_LNUMBER","3",113],")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$pdo",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","sqliteCreateFunction",114],"(",["T_CONSTANT_ENCAPSED_STRING","'substring_index'",114],",",["T_WHITESPACE"," ",114],["T_ARRAY","array",114],"(",["T_CLASS_C","__CLASS__",114],",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'sqlFunctionSubstringIndex'",114],")",",",["T_WHITESPACE"," ",114],["T_LNUMBER","3",114],")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$pdo",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","sqliteCreateFunction",115],"(",["T_CONSTANT_ENCAPSED_STRING","'rand'",115],",",["T_WHITESPACE"," ",115],["T_ARRAY","array",115],"(",["T_CLASS_C","__CLASS__",115],",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'sqlFunctionRand'",115],")",")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$pdo",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","sqliteCreateFunction",116],"(",["T_CONSTANT_ENCAPSED_STRING","'regexp'",116],",",["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",["T_CLASS_C","__CLASS__",116],",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'sqlFunctionRegexp'",116],")",")",";",["T_WHITESPACE","\n\n    ",116],["T_COMMENT","\/\/ SQLite does not support the LIKE BINARY operator, so we overload the\n",118],["T_WHITESPACE","    ",119],["T_COMMENT","\/\/ non-standard GLOB operator for case-sensitive matching. Another option\n",119],["T_WHITESPACE","    ",120],["T_COMMENT","\/\/ would have been to override another non-standard operator, MATCH, but\n",120],["T_WHITESPACE","    ",121],["T_COMMENT","\/\/ that does not support the NOT keyword prefix.\n",121],["T_WHITESPACE","    ",122],["T_VARIABLE","$pdo",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","sqliteCreateFunction",122],"(",["T_CONSTANT_ENCAPSED_STRING","'glob'",122],",",["T_WHITESPACE"," ",122],["T_ARRAY","array",122],"(",["T_CLASS_C","__CLASS__",122],",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'sqlFunctionLikeBinary'",122],")",")",";",["T_WHITESPACE","\n\n    ",122],["T_COMMENT","\/\/ Create a user-space case-insensitive collation with UTF-8 support.\n",124],["T_WHITESPACE","    ",125],["T_VARIABLE","$pdo",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","sqliteCreateCollation",125],"(",["T_CONSTANT_ENCAPSED_STRING","'NOCASE_UTF8'",125],",",["T_WHITESPACE"," ",125],["T_ARRAY","array",125],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Component\\Utility\\Unicode'",125],",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'strcasecmp'",125],")",")",";",["T_WHITESPACE","\n\n    ",125],["T_COMMENT","\/\/ Set SQLite init_commands if not already defined. Enable the Write-Ahead\n",127],["T_WHITESPACE","    ",128],["T_COMMENT","\/\/ Logging (WAL) for SQLite. See https:\/\/www.drupal.org\/node\/2348137 and\n",128],["T_WHITESPACE","    ",129],["T_COMMENT","\/\/ https:\/\/www.sqlite.org\/wal.html.\n",129],["T_WHITESPACE","    ",130],["T_VARIABLE","$connection_options",130],["T_WHITESPACE"," ",130],["T_PLUS_EQUAL","+=",130],["T_WHITESPACE"," ",130],["T_ARRAY","array",130],"(",["T_WHITESPACE","\n      ",130],["T_CONSTANT_ENCAPSED_STRING","'init_commands'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_ARRAY","array",131],"(",")",",",["T_WHITESPACE","\n    ",131],")",";",["T_WHITESPACE","\n    ",132],["T_VARIABLE","$connection_options",133],"[",["T_CONSTANT_ENCAPSED_STRING","'init_commands'",133],"]",["T_WHITESPACE"," ",133],["T_PLUS_EQUAL","+=",133],["T_WHITESPACE"," ",133],["T_ARRAY","array",133],"(",["T_WHITESPACE","\n      ",133],["T_CONSTANT_ENCAPSED_STRING","'wal'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","\"PRAGMA journal_mode=WAL\"",134],",",["T_WHITESPACE","\n    ",134],")",";",["T_WHITESPACE","\n\n    ",135],["T_COMMENT","\/\/ Execute sqlite init_commands.\n",137],["T_WHITESPACE","    ",138],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_ISSET","isset",138],"(",["T_VARIABLE","$connection_options",138],"[",["T_CONSTANT_ENCAPSED_STRING","'init_commands'",138],"]",")",")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n      ",138],["T_VARIABLE","$pdo",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","exec",139],"(",["T_STRING","implode",139],"(",["T_CONSTANT_ENCAPSED_STRING","'; '",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$connection_options",139],"[",["T_CONSTANT_ENCAPSED_STRING","'init_commands'",139],"]",")",")",";",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n\n    ",140],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$pdo",142],";",["T_WHITESPACE","\n  ",142],"}",["T_WHITESPACE","\n\n\n  ",143],["T_DOC_COMMENT","\/**\n   * Destructor for the SQLite connection.\n   *\n   * We prune empty databases on destruct, but only if tables have been\n   * dropped. This is especially needed when running the test suite, which\n   * creates and destroy databases several times in a row.\n   *\/",146],["T_WHITESPACE","\n  ",152],["T_PUBLIC","public",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","__destruct",153],"(",")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n    ",153],["T_IF","if",154],["T_WHITESPACE"," ",154],"(",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","tableDropped",154],["T_WHITESPACE"," ",154],["T_BOOLEAN_AND","&&",154],["T_WHITESPACE"," ",154],"!",["T_EMPTY","empty",154],"(",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","attachedDatabases",154],")",")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n      ",154],["T_FOREACH","foreach",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","attachedDatabases",155],["T_WHITESPACE"," ",155],["T_AS","as",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$prefix",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n        ",155],["T_COMMENT","\/\/ Check if the database is now empty, ignore the internal SQLite tables.\n",156],["T_WHITESPACE","        ",157],["T_TRY","try",157],["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n          ",157],["T_VARIABLE","$count",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","query",158],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(*) FROM '",158],["T_WHITESPACE"," ",158],".",["T_WHITESPACE"," ",158],["T_VARIABLE","$prefix",158],["T_WHITESPACE"," ",158],".",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'.sqlite_master WHERE type = :type AND name NOT LIKE :pattern'",158],",",["T_WHITESPACE"," ",158],["T_ARRAY","array",158],"(",["T_CONSTANT_ENCAPSED_STRING","':type'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'table'",158],",",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","':pattern'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'sqlite_%'",158],")",")",["T_OBJECT_OPERATOR","->",158],["T_STRING","fetchField",158],"(",")",";",["T_WHITESPACE","\n\n          ",158],["T_COMMENT","\/\/ We can prune the database file if it doesn't have any tables.\n",160],["T_WHITESPACE","          ",161],["T_IF","if",161],["T_WHITESPACE"," ",161],"(",["T_VARIABLE","$count",161],["T_WHITESPACE"," ",161],["T_IS_EQUAL","==",161],["T_WHITESPACE"," ",161],["T_LNUMBER","0",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n            ",161],["T_COMMENT","\/\/ Detaching the database fails at this point, but no other queries\n",162],["T_WHITESPACE","            ",163],["T_COMMENT","\/\/ are executed after the connection is destructed so we can simply\n",163],["T_WHITESPACE","            ",164],["T_COMMENT","\/\/ remove the database file.\n",164],["T_WHITESPACE","            ",165],["T_STRING","unlink",165],"(",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","connectionOptions",165],"[",["T_CONSTANT_ENCAPSED_STRING","'database'",165],"]",["T_WHITESPACE"," ",165],".",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'-'",165],["T_WHITESPACE"," ",165],".",["T_WHITESPACE"," ",165],["T_VARIABLE","$prefix",165],")",";",["T_WHITESPACE","\n          ",165],"}",["T_WHITESPACE","\n        ",166],"}",["T_WHITESPACE","\n        ",167],["T_CATCH","catch",168],["T_WHITESPACE"," ",168],"(",["T_NS_SEPARATOR","\\",168],["T_STRING","Exception",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$e",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n          ",168],["T_COMMENT","\/\/ Ignore the exception and continue. There is nothing we can do here\n",169],["T_WHITESPACE","          ",170],["T_COMMENT","\/\/ to report the error or fail safe.\n",170],["T_WHITESPACE","        ",171],"}",["T_WHITESPACE","\n      ",171],"}",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n  ",173],"}",["T_WHITESPACE","\n\n  ",174],["T_DOC_COMMENT","\/**\n   * Gets all the attached databases.\n   *\n   * @return array\n   *   An array of attached database names.\n   *\n   * @see \\Drupal\\Core\\Database\\Driver\\sqlite\\Connection::__construct()\n   *\/",176],["T_WHITESPACE","\n  ",183],["T_PUBLIC","public",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","getAttachedDatabases",184],"(",")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n    ",184],["T_RETURN","return",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","attachedDatabases",185],";",["T_WHITESPACE","\n  ",185],"}",["T_WHITESPACE","\n\n  ",186],["T_DOC_COMMENT","\/**\n   * SQLite compatibility implementation for the IF() SQL function.\n   *\/",188],["T_WHITESPACE","\n  ",190],["T_PUBLIC","public",191],["T_WHITESPACE"," ",191],["T_STATIC","static",191],["T_WHITESPACE"," ",191],["T_FUNCTION","function",191],["T_WHITESPACE"," ",191],["T_STRING","sqlFunctionIf",191],"(",["T_VARIABLE","$condition",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$expr1",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$expr2",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_STRING","NULL",191],")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n    ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$condition",192],["T_WHITESPACE"," ",192],"?",["T_WHITESPACE"," ",192],["T_VARIABLE","$expr1",192],["T_WHITESPACE"," ",192],":",["T_WHITESPACE"," ",192],["T_VARIABLE","$expr2",192],";",["T_WHITESPACE","\n  ",192],"}",["T_WHITESPACE","\n\n  ",193],["T_DOC_COMMENT","\/**\n   * SQLite compatibility implementation for the GREATEST() SQL function.\n   *\/",195],["T_WHITESPACE","\n  ",197],["T_PUBLIC","public",198],["T_WHITESPACE"," ",198],["T_STATIC","static",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","sqlFunctionGreatest",198],"(",")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n    ",198],["T_VARIABLE","$args",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_STRING","func_get_args",199],"(",")",";",["T_WHITESPACE","\n    ",199],["T_FOREACH","foreach",200],["T_WHITESPACE"," ",200],"(",["T_VARIABLE","$args",200],["T_WHITESPACE"," ",200],["T_AS","as",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$v",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n      ",200],["T_IF","if",201],["T_WHITESPACE"," ",201],"(","!",["T_ISSET","isset",201],"(",["T_VARIABLE","$v",201],")",")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n        ",201],["T_UNSET","unset",202],"(",["T_VARIABLE","$args",202],")",";",["T_WHITESPACE","\n      ",202],"}",["T_WHITESPACE","\n    ",203],"}",["T_WHITESPACE","\n    ",204],["T_IF","if",205],["T_WHITESPACE"," ",205],"(",["T_STRING","count",205],"(",["T_VARIABLE","$args",205],")",")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n      ",205],["T_RETURN","return",206],["T_WHITESPACE"," ",206],["T_STRING","max",206],"(",["T_VARIABLE","$args",206],")",";",["T_WHITESPACE","\n    ",206],"}",["T_WHITESPACE","\n    ",207],["T_ELSE","else",208],["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n      ",208],["T_RETURN","return",209],["T_WHITESPACE"," ",209],["T_STRING","NULL",209],";",["T_WHITESPACE","\n    ",209],"}",["T_WHITESPACE","\n  ",210],"}",["T_WHITESPACE","\n\n  ",211],["T_DOC_COMMENT","\/**\n   * SQLite compatibility implementation for the CONCAT() SQL function.\n   *\/",213],["T_WHITESPACE","\n  ",215],["T_PUBLIC","public",216],["T_WHITESPACE"," ",216],["T_STATIC","static",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","sqlFunctionConcat",216],"(",")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n    ",216],["T_VARIABLE","$args",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_STRING","func_get_args",217],"(",")",";",["T_WHITESPACE","\n    ",217],["T_RETURN","return",218],["T_WHITESPACE"," ",218],["T_STRING","implode",218],"(",["T_CONSTANT_ENCAPSED_STRING","''",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$args",218],")",";",["T_WHITESPACE","\n  ",218],"}",["T_WHITESPACE","\n\n  ",219],["T_DOC_COMMENT","\/**\n   * SQLite compatibility implementation for the CONCAT_WS() SQL function.\n   *\n   * @see http:\/\/dev.mysql.com\/doc\/refman\/5.6\/en\/string-functions.html#function_concat-ws\n   *\/",221],["T_WHITESPACE","\n  ",225],["T_PUBLIC","public",226],["T_WHITESPACE"," ",226],["T_STATIC","static",226],["T_WHITESPACE"," ",226],["T_FUNCTION","function",226],["T_WHITESPACE"," ",226],["T_STRING","sqlFunctionConcatWs",226],"(",")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n    ",226],["T_VARIABLE","$args",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_STRING","func_get_args",227],"(",")",";",["T_WHITESPACE","\n    ",227],["T_VARIABLE","$separator",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_STRING","array_shift",228],"(",["T_VARIABLE","$args",228],")",";",["T_WHITESPACE","\n    ",228],["T_COMMENT","\/\/ If the separator is NULL, the result is NULL.\n",229],["T_WHITESPACE","    ",230],["T_IF","if",230],["T_WHITESPACE"," ",230],"(",["T_VARIABLE","$separator",230],["T_WHITESPACE"," ",230],["T_IS_IDENTICAL","===",230],["T_WHITESPACE"," ",230],["T_STRING","FALSE",230],["T_WHITESPACE"," ",230],["T_BOOLEAN_OR","||",230],["T_WHITESPACE"," ",230],["T_STRING","is_null",230],"(",["T_VARIABLE","$separator",230],")",")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n      ",230],["T_RETURN","return",231],["T_WHITESPACE"," ",231],["T_STRING","NULL",231],";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n    ",232],["T_COMMENT","\/\/ Skip any NULL values after the separator argument.\n",233],["T_WHITESPACE","    ",234],["T_VARIABLE","$args",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_STRING","array_filter",234],"(",["T_VARIABLE","$args",234],",",["T_WHITESPACE"," ",234],["T_FUNCTION","function",234],["T_WHITESPACE"," ",234],"(",["T_VARIABLE","$value",234],")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n      ",234],["T_RETURN","return",235],["T_WHITESPACE"," ",235],"!",["T_STRING","is_null",235],"(",["T_VARIABLE","$value",235],")",";",["T_WHITESPACE","\n    ",235],"}",")",";",["T_WHITESPACE","\n    ",236],["T_RETURN","return",237],["T_WHITESPACE"," ",237],["T_STRING","implode",237],"(",["T_VARIABLE","$separator",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$args",237],")",";",["T_WHITESPACE","\n  ",237],"}",["T_WHITESPACE","\n\n  ",238],["T_DOC_COMMENT","\/**\n   * SQLite compatibility implementation for the SUBSTRING() SQL function.\n   *\/",240],["T_WHITESPACE","\n  ",242],["T_PUBLIC","public",243],["T_WHITESPACE"," ",243],["T_STATIC","static",243],["T_WHITESPACE"," ",243],["T_FUNCTION","function",243],["T_WHITESPACE"," ",243],["T_STRING","sqlFunctionSubstring",243],"(",["T_VARIABLE","$string",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$from",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$length",243],")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n    ",243],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_STRING","substr",244],"(",["T_VARIABLE","$string",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$from",244],["T_WHITESPACE"," ",244],"-",["T_WHITESPACE"," ",244],["T_LNUMBER","1",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$length",244],")",";",["T_WHITESPACE","\n  ",244],"}",["T_WHITESPACE","\n\n  ",245],["T_DOC_COMMENT","\/**\n   * SQLite compatibility implementation for the SUBSTRING_INDEX() SQL function.\n   *\/",247],["T_WHITESPACE","\n  ",249],["T_PUBLIC","public",250],["T_WHITESPACE"," ",250],["T_STATIC","static",250],["T_WHITESPACE"," ",250],["T_FUNCTION","function",250],["T_WHITESPACE"," ",250],["T_STRING","sqlFunctionSubstringIndex",250],"(",["T_VARIABLE","$string",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$delimiter",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$count",250],")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n    ",250],["T_COMMENT","\/\/ If string is empty, simply return an empty string.\n",251],["T_WHITESPACE","    ",252],["T_IF","if",252],["T_WHITESPACE"," ",252],"(",["T_EMPTY","empty",252],"(",["T_VARIABLE","$string",252],")",")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n      ",252],["T_RETURN","return",253],["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","''",253],";",["T_WHITESPACE","\n    ",253],"}",["T_WHITESPACE","\n    ",254],["T_VARIABLE","$end",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_LNUMBER","0",255],";",["T_WHITESPACE","\n    ",255],["T_FOR","for",256],["T_WHITESPACE"," ",256],"(",["T_VARIABLE","$i",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_LNUMBER","0",256],";",["T_WHITESPACE"," ",256],["T_VARIABLE","$i",256],["T_WHITESPACE"," ",256],"<",["T_WHITESPACE"," ",256],["T_VARIABLE","$count",256],";",["T_WHITESPACE"," ",256],["T_VARIABLE","$i",256],["T_INC","++",256],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n      ",256],["T_VARIABLE","$end",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_STRING","strpos",257],"(",["T_VARIABLE","$string",257],",",["T_WHITESPACE"," ",257],["T_VARIABLE","$delimiter",257],",",["T_WHITESPACE"," ",257],["T_VARIABLE","$end",257],["T_WHITESPACE"," ",257],"+",["T_WHITESPACE"," ",257],["T_LNUMBER","1",257],")",";",["T_WHITESPACE","\n      ",257],["T_IF","if",258],["T_WHITESPACE"," ",258],"(",["T_VARIABLE","$end",258],["T_WHITESPACE"," ",258],["T_IS_IDENTICAL","===",258],["T_WHITESPACE"," ",258],["T_STRING","FALSE",258],")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$end",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_STRING","strlen",259],"(",["T_VARIABLE","$string",259],")",";",["T_WHITESPACE","\n      ",259],"}",["T_WHITESPACE","\n    ",260],"}",["T_WHITESPACE","\n    ",261],["T_RETURN","return",262],["T_WHITESPACE"," ",262],["T_STRING","substr",262],"(",["T_VARIABLE","$string",262],",",["T_WHITESPACE"," ",262],["T_LNUMBER","0",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$end",262],")",";",["T_WHITESPACE","\n  ",262],"}",["T_WHITESPACE","\n\n  ",263],["T_DOC_COMMENT","\/**\n   * SQLite compatibility implementation for the RAND() SQL function.\n   *\/",265],["T_WHITESPACE","\n  ",267],["T_PUBLIC","public",268],["T_WHITESPACE"," ",268],["T_STATIC","static",268],["T_WHITESPACE"," ",268],["T_FUNCTION","function",268],["T_WHITESPACE"," ",268],["T_STRING","sqlFunctionRand",268],"(",["T_VARIABLE","$seed",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_STRING","NULL",268],")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n    ",268],["T_IF","if",269],["T_WHITESPACE"," ",269],"(",["T_ISSET","isset",269],"(",["T_VARIABLE","$seed",269],")",")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n      ",269],["T_STRING","mt_srand",270],"(",["T_VARIABLE","$seed",270],")",";",["T_WHITESPACE","\n    ",270],"}",["T_WHITESPACE","\n    ",271],["T_RETURN","return",272],["T_WHITESPACE"," ",272],["T_STRING","mt_rand",272],"(",")",["T_WHITESPACE"," ",272],"\/",["T_WHITESPACE"," ",272],["T_STRING","mt_getrandmax",272],"(",")",";",["T_WHITESPACE","\n  ",272],"}",["T_WHITESPACE","\n\n  ",273],["T_DOC_COMMENT","\/**\n   * SQLite compatibility implementation for the REGEXP SQL operator.\n   *\n   * The REGEXP operator is natively known, but not implemented by default.\n   *\n   * @see http:\/\/www.sqlite.org\/lang_expr.html#regexp\n   *\/",275],["T_WHITESPACE","\n  ",281],["T_PUBLIC","public",282],["T_WHITESPACE"," ",282],["T_STATIC","static",282],["T_WHITESPACE"," ",282],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","sqlFunctionRegexp",282],"(",["T_VARIABLE","$pattern",282],",",["T_WHITESPACE"," ",282],["T_VARIABLE","$subject",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n    ",282],["T_COMMENT","\/\/ preg_quote() cannot be used here, since $pattern may contain reserved\n",283],["T_WHITESPACE","    ",284],["T_COMMENT","\/\/ regular expression characters already (such as ^, $, etc). Therefore,\n",284],["T_WHITESPACE","    ",285],["T_COMMENT","\/\/ use a rare character as PCRE delimiter.\n",285],["T_WHITESPACE","    ",286],["T_VARIABLE","$pattern",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_CONSTANT_ENCAPSED_STRING","'#'",286],["T_WHITESPACE"," ",286],".",["T_WHITESPACE"," ",286],["T_STRING","addcslashes",286],"(",["T_VARIABLE","$pattern",286],",",["T_WHITESPACE"," ",286],["T_CONSTANT_ENCAPSED_STRING","'#'",286],")",["T_WHITESPACE"," ",286],".",["T_WHITESPACE"," ",286],["T_CONSTANT_ENCAPSED_STRING","'#i'",286],";",["T_WHITESPACE","\n    ",286],["T_RETURN","return",287],["T_WHITESPACE"," ",287],["T_STRING","preg_match",287],"(",["T_VARIABLE","$pattern",287],",",["T_WHITESPACE"," ",287],["T_VARIABLE","$subject",287],")",";",["T_WHITESPACE","\n  ",287],"}",["T_WHITESPACE","\n\n  ",288],["T_DOC_COMMENT","\/**\n   * SQLite compatibility implementation for the LIKE BINARY SQL operator.\n   *\n   * SQLite supports case-sensitive LIKE operations through the\n   * 'case_sensitive_like' PRAGMA statement, but only for ASCII characters, so\n   * we have to provide our own implementation with UTF-8 support.\n   *\n   * @see https:\/\/sqlite.org\/pragma.html#pragma_case_sensitive_like\n   * @see https:\/\/sqlite.org\/lang_expr.html#like\n   *\/",290],["T_WHITESPACE","\n  ",299],["T_PUBLIC","public",300],["T_WHITESPACE"," ",300],["T_STATIC","static",300],["T_WHITESPACE"," ",300],["T_FUNCTION","function",300],["T_WHITESPACE"," ",300],["T_STRING","sqlFunctionLikeBinary",300],"(",["T_VARIABLE","$pattern",300],",",["T_WHITESPACE"," ",300],["T_VARIABLE","$subject",300],")",["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n    ",300],["T_COMMENT","\/\/ Replace the SQL LIKE wildcard meta-characters with the equivalent regular\n",301],["T_WHITESPACE","    ",302],["T_COMMENT","\/\/ expression meta-characters and escape the delimiter that will be used for\n",302],["T_WHITESPACE","    ",303],["T_COMMENT","\/\/ matching.\n",303],["T_WHITESPACE","    ",304],["T_VARIABLE","$pattern",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_STRING","str_replace",304],"(",["T_ARRAY","array",304],"(",["T_CONSTANT_ENCAPSED_STRING","'%'",304],",",["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","'_'",304],")",",",["T_WHITESPACE"," ",304],["T_ARRAY","array",304],"(",["T_CONSTANT_ENCAPSED_STRING","'.*?'",304],",",["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","'.'",304],")",",",["T_WHITESPACE"," ",304],["T_STRING","preg_quote",304],"(",["T_VARIABLE","$pattern",304],",",["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","'\/'",304],")",")",";",["T_WHITESPACE","\n    ",304],["T_RETURN","return",305],["T_WHITESPACE"," ",305],["T_STRING","preg_match",305],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^'",305],["T_WHITESPACE"," ",305],".",["T_WHITESPACE"," ",305],["T_VARIABLE","$pattern",305],["T_WHITESPACE"," ",305],".",["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","'$\/'",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$subject",305],")",";",["T_WHITESPACE","\n  ",305],"}",["T_WHITESPACE","\n\n  ",306],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",308],["T_WHITESPACE","\n  ",310],["T_PUBLIC","public",311],["T_WHITESPACE"," ",311],["T_FUNCTION","function",311],["T_WHITESPACE"," ",311],["T_STRING","prepare",311],"(",["T_VARIABLE","$statement",311],",",["T_WHITESPACE"," ",311],["T_ARRAY","array",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$driver_options",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_ARRAY","array",311],"(",")",")",["T_WHITESPACE"," ",311],"{",["T_WHITESPACE","\n    ",311],["T_RETURN","return",312],["T_WHITESPACE"," ",312],["T_NEW","new",312],["T_WHITESPACE"," ",312],["T_STRING","Statement",312],"(",["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","connection",312],",",["T_WHITESPACE"," ",312],["T_VARIABLE","$this",312],",",["T_WHITESPACE"," ",312],["T_VARIABLE","$statement",312],",",["T_WHITESPACE"," ",312],["T_VARIABLE","$driver_options",312],")",";",["T_WHITESPACE","\n  ",312],"}",["T_WHITESPACE","\n\n  ",313],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",315],["T_WHITESPACE","\n  ",317],["T_PROTECTED","protected",318],["T_WHITESPACE"," ",318],["T_FUNCTION","function",318],["T_WHITESPACE"," ",318],["T_STRING","handleQueryException",318],"(",["T_NS_SEPARATOR","\\",318],["T_STRING","PDOException",318],["T_WHITESPACE"," ",318],["T_VARIABLE","$e",318],",",["T_WHITESPACE"," ",318],["T_VARIABLE","$query",318],",",["T_WHITESPACE"," ",318],["T_ARRAY","array",318],["T_WHITESPACE"," ",318],["T_VARIABLE","$args",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_ARRAY","array",318],"(",")",",",["T_WHITESPACE"," ",318],["T_VARIABLE","$options",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_ARRAY","array",318],"(",")",")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n    ",318],["T_COMMENT","\/\/ The database schema might be changed by another process in between the\n",319],["T_WHITESPACE","    ",320],["T_COMMENT","\/\/ time that the statement was prepared and the time the statement was run\n",320],["T_WHITESPACE","    ",321],["T_COMMENT","\/\/ (e.g. usually happens when running tests). In this case, we need to\n",321],["T_WHITESPACE","    ",322],["T_COMMENT","\/\/ re-run the query.\n",322],["T_WHITESPACE","    ",323],["T_COMMENT","\/\/ @see http:\/\/www.sqlite.org\/faq.html#q15\n",323],["T_WHITESPACE","    ",324],["T_COMMENT","\/\/ @see http:\/\/www.sqlite.org\/rescode.html#schema\n",324],["T_WHITESPACE","    ",325],["T_IF","if",325],["T_WHITESPACE"," ",325],"(","!",["T_EMPTY","empty",325],"(",["T_VARIABLE","$e",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","errorInfo",325],"[",["T_LNUMBER","1",325],"]",")",["T_WHITESPACE"," ",325],["T_BOOLEAN_AND","&&",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$e",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","errorInfo",325],"[",["T_LNUMBER","1",325],"]",["T_WHITESPACE"," ",325],["T_IS_IDENTICAL","===",325],["T_WHITESPACE"," ",325],["T_LNUMBER","17",325],")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n      ",325],["T_RETURN","return",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","query",326],"(",["T_VARIABLE","$query",326],",",["T_WHITESPACE"," ",326],["T_VARIABLE","$args",326],",",["T_WHITESPACE"," ",326],["T_VARIABLE","$options",326],")",";",["T_WHITESPACE","\n    ",326],"}",["T_WHITESPACE","\n\n    ",327],["T_STRING","parent",329],["T_DOUBLE_COLON","::",329],["T_STRING","handleQueryException",329],"(",["T_VARIABLE","$e",329],",",["T_WHITESPACE"," ",329],["T_VARIABLE","$query",329],",",["T_WHITESPACE"," ",329],["T_VARIABLE","$args",329],",",["T_WHITESPACE"," ",329],["T_VARIABLE","$options",329],")",";",["T_WHITESPACE","\n  ",329],"}",["T_WHITESPACE","\n\n  ",330],["T_PUBLIC","public",332],["T_WHITESPACE"," ",332],["T_FUNCTION","function",332],["T_WHITESPACE"," ",332],["T_STRING","queryRange",332],"(",["T_VARIABLE","$query",332],",",["T_WHITESPACE"," ",332],["T_VARIABLE","$from",332],",",["T_WHITESPACE"," ",332],["T_VARIABLE","$count",332],",",["T_WHITESPACE"," ",332],["T_ARRAY","array",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$args",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_ARRAY","array",332],"(",")",",",["T_WHITESPACE"," ",332],["T_ARRAY","array",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$options",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_ARRAY","array",332],"(",")",")",["T_WHITESPACE"," ",332],"{",["T_WHITESPACE","\n    ",332],["T_RETURN","return",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","query",333],"(",["T_VARIABLE","$query",333],["T_WHITESPACE"," ",333],".",["T_WHITESPACE"," ",333],["T_CONSTANT_ENCAPSED_STRING","' LIMIT '",333],["T_WHITESPACE"," ",333],".",["T_WHITESPACE"," ",333],["T_INT_CAST","(int)",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$from",333],["T_WHITESPACE"," ",333],".",["T_WHITESPACE"," ",333],["T_CONSTANT_ENCAPSED_STRING","', '",333],["T_WHITESPACE"," ",333],".",["T_WHITESPACE"," ",333],["T_INT_CAST","(int)",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$count",333],",",["T_WHITESPACE"," ",333],["T_VARIABLE","$args",333],",",["T_WHITESPACE"," ",333],["T_VARIABLE","$options",333],")",";",["T_WHITESPACE","\n  ",333],"}",["T_WHITESPACE","\n\n  ",334],["T_PUBLIC","public",336],["T_WHITESPACE"," ",336],["T_FUNCTION","function",336],["T_WHITESPACE"," ",336],["T_STRING","queryTemporary",336],"(",["T_VARIABLE","$query",336],",",["T_WHITESPACE"," ",336],["T_ARRAY","array",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$args",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_ARRAY","array",336],"(",")",",",["T_WHITESPACE"," ",336],["T_ARRAY","array",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$options",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_ARRAY","array",336],"(",")",")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n    ",336],["T_COMMENT","\/\/ Generate a new temporary table name and protect it from prefixing.\n",337],["T_WHITESPACE","    ",338],["T_COMMENT","\/\/ SQLite requires that temporary tables to be non-qualified.\n",338],["T_WHITESPACE","    ",339],["T_VARIABLE","$tablename",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","generateTemporaryTableName",339],"(",")",";",["T_WHITESPACE","\n    ",339],["T_VARIABLE","$prefixes",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","prefixes",340],";",["T_WHITESPACE","\n    ",340],["T_VARIABLE","$prefixes",341],"[",["T_VARIABLE","$tablename",341],"]",["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","''",341],";",["T_WHITESPACE","\n    ",341],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","setPrefix",342],"(",["T_VARIABLE","$prefixes",342],")",";",["T_WHITESPACE","\n\n    ",342],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","query",344],"(",["T_CONSTANT_ENCAPSED_STRING","'CREATE TEMPORARY TABLE '",344],["T_WHITESPACE"," ",344],".",["T_WHITESPACE"," ",344],["T_VARIABLE","$tablename",344],["T_WHITESPACE"," ",344],".",["T_WHITESPACE"," ",344],["T_CONSTANT_ENCAPSED_STRING","' AS '",344],["T_WHITESPACE"," ",344],".",["T_WHITESPACE"," ",344],["T_VARIABLE","$query",344],",",["T_WHITESPACE"," ",344],["T_VARIABLE","$args",344],",",["T_WHITESPACE"," ",344],["T_VARIABLE","$options",344],")",";",["T_WHITESPACE","\n    ",344],["T_RETURN","return",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$tablename",345],";",["T_WHITESPACE","\n  ",345],"}",["T_WHITESPACE","\n\n  ",346],["T_PUBLIC","public",348],["T_WHITESPACE"," ",348],["T_FUNCTION","function",348],["T_WHITESPACE"," ",348],["T_STRING","driver",348],"(",")",["T_WHITESPACE"," ",348],"{",["T_WHITESPACE","\n    ",348],["T_RETURN","return",349],["T_WHITESPACE"," ",349],["T_CONSTANT_ENCAPSED_STRING","'sqlite'",349],";",["T_WHITESPACE","\n  ",349],"}",["T_WHITESPACE","\n\n  ",350],["T_PUBLIC","public",352],["T_WHITESPACE"," ",352],["T_FUNCTION","function",352],["T_WHITESPACE"," ",352],["T_STRING","databaseType",352],"(",")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n    ",352],["T_RETURN","return",353],["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","'sqlite'",353],";",["T_WHITESPACE","\n  ",353],"}",["T_WHITESPACE","\n\n  ",354],["T_DOC_COMMENT","\/**\n   * Overrides \\Drupal\\Core\\Database\\Connection::createDatabase().\n   *\n   * @param string $database\n   *   The name of the database to create.\n   *\n   * @throws \\Drupal\\Core\\Database\\DatabaseNotFoundException\n   *\/",356],["T_WHITESPACE","\n  ",363],["T_PUBLIC","public",364],["T_WHITESPACE"," ",364],["T_FUNCTION","function",364],["T_WHITESPACE"," ",364],["T_STRING","createDatabase",364],"(",["T_VARIABLE","$database",364],")",["T_WHITESPACE"," ",364],"{",["T_WHITESPACE","\n    ",364],["T_COMMENT","\/\/ Verify the database is writable.\n",365],["T_WHITESPACE","    ",366],["T_VARIABLE","$db_directory",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_NEW","new",366],["T_WHITESPACE"," ",366],["T_NS_SEPARATOR","\\",366],["T_STRING","SplFileInfo",366],"(",["T_STRING","dirname",366],"(",["T_VARIABLE","$database",366],")",")",";",["T_WHITESPACE","\n    ",366],["T_IF","if",367],["T_WHITESPACE"," ",367],"(","!",["T_VARIABLE","$db_directory",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","isDir",367],"(",")",["T_WHITESPACE"," ",367],["T_BOOLEAN_AND","&&",367],["T_WHITESPACE"," ",367],"!",["T_STRING","drupal_mkdir",367],"(",["T_VARIABLE","$db_directory",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","getPathName",367],"(",")",",",["T_WHITESPACE"," ",367],["T_LNUMBER","0755",367],",",["T_WHITESPACE"," ",367],["T_STRING","TRUE",367],")",")",["T_WHITESPACE"," ",367],"{",["T_WHITESPACE","\n      ",367],["T_THROW","throw",368],["T_WHITESPACE"," ",368],["T_NEW","new",368],["T_WHITESPACE"," ",368],["T_STRING","DatabaseNotFoundException",368],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to create database directory '",368],["T_WHITESPACE"," ",368],".",["T_WHITESPACE"," ",368],["T_VARIABLE","$db_directory",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","getPathName",368],"(",")",")",";",["T_WHITESPACE","\n    ",368],"}",["T_WHITESPACE","\n  ",369],"}",["T_WHITESPACE","\n\n  ",370],["T_PUBLIC","public",372],["T_WHITESPACE"," ",372],["T_FUNCTION","function",372],["T_WHITESPACE"," ",372],["T_STRING","mapConditionOperator",372],"(",["T_VARIABLE","$operator",372],")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n    ",372],["T_COMMENT","\/\/ We don't want to override any of the defaults.\n",373],["T_WHITESPACE","    ",374],["T_STATIC","static",374],["T_WHITESPACE"," ",374],["T_VARIABLE","$specials",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_ARRAY","array",374],"(",["T_WHITESPACE","\n      ",374],["T_CONSTANT_ENCAPSED_STRING","'LIKE'",375],["T_WHITESPACE"," ",375],["T_DOUBLE_ARROW","=>",375],["T_WHITESPACE"," ",375],["T_ARRAY","array",375],"(",["T_CONSTANT_ENCAPSED_STRING","'postfix'",375],["T_WHITESPACE"," ",375],["T_DOUBLE_ARROW","=>",375],["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","\" ESCAPE '\\\\'\"",375],")",",",["T_WHITESPACE","\n      ",375],["T_CONSTANT_ENCAPSED_STRING","'NOT LIKE'",376],["T_WHITESPACE"," ",376],["T_DOUBLE_ARROW","=>",376],["T_WHITESPACE"," ",376],["T_ARRAY","array",376],"(",["T_CONSTANT_ENCAPSED_STRING","'postfix'",376],["T_WHITESPACE"," ",376],["T_DOUBLE_ARROW","=>",376],["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","\" ESCAPE '\\\\'\"",376],")",",",["T_WHITESPACE","\n      ",376],["T_CONSTANT_ENCAPSED_STRING","'LIKE BINARY'",377],["T_WHITESPACE"," ",377],["T_DOUBLE_ARROW","=>",377],["T_WHITESPACE"," ",377],["T_ARRAY","array",377],"(",["T_CONSTANT_ENCAPSED_STRING","'postfix'",377],["T_WHITESPACE"," ",377],["T_DOUBLE_ARROW","=>",377],["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","\" ESCAPE '\\\\'\"",377],",",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","'operator'",377],["T_WHITESPACE"," ",377],["T_DOUBLE_ARROW","=>",377],["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","'GLOB'",377],")",",",["T_WHITESPACE","\n      ",377],["T_CONSTANT_ENCAPSED_STRING","'NOT LIKE BINARY'",378],["T_WHITESPACE"," ",378],["T_DOUBLE_ARROW","=>",378],["T_WHITESPACE"," ",378],["T_ARRAY","array",378],"(",["T_CONSTANT_ENCAPSED_STRING","'postfix'",378],["T_WHITESPACE"," ",378],["T_DOUBLE_ARROW","=>",378],["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","\" ESCAPE '\\\\'\"",378],",",["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","'operator'",378],["T_WHITESPACE"," ",378],["T_DOUBLE_ARROW","=>",378],["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","'NOT GLOB'",378],")",",",["T_WHITESPACE","\n    ",378],")",";",["T_WHITESPACE","\n    ",379],["T_RETURN","return",380],["T_WHITESPACE"," ",380],["T_ISSET","isset",380],"(",["T_VARIABLE","$specials",380],"[",["T_VARIABLE","$operator",380],"]",")",["T_WHITESPACE"," ",380],"?",["T_WHITESPACE"," ",380],["T_VARIABLE","$specials",380],"[",["T_VARIABLE","$operator",380],"]",["T_WHITESPACE"," ",380],":",["T_WHITESPACE"," ",380],["T_STRING","NULL",380],";",["T_WHITESPACE","\n  ",380],"}",["T_WHITESPACE","\n\n  ",381],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",383],["T_WHITESPACE","\n  ",385],["T_PUBLIC","public",386],["T_WHITESPACE"," ",386],["T_FUNCTION","function",386],["T_WHITESPACE"," ",386],["T_STRING","prepareQuery",386],"(",["T_VARIABLE","$query",386],")",["T_WHITESPACE"," ",386],"{",["T_WHITESPACE","\n    ",386],["T_RETURN","return",387],["T_WHITESPACE"," ",387],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","prepare",387],"(",["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","prefixTables",387],"(",["T_VARIABLE","$query",387],")",")",";",["T_WHITESPACE","\n  ",387],"}",["T_WHITESPACE","\n\n  ",388],["T_PUBLIC","public",390],["T_WHITESPACE"," ",390],["T_FUNCTION","function",390],["T_WHITESPACE"," ",390],["T_STRING","nextId",390],"(",["T_VARIABLE","$existing_id",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_LNUMBER","0",390],")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n    ",390],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","startTransaction",391],"(",")",";",["T_WHITESPACE","\n    ",391],["T_COMMENT","\/\/ We can safely use literal queries here instead of the slower query\n",392],["T_WHITESPACE","    ",393],["T_COMMENT","\/\/ builder because if a given database breaks here then it can simply\n",393],["T_WHITESPACE","    ",394],["T_COMMENT","\/\/ override nextId. However, this is unlikely as we deal with short strings\n",394],["T_WHITESPACE","    ",395],["T_COMMENT","\/\/ and integers and no known databases require special handling for those\n",395],["T_WHITESPACE","    ",396],["T_COMMENT","\/\/ simple cases. If another transaction wants to write the same row, it will\n",396],["T_WHITESPACE","    ",397],["T_COMMENT","\/\/ wait until this transaction commits. Also, the return value needs to be\n",397],["T_WHITESPACE","    ",398],["T_COMMENT","\/\/ set to RETURN_AFFECTED as if it were a real update() query otherwise it\n",398],["T_WHITESPACE","    ",399],["T_COMMENT","\/\/ is not possible to get the row count properly.\n",399],["T_WHITESPACE","    ",400],["T_VARIABLE","$affected",400],["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","query",400],"(",["T_CONSTANT_ENCAPSED_STRING","'UPDATE {sequences} SET value = GREATEST(value, :existing_id) + 1'",400],",",["T_WHITESPACE"," ",400],["T_ARRAY","array",400],"(",["T_WHITESPACE","\n      ",400],["T_CONSTANT_ENCAPSED_STRING","':existing_id'",401],["T_WHITESPACE"," ",401],["T_DOUBLE_ARROW","=>",401],["T_WHITESPACE"," ",401],["T_VARIABLE","$existing_id",401],",",["T_WHITESPACE","\n    ",401],")",",",["T_WHITESPACE"," ",402],["T_ARRAY","array",402],"(",["T_CONSTANT_ENCAPSED_STRING","'return'",402],["T_WHITESPACE"," ",402],["T_DOUBLE_ARROW","=>",402],["T_WHITESPACE"," ",402],["T_STRING","Database",402],["T_DOUBLE_COLON","::",402],["T_STRING","RETURN_AFFECTED",402],")",")",";",["T_WHITESPACE","\n    ",402],["T_IF","if",403],["T_WHITESPACE"," ",403],"(","!",["T_VARIABLE","$affected",403],")",["T_WHITESPACE"," ",403],"{",["T_WHITESPACE","\n      ",403],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","query",404],"(",["T_CONSTANT_ENCAPSED_STRING","'INSERT INTO {sequences} (value) VALUES (:existing_id + 1)'",404],",",["T_WHITESPACE"," ",404],["T_ARRAY","array",404],"(",["T_WHITESPACE","\n        ",404],["T_CONSTANT_ENCAPSED_STRING","':existing_id'",405],["T_WHITESPACE"," ",405],["T_DOUBLE_ARROW","=>",405],["T_WHITESPACE"," ",405],["T_VARIABLE","$existing_id",405],",",["T_WHITESPACE","\n      ",405],")",")",";",["T_WHITESPACE","\n    ",406],"}",["T_WHITESPACE","\n    ",407],["T_COMMENT","\/\/ The transaction gets committed when the transaction object gets destroyed\n",408],["T_WHITESPACE","    ",409],["T_COMMENT","\/\/ because it gets out of scope.\n",409],["T_WHITESPACE","    ",410],["T_RETURN","return",410],["T_WHITESPACE"," ",410],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","query",410],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT value FROM {sequences}'",410],")",["T_OBJECT_OPERATOR","->",410],["T_STRING","fetchField",410],"(",")",";",["T_WHITESPACE","\n  ",410],"}",["T_WHITESPACE","\n\n  ",411],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",413],["T_WHITESPACE","\n  ",415],["T_PUBLIC","public",416],["T_WHITESPACE"," ",416],["T_FUNCTION","function",416],["T_WHITESPACE"," ",416],["T_STRING","getFullQualifiedTableName",416],"(",["T_VARIABLE","$table",416],")",["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n    ",416],["T_VARIABLE","$prefix",417],["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","tablePrefix",417],"(",["T_VARIABLE","$table",417],")",";",["T_WHITESPACE","\n\n    ",417],["T_COMMENT","\/\/ Don't include the SQLite database file name as part of the table name.\n",419],["T_WHITESPACE","    ",420],["T_RETURN","return",420],["T_WHITESPACE"," ",420],["T_VARIABLE","$prefix",420],["T_WHITESPACE"," ",420],".",["T_WHITESPACE"," ",420],["T_VARIABLE","$table",420],";",["T_WHITESPACE","\n  ",420],"}",["T_WHITESPACE","\n\n",421],"}",["T_WHITESPACE","\n",423]]