[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Theme",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cache",5],["T_NS_SEPARATOR","\\",5],["T_STRING","CacheBackendInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Extension",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Extension",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Extension",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ModuleHandlerInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Extension",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ThemeHandlerInterface",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Provides the theme initialization logic.\n *\/",10],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","ThemeInitialization",13],["T_WHITESPACE"," ",13],["T_IMPLEMENTS","implements",13],["T_WHITESPACE"," ",13],["T_STRING","ThemeInitializationInterface",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * The theme handler.\n   *\n   * @var \\Drupal\\Core\\Extension\\ThemeHandlerInterface\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$themeHandler",20],";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * The cache backend to use for the active theme.\n   *\n   * @var \\Drupal\\Core\\Cache\\CacheBackendInterface\n   *\/",22],["T_WHITESPACE","\n  ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$cache",27],";",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * The app root.\n   *\n   * @var string\n   *\/",29],["T_WHITESPACE","\n  ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$root",34],";",["T_WHITESPACE","\n\n  ",34],["T_DOC_COMMENT","\/**\n   * The extensions that might be attaching assets.\n   *\n   * @var array\n   *\/",36],["T_WHITESPACE","\n  ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$extensions",41],";",["T_WHITESPACE","\n\n  ",41],["T_DOC_COMMENT","\/**\n   * Constructs a new ThemeInitialization object.\n   *\n   * @param string $root\n   *   The app root.\n   * @param \\Drupal\\Core\\Extension\\ThemeHandlerInterface $theme_handler\n   *   The theme handler.\n   * @param \\Drupal\\Core\\Cache\\CacheBackendInterface $cache\n   *   The cache backend.\n   * @param \\Drupal\\Core\\Extension\\ModuleHandlerInterface $module_handler\n   *   The module handler to use to load modules.\n   *\/",43],["T_WHITESPACE","\n  ",54],["T_PUBLIC","public",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","__construct",55],"(",["T_VARIABLE","$root",55],",",["T_WHITESPACE"," ",55],["T_STRING","ThemeHandlerInterface",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$theme_handler",55],",",["T_WHITESPACE"," ",55],["T_STRING","CacheBackendInterface",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$cache",55],",",["T_WHITESPACE"," ",55],["T_STRING","ModuleHandlerInterface",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$module_handler",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","root",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$root",56],";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","themeHandler",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$theme_handler",57],";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","cache",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$cache",58],";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","moduleHandler",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$module_handler",59],";",["T_WHITESPACE","\n  ",59],"}",["T_WHITESPACE","\n\n  ",60],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",62],["T_WHITESPACE","\n  ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","initTheme",65],"(",["T_VARIABLE","$theme_name",65],")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$active_theme",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getActiveThemeByName",66],"(",["T_VARIABLE","$theme_name",66],")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","loadActiveTheme",67],"(",["T_VARIABLE","$active_theme",67],")",";",["T_WHITESPACE","\n\n    ",67],["T_RETURN","return",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$active_theme",69],";",["T_WHITESPACE","\n  ",69],"}",["T_WHITESPACE","\n\n  ",70],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",72],["T_WHITESPACE","\n  ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","getActiveThemeByName",75],"(",["T_VARIABLE","$theme_name",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n    ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$cached",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","cache",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","get",76],"(",["T_CONSTANT_ENCAPSED_STRING","'theme.active_theme.'",76],["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_VARIABLE","$theme_name",76],")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n      ",76],["T_RETURN","return",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$cached",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","data",77],";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$themes",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","themeHandler",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","listInfo",79],"(",")",";",["T_WHITESPACE","\n\n    ",79],["T_COMMENT","\/\/ If no theme could be negotiated, or if the negotiated theme is not within\n",81],["T_WHITESPACE","    ",82],["T_COMMENT","\/\/ the list of installed themes, fall back to the default theme output of\n",82],["T_WHITESPACE","    ",83],["T_COMMENT","\/\/ core and modules (like Stark, but without a theme extension at all). This\n",83],["T_WHITESPACE","    ",84],["T_COMMENT","\/\/ is possible, because loadActiveTheme() always loads the Twig theme\n",84],["T_WHITESPACE","    ",85],["T_COMMENT","\/\/ engine. This is desired, because missing or malformed theme configuration\n",85],["T_WHITESPACE","    ",86],["T_COMMENT","\/\/ should not leave the application in a broken state. By falling back to\n",86],["T_WHITESPACE","    ",87],["T_COMMENT","\/\/ default output, the user is able to reconfigure the theme through the UI.\n",87],["T_WHITESPACE","    ",88],["T_COMMENT","\/\/ Lastly, tests are expected to operate with no theme by default, so as to\n",88],["T_WHITESPACE","    ",89],["T_COMMENT","\/\/ only assert the original theme output of modules (unless a test manually\n",89],["T_WHITESPACE","    ",90],["T_COMMENT","\/\/ installs a specific theme).\n",90],["T_WHITESPACE","    ",91],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_EMPTY","empty",91],"(",["T_VARIABLE","$themes",91],")",["T_WHITESPACE"," ",91],["T_BOOLEAN_OR","||",91],["T_WHITESPACE"," ",91],"!",["T_VARIABLE","$theme_name",91],["T_WHITESPACE"," ",91],["T_BOOLEAN_OR","||",91],["T_WHITESPACE"," ",91],"!",["T_ISSET","isset",91],"(",["T_VARIABLE","$themes",91],"[",["T_VARIABLE","$theme_name",91],"]",")",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n      ",91],["T_VARIABLE","$theme_name",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'core'",92],";",["T_WHITESPACE","\n      ",92],["T_COMMENT","\/\/ \/core\/core.info.yml does not actually exist, but is required because\n",93],["T_WHITESPACE","      ",94],["T_COMMENT","\/\/ Extension expects a pathname.\n",94],["T_WHITESPACE","      ",95],["T_VARIABLE","$active_theme",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getActiveTheme",95],"(",["T_NEW","new",95],["T_WHITESPACE"," ",95],["T_STRING","Extension",95],"(",["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","root",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'theme'",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'core\/core.info.yml'",95],")",")",";",["T_WHITESPACE","\n\n      ",95],["T_COMMENT","\/\/ Early-return and do not set state, because the initialized $theme_name\n",97],["T_WHITESPACE","      ",98],["T_COMMENT","\/\/ differs from the original $theme_name.\n",98],["T_WHITESPACE","      ",99],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$active_theme",99],";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_COMMENT","\/\/ Find all our ancestor themes and put them in an array.\n",102],["T_WHITESPACE","    ",103],["T_VARIABLE","$base_themes",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_ARRAY","array",103],"(",")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$ancestor",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$theme_name",104],";",["T_WHITESPACE","\n    ",104],["T_WHILE","while",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$ancestor",105],["T_WHITESPACE"," ",105],["T_BOOLEAN_AND","&&",105],["T_WHITESPACE"," ",105],["T_ISSET","isset",105],"(",["T_VARIABLE","$themes",105],"[",["T_VARIABLE","$ancestor",105],"]",["T_OBJECT_OPERATOR","->",105],["T_STRING","base_theme",105],")",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n      ",105],["T_VARIABLE","$ancestor",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$themes",106],"[",["T_VARIABLE","$ancestor",106],"]",["T_OBJECT_OPERATOR","->",106],["T_STRING","base_theme",106],";",["T_WHITESPACE","\n      ",106],["T_IF","if",107],["T_WHITESPACE"," ",107],"(","!",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","themeHandler",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","themeExists",107],"(",["T_VARIABLE","$ancestor",107],")",")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n        ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$ancestor",108],["T_WHITESPACE"," ",108],["T_IS_EQUAL","==",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'stable'",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n          ",108],["T_COMMENT","\/\/ Themes that depend on Stable will be fixed by system_update_8014().\n",109],["T_WHITESPACE","          ",110],["T_COMMENT","\/\/ There is no harm in not adding it as an ancestor since at worst\n",110],["T_WHITESPACE","          ",111],["T_COMMENT","\/\/ some people might experience slight visual regressions on\n",111],["T_WHITESPACE","          ",112],["T_COMMENT","\/\/ update.php.\n",112],["T_WHITESPACE","          ",113],["T_CONTINUE","continue",113],";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n        ",114],["T_THROW","throw",115],["T_WHITESPACE"," ",115],["T_NEW","new",115],["T_WHITESPACE"," ",115],["T_STRING","MissingThemeDependencyException",115],"(",["T_STRING","sprintf",115],"(",["T_CONSTANT_ENCAPSED_STRING","'Base theme %s has not been installed.'",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$ancestor",115],")",",",["T_WHITESPACE"," ",115],["T_VARIABLE","$ancestor",115],")",";",["T_WHITESPACE","\n      ",115],"}",["T_WHITESPACE","\n      ",116],["T_VARIABLE","$base_themes",117],"[","]",["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$themes",117],"[",["T_VARIABLE","$ancestor",117],"]",";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_VARIABLE","$active_theme",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getActiveTheme",120],"(",["T_VARIABLE","$themes",120],"[",["T_VARIABLE","$theme_name",120],"]",",",["T_WHITESPACE"," ",120],["T_VARIABLE","$base_themes",120],")",";",["T_WHITESPACE","\n\n    ",120],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","cache",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","set",122],"(",["T_CONSTANT_ENCAPSED_STRING","'theme.active_theme.'",122],["T_WHITESPACE"," ",122],".",["T_WHITESPACE"," ",122],["T_VARIABLE","$theme_name",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$active_theme",122],")",";",["T_WHITESPACE","\n    ",122],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$active_theme",123],";",["T_WHITESPACE","\n  ",123],"}",["T_WHITESPACE","\n\n  ",124],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",126],["T_WHITESPACE","\n  ",128],["T_PUBLIC","public",129],["T_WHITESPACE"," ",129],["T_FUNCTION","function",129],["T_WHITESPACE"," ",129],["T_STRING","loadActiveTheme",129],"(",["T_STRING","ActiveTheme",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$active_theme",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n    ",129],["T_COMMENT","\/\/ Initialize the theme.\n",130],["T_WHITESPACE","    ",131],["T_IF","if",131],["T_WHITESPACE"," ",131],"(",["T_VARIABLE","$theme_engine",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$active_theme",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getEngine",131],"(",")",")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n      ",131],["T_COMMENT","\/\/ Include the engine.\n",132],["T_WHITESPACE","      ",133],["T_INCLUDE_ONCE","include_once",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","root",133],["T_WHITESPACE"," ",133],".",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'\/'",133],["T_WHITESPACE"," ",133],".",["T_WHITESPACE"," ",133],["T_VARIABLE","$active_theme",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getOwner",133],"(",")",";",["T_WHITESPACE","\n\n      ",133],["T_IF","if",135],["T_WHITESPACE"," ",135],"(",["T_STRING","function_exists",135],"(",["T_VARIABLE","$theme_engine",135],["T_WHITESPACE"," ",135],".",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'_init'",135],")",")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n        ",135],["T_FOREACH","foreach",136],["T_WHITESPACE"," ",136],"(",["T_VARIABLE","$active_theme",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getBaseThemes",136],"(",")",["T_WHITESPACE"," ",136],["T_AS","as",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$base",136],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n          ",136],["T_STRING","call_user_func",137],"(",["T_VARIABLE","$theme_engine",137],["T_WHITESPACE"," ",137],".",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'_init'",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$base",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getExtension",137],"(",")",")",";",["T_WHITESPACE","\n        ",137],"}",["T_WHITESPACE","\n        ",138],["T_STRING","call_user_func",139],"(",["T_VARIABLE","$theme_engine",139],["T_WHITESPACE"," ",139],".",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'_init'",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$active_theme",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getExtension",139],"(",")",")",";",["T_WHITESPACE","\n      ",139],"}",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n    ",141],["T_ELSE","else",142],["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n      ",142],["T_COMMENT","\/\/ include non-engine theme files\n",143],["T_WHITESPACE","      ",144],["T_FOREACH","foreach",144],["T_WHITESPACE"," ",144],"(",["T_VARIABLE","$active_theme",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getBaseThemes",144],"(",")",["T_WHITESPACE"," ",144],["T_AS","as",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$base",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n        ",144],["T_COMMENT","\/\/ Include the theme file or the engine.\n",145],["T_WHITESPACE","        ",146],["T_IF","if",146],["T_WHITESPACE"," ",146],"(",["T_VARIABLE","$base",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getOwner",146],"(",")",")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n          ",146],["T_INCLUDE_ONCE","include_once",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","root",147],["T_WHITESPACE"," ",147],".",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'\/'",147],["T_WHITESPACE"," ",147],".",["T_WHITESPACE"," ",147],["T_VARIABLE","$base",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getOwner",147],"(",")",";",["T_WHITESPACE","\n        ",147],"}",["T_WHITESPACE","\n      ",148],"}",["T_WHITESPACE","\n      ",149],["T_COMMENT","\/\/ and our theme gets one too.\n",150],["T_WHITESPACE","      ",151],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$active_theme",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getOwner",151],"(",")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n        ",151],["T_INCLUDE_ONCE","include_once",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","root",152],["T_WHITESPACE"," ",152],".",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'\/'",152],["T_WHITESPACE"," ",152],".",["T_WHITESPACE"," ",152],["T_VARIABLE","$active_theme",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getOwner",152],"(",")",";",["T_WHITESPACE","\n      ",152],"}",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_COMMENT","\/\/ Always include Twig as the default theme engine.\n",156],["T_WHITESPACE","    ",157],["T_INCLUDE_ONCE","include_once",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","root",157],["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'\/core\/themes\/engines\/twig\/twig.engine'",157],";",["T_WHITESPACE","\n  ",157],"}",["T_WHITESPACE","\n\n  ",158],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",160],["T_WHITESPACE","\n  ",162],["T_PUBLIC","public",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","getActiveTheme",163],"(",["T_STRING","Extension",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$theme",163],",",["T_WHITESPACE"," ",163],["T_ARRAY","array",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$base_themes",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],"[","]",")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n    ",163],["T_VARIABLE","$theme_path",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$theme",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getPath",164],"(",")",";",["T_WHITESPACE","\n\n    ",164],["T_VARIABLE","$values",166],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",166],"]",["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$theme_path",166],";",["T_WHITESPACE","\n    ",166],["T_VARIABLE","$values",167],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",167],"]",["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$theme",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getName",167],"(",")",";",["T_WHITESPACE","\n\n    ",167],["T_COMMENT","\/\/ @todo Remove in Drupal 9.0.x.\n",169],["T_WHITESPACE","    ",170],["T_VARIABLE","$values",170],"[",["T_CONSTANT_ENCAPSED_STRING","'stylesheets_remove'",170],"]",["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","prepareStylesheetsRemove",170],"(",["T_VARIABLE","$theme",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$base_themes",170],")",";",["T_WHITESPACE","\n\n    ",170],["T_COMMENT","\/\/ Prepare libraries overrides from this theme and ancestor themes. This\n",172],["T_WHITESPACE","    ",173],["T_COMMENT","\/\/ allows child themes to easily remove CSS files from base themes and\n",173],["T_WHITESPACE","    ",174],["T_COMMENT","\/\/ modules.\n",174],["T_WHITESPACE","    ",175],["T_VARIABLE","$values",175],"[",["T_CONSTANT_ENCAPSED_STRING","'libraries_override'",175],"]",["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],"[","]",";",["T_WHITESPACE","\n\n    ",175],["T_COMMENT","\/\/ Get libraries overrides declared by base themes.\n",177],["T_WHITESPACE","    ",178],["T_FOREACH","foreach",178],["T_WHITESPACE"," ",178],"(",["T_VARIABLE","$base_themes",178],["T_WHITESPACE"," ",178],["T_AS","as",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$base",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n      ",178],["T_IF","if",179],["T_WHITESPACE"," ",179],"(","!",["T_EMPTY","empty",179],"(",["T_VARIABLE","$base",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","info",179],"[",["T_CONSTANT_ENCAPSED_STRING","'libraries-override'",179],"]",")",")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n        ",179],["T_FOREACH","foreach",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$base",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","info",180],"[",["T_CONSTANT_ENCAPSED_STRING","'libraries-override'",180],"]",["T_WHITESPACE"," ",180],["T_AS","as",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$library",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$override",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n          ",180],["T_VARIABLE","$values",181],"[",["T_CONSTANT_ENCAPSED_STRING","'libraries_override'",181],"]","[",["T_VARIABLE","$base",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getPath",181],"(",")","]","[",["T_VARIABLE","$library",181],"]",["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$override",181],";",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n      ",182],"}",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n\n    ",184],["T_COMMENT","\/\/ Add libraries overrides declared by this theme.\n",186],["T_WHITESPACE","    ",187],["T_IF","if",187],["T_WHITESPACE"," ",187],"(","!",["T_EMPTY","empty",187],"(",["T_VARIABLE","$theme",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","info",187],"[",["T_CONSTANT_ENCAPSED_STRING","'libraries-override'",187],"]",")",")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n      ",187],["T_FOREACH","foreach",188],["T_WHITESPACE"," ",188],"(",["T_VARIABLE","$theme",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","info",188],"[",["T_CONSTANT_ENCAPSED_STRING","'libraries-override'",188],"]",["T_WHITESPACE"," ",188],["T_AS","as",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$library",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$override",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$values",189],"[",["T_CONSTANT_ENCAPSED_STRING","'libraries_override'",189],"]","[",["T_VARIABLE","$theme",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getPath",189],"(",")","]","[",["T_VARIABLE","$library",189],"]",["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$override",189],";",["T_WHITESPACE","\n      ",189],"}",["T_WHITESPACE","\n    ",190],"}",["T_WHITESPACE","\n\n    ",191],["T_COMMENT","\/\/ Get libraries extensions declared by base themes.\n",193],["T_WHITESPACE","    ",194],["T_FOREACH","foreach",194],["T_WHITESPACE"," ",194],"(",["T_VARIABLE","$base_themes",194],["T_WHITESPACE"," ",194],["T_AS","as",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$base",194],")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n      ",194],["T_IF","if",195],["T_WHITESPACE"," ",195],"(","!",["T_EMPTY","empty",195],"(",["T_VARIABLE","$base",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","info",195],"[",["T_CONSTANT_ENCAPSED_STRING","'libraries-extend'",195],"]",")",")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n        ",195],["T_FOREACH","foreach",196],["T_WHITESPACE"," ",196],"(",["T_VARIABLE","$base",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","info",196],"[",["T_CONSTANT_ENCAPSED_STRING","'libraries-extend'",196],"]",["T_WHITESPACE"," ",196],["T_AS","as",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$library",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$extend",196],")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n          ",196],["T_IF","if",197],["T_WHITESPACE"," ",197],"(",["T_ISSET","isset",197],"(",["T_VARIABLE","$values",197],"[",["T_CONSTANT_ENCAPSED_STRING","'libraries_extend'",197],"]","[",["T_VARIABLE","$library",197],"]",")",")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n            ",197],["T_COMMENT","\/\/ Merge if libraries-extend has already been defined for this\n",198],["T_WHITESPACE","            ",199],["T_COMMENT","\/\/ library.\n",199],["T_WHITESPACE","            ",200],["T_VARIABLE","$values",200],"[",["T_CONSTANT_ENCAPSED_STRING","'libraries_extend'",200],"]","[",["T_VARIABLE","$library",200],"]",["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_STRING","array_merge",200],"(",["T_VARIABLE","$values",200],"[",["T_CONSTANT_ENCAPSED_STRING","'libraries_extend'",200],"]","[",["T_VARIABLE","$library",200],"]",",",["T_WHITESPACE"," ",200],["T_VARIABLE","$extend",200],")",";",["T_WHITESPACE","\n          ",200],"}",["T_WHITESPACE","\n          ",201],["T_ELSE","else",202],["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n            ",202],["T_VARIABLE","$values",203],"[",["T_CONSTANT_ENCAPSED_STRING","'libraries_extend'",203],"]","[",["T_VARIABLE","$library",203],"]",["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$extend",203],";",["T_WHITESPACE","\n          ",203],"}",["T_WHITESPACE","\n        ",204],"}",["T_WHITESPACE","\n      ",205],"}",["T_WHITESPACE","\n    ",206],"}",["T_WHITESPACE","\n    ",207],["T_COMMENT","\/\/ Add libraries extensions declared by this theme.\n",208],["T_WHITESPACE","    ",209],["T_IF","if",209],["T_WHITESPACE"," ",209],"(","!",["T_EMPTY","empty",209],"(",["T_VARIABLE","$theme",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","info",209],"[",["T_CONSTANT_ENCAPSED_STRING","'libraries-extend'",209],"]",")",")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n      ",209],["T_FOREACH","foreach",210],["T_WHITESPACE"," ",210],"(",["T_VARIABLE","$theme",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","info",210],"[",["T_CONSTANT_ENCAPSED_STRING","'libraries-extend'",210],"]",["T_WHITESPACE"," ",210],["T_AS","as",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$library",210],["T_WHITESPACE"," ",210],["T_DOUBLE_ARROW","=>",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$extend",210],")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n        ",210],["T_IF","if",211],["T_WHITESPACE"," ",211],"(",["T_ISSET","isset",211],"(",["T_VARIABLE","$values",211],"[",["T_CONSTANT_ENCAPSED_STRING","'libraries_extend'",211],"]","[",["T_VARIABLE","$library",211],"]",")",")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n          ",211],["T_COMMENT","\/\/ Merge if libraries-extend has already been defined for this\n",212],["T_WHITESPACE","          ",213],["T_COMMENT","\/\/ library.\n",213],["T_WHITESPACE","          ",214],["T_VARIABLE","$values",214],"[",["T_CONSTANT_ENCAPSED_STRING","'libraries_extend'",214],"]","[",["T_VARIABLE","$library",214],"]",["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_STRING","array_merge",214],"(",["T_VARIABLE","$values",214],"[",["T_CONSTANT_ENCAPSED_STRING","'libraries_extend'",214],"]","[",["T_VARIABLE","$library",214],"]",",",["T_WHITESPACE"," ",214],["T_VARIABLE","$extend",214],")",";",["T_WHITESPACE","\n        ",214],"}",["T_WHITESPACE","\n        ",215],["T_ELSE","else",216],["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n          ",216],["T_VARIABLE","$values",217],"[",["T_CONSTANT_ENCAPSED_STRING","'libraries_extend'",217],"]","[",["T_VARIABLE","$library",217],"]",["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$extend",217],";",["T_WHITESPACE","\n        ",217],"}",["T_WHITESPACE","\n      ",218],"}",["T_WHITESPACE","\n    ",219],"}",["T_WHITESPACE","\n\n    ",220],["T_COMMENT","\/\/ Do basically the same as the above for libraries\n",222],["T_WHITESPACE","    ",223],["T_VARIABLE","$values",223],"[",["T_CONSTANT_ENCAPSED_STRING","'libraries'",223],"]",["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_ARRAY","array",223],"(",")",";",["T_WHITESPACE","\n\n    ",223],["T_COMMENT","\/\/ Grab libraries from base theme\n",225],["T_WHITESPACE","    ",226],["T_FOREACH","foreach",226],["T_WHITESPACE"," ",226],"(",["T_VARIABLE","$base_themes",226],["T_WHITESPACE"," ",226],["T_AS","as",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$base",226],")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n      ",226],["T_IF","if",227],["T_WHITESPACE"," ",227],"(","!",["T_EMPTY","empty",227],"(",["T_VARIABLE","$base",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","libraries",227],")",")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n        ",227],["T_FOREACH","foreach",228],["T_WHITESPACE"," ",228],"(",["T_VARIABLE","$base",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","libraries",228],["T_WHITESPACE"," ",228],["T_AS","as",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$library",228],")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n          ",228],["T_VARIABLE","$values",229],"[",["T_CONSTANT_ENCAPSED_STRING","'libraries'",229],"]","[","]",["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$library",229],";",["T_WHITESPACE","\n        ",229],"}",["T_WHITESPACE","\n      ",230],"}",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n\n    ",232],["T_COMMENT","\/\/ Add libraries used by this theme.\n",234],["T_WHITESPACE","    ",235],["T_IF","if",235],["T_WHITESPACE"," ",235],"(","!",["T_EMPTY","empty",235],"(",["T_VARIABLE","$theme",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","libraries",235],")",")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n      ",235],["T_FOREACH","foreach",236],["T_WHITESPACE"," ",236],"(",["T_VARIABLE","$theme",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","libraries",236],["T_WHITESPACE"," ",236],["T_AS","as",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$library",236],")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$values",237],"[",["T_CONSTANT_ENCAPSED_STRING","'libraries'",237],"]","[","]",["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$library",237],";",["T_WHITESPACE","\n      ",237],"}",["T_WHITESPACE","\n    ",238],"}",["T_WHITESPACE","\n\n    ",239],["T_VARIABLE","$values",241],"[",["T_CONSTANT_ENCAPSED_STRING","'engine'",241],"]",["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_ISSET","isset",241],"(",["T_VARIABLE","$theme",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","engine",241],")",["T_WHITESPACE"," ",241],"?",["T_WHITESPACE"," ",241],["T_VARIABLE","$theme",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","engine",241],["T_WHITESPACE"," ",241],":",["T_WHITESPACE"," ",241],["T_STRING","NULL",241],";",["T_WHITESPACE","\n    ",241],["T_VARIABLE","$values",242],"[",["T_CONSTANT_ENCAPSED_STRING","'owner'",242],"]",["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_ISSET","isset",242],"(",["T_VARIABLE","$theme",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","owner",242],")",["T_WHITESPACE"," ",242],"?",["T_WHITESPACE"," ",242],["T_VARIABLE","$theme",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","owner",242],["T_WHITESPACE"," ",242],":",["T_WHITESPACE"," ",242],["T_STRING","NULL",242],";",["T_WHITESPACE","\n    ",242],["T_VARIABLE","$values",243],"[",["T_CONSTANT_ENCAPSED_STRING","'extension'",243],"]",["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$theme",243],";",["T_WHITESPACE","\n\n    ",243],["T_VARIABLE","$base_active_themes",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_ARRAY","array",245],"(",")",";",["T_WHITESPACE","\n    ",245],["T_FOREACH","foreach",246],["T_WHITESPACE"," ",246],"(",["T_VARIABLE","$base_themes",246],["T_WHITESPACE"," ",246],["T_AS","as",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$base_theme",246],")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n      ",246],["T_VARIABLE","$base_active_themes",247],"[",["T_VARIABLE","$base_theme",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getName",247],"(",")","]",["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getActiveTheme",247],"(",["T_VARIABLE","$base_theme",247],",",["T_WHITESPACE"," ",247],["T_STRING","array_slice",247],"(",["T_VARIABLE","$base_themes",247],",",["T_WHITESPACE"," ",247],["T_LNUMBER","1",247],")",")",";",["T_WHITESPACE","\n    ",247],"}",["T_WHITESPACE","\n\n    ",248],["T_VARIABLE","$values",250],"[",["T_CONSTANT_ENCAPSED_STRING","'base_themes'",250],"]",["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_VARIABLE","$base_active_themes",250],";",["T_WHITESPACE","\n    ",250],["T_IF","if",251],["T_WHITESPACE"," ",251],"(","!",["T_EMPTY","empty",251],"(",["T_VARIABLE","$theme",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","info",251],"[",["T_CONSTANT_ENCAPSED_STRING","'regions'",251],"]",")",")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n      ",251],["T_VARIABLE","$values",252],"[",["T_CONSTANT_ENCAPSED_STRING","'regions'",252],"]",["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$theme",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","info",252],"[",["T_CONSTANT_ENCAPSED_STRING","'regions'",252],"]",";",["T_WHITESPACE","\n    ",252],"}",["T_WHITESPACE","\n\n    ",253],["T_RETURN","return",255],["T_WHITESPACE"," ",255],["T_NEW","new",255],["T_WHITESPACE"," ",255],["T_STRING","ActiveTheme",255],"(",["T_VARIABLE","$values",255],")",";",["T_WHITESPACE","\n  ",255],"}",["T_WHITESPACE","\n\n  ",256],["T_DOC_COMMENT","\/**\n   * Gets all extensions.\n   *\n   * @return array\n   *\/",258],["T_WHITESPACE","\n  ",262],["T_PROTECTED","protected",263],["T_WHITESPACE"," ",263],["T_FUNCTION","function",263],["T_WHITESPACE"," ",263],["T_STRING","getExtensions",263],"(",")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n    ",263],["T_IF","if",264],["T_WHITESPACE"," ",264],"(","!",["T_ISSET","isset",264],"(",["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","extensions",264],")",")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n      ",264],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","extensions",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_STRING","array_merge",265],"(",["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","moduleHandler",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","getModuleList",265],"(",")",",",["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","themeHandler",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","listInfo",265],"(",")",")",";",["T_WHITESPACE","\n    ",265],"}",["T_WHITESPACE","\n    ",266],["T_RETURN","return",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","extensions",267],";",["T_WHITESPACE","\n  ",267],"}",["T_WHITESPACE","\n\n  ",268],["T_DOC_COMMENT","\/**\n   * Gets CSS file where tokens have been resolved.\n   *\n   * @param string $css_file\n   *   CSS file which may contain tokens.\n   *\n   * @return string\n   *   CSS file where placeholders are replaced.\n   *\n   * @todo Remove in Drupal 9.0.x.\n   *\/",270],["T_WHITESPACE","\n  ",280],["T_PROTECTED","protected",281],["T_WHITESPACE"," ",281],["T_FUNCTION","function",281],["T_WHITESPACE"," ",281],["T_STRING","resolveStyleSheetPlaceholders",281],"(",["T_VARIABLE","$css_file",281],")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n    ",281],["T_VARIABLE","$token_candidate",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_STRING","explode",282],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",282],",",["T_WHITESPACE"," ",282],["T_VARIABLE","$css_file",282],")","[",["T_LNUMBER","0",282],"]",";",["T_WHITESPACE","\n    ",282],["T_IF","if",283],["T_WHITESPACE"," ",283],"(","!",["T_STRING","preg_match",283],"(",["T_CONSTANT_ENCAPSED_STRING","'\/@[A-z0-9_-]+\/'",283],",",["T_WHITESPACE"," ",283],["T_VARIABLE","$token_candidate",283],")",")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n      ",283],["T_RETURN","return",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$css_file",284],";",["T_WHITESPACE","\n    ",284],"}",["T_WHITESPACE","\n\n    ",285],["T_VARIABLE","$token",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_STRING","substr",287],"(",["T_VARIABLE","$token_candidate",287],",",["T_WHITESPACE"," ",287],["T_LNUMBER","1",287],")",";",["T_WHITESPACE","\n\n    ",287],["T_COMMENT","\/\/ Prime extensions.\n",289],["T_WHITESPACE","    ",290],["T_VARIABLE","$extensions",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","getExtensions",290],"(",")",";",["T_WHITESPACE","\n    ",290],["T_IF","if",291],["T_WHITESPACE"," ",291],"(",["T_ISSET","isset",291],"(",["T_VARIABLE","$extensions",291],"[",["T_VARIABLE","$token",291],"]",")",")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n      ",291],["T_RETURN","return",292],["T_WHITESPACE"," ",292],["T_STRING","str_replace",292],"(",["T_VARIABLE","$token_candidate",292],",",["T_WHITESPACE"," ",292],["T_VARIABLE","$extensions",292],"[",["T_VARIABLE","$token",292],"]",["T_OBJECT_OPERATOR","->",292],["T_STRING","getPath",292],"(",")",",",["T_WHITESPACE"," ",292],["T_VARIABLE","$css_file",292],")",";",["T_WHITESPACE","\n    ",292],"}",["T_WHITESPACE","\n  ",293],"}",["T_WHITESPACE","\n\n  ",294],["T_DOC_COMMENT","\/**\n   * Prepares stylesheets-remove specified in the *.info.yml file.\n   *\n   * @param \\Drupal\\Core\\Extension\\Extension $theme\n   *   The theme extension object.\n   * @param \\Drupal\\Core\\Extension\\Extension[] $base_themes\n   *   An array of base themes.\n   *\n   * @return string[]\n   *   The list of stylesheets-remove specified in the *.info.yml file.\n   *\n   * @todo Remove in Drupal 9.0.x.\n   *\/",296],["T_WHITESPACE","\n  ",308],["T_PROTECTED","protected",309],["T_WHITESPACE"," ",309],["T_FUNCTION","function",309],["T_WHITESPACE"," ",309],["T_STRING","prepareStylesheetsRemove",309],"(",["T_STRING","Extension",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$theme",309],",",["T_WHITESPACE"," ",309],["T_VARIABLE","$base_themes",309],")",["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n    ",309],["T_COMMENT","\/\/ Prepare stylesheets from this theme as well as all ancestor themes.\n",310],["T_WHITESPACE","    ",311],["T_COMMENT","\/\/ We work it this way so that we can have child themes remove CSS files\n",311],["T_WHITESPACE","    ",312],["T_COMMENT","\/\/ easily from parent.\n",312],["T_WHITESPACE","    ",313],["T_VARIABLE","$stylesheets_remove",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_ARRAY","array",313],"(",")",";",["T_WHITESPACE","\n    ",313],["T_COMMENT","\/\/ Grab stylesheets from base theme.\n",314],["T_WHITESPACE","    ",315],["T_FOREACH","foreach",315],["T_WHITESPACE"," ",315],"(",["T_VARIABLE","$base_themes",315],["T_WHITESPACE"," ",315],["T_AS","as",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$base",315],")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n      ",315],["T_IF","if",316],["T_WHITESPACE"," ",316],"(","!",["T_EMPTY","empty",316],"(",["T_VARIABLE","$base",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","info",316],"[",["T_CONSTANT_ENCAPSED_STRING","'stylesheets-remove'",316],"]",")",")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n        ",316],["T_FOREACH","foreach",317],["T_WHITESPACE"," ",317],"(",["T_VARIABLE","$base",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","info",317],"[",["T_CONSTANT_ENCAPSED_STRING","'stylesheets-remove'",317],"]",["T_WHITESPACE"," ",317],["T_AS","as",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$css_file",317],")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n          ",317],["T_VARIABLE","$css_file",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","resolveStyleSheetPlaceholders",318],"(",["T_VARIABLE","$css_file",318],")",";",["T_WHITESPACE","\n          ",318],["T_VARIABLE","$stylesheets_remove",319],"[",["T_VARIABLE","$css_file",319],"]",["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_VARIABLE","$css_file",319],";",["T_WHITESPACE","\n        ",319],"}",["T_WHITESPACE","\n      ",320],"}",["T_WHITESPACE","\n    ",321],"}",["T_WHITESPACE","\n\n    ",322],["T_COMMENT","\/\/ Add stylesheets used by this theme.\n",324],["T_WHITESPACE","    ",325],["T_IF","if",325],["T_WHITESPACE"," ",325],"(","!",["T_EMPTY","empty",325],"(",["T_VARIABLE","$theme",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","info",325],"[",["T_CONSTANT_ENCAPSED_STRING","'stylesheets-remove'",325],"]",")",")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n      ",325],["T_FOREACH","foreach",326],["T_WHITESPACE"," ",326],"(",["T_VARIABLE","$theme",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","info",326],"[",["T_CONSTANT_ENCAPSED_STRING","'stylesheets-remove'",326],"]",["T_WHITESPACE"," ",326],["T_AS","as",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$css_file",326],")",["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n        ",326],["T_VARIABLE","$css_file",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","resolveStyleSheetPlaceholders",327],"(",["T_VARIABLE","$css_file",327],")",";",["T_WHITESPACE","\n        ",327],["T_VARIABLE","$stylesheets_remove",328],"[",["T_VARIABLE","$css_file",328],"]",["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_VARIABLE","$css_file",328],";",["T_WHITESPACE","\n      ",328],"}",["T_WHITESPACE","\n    ",329],"}",["T_WHITESPACE","\n    ",330],["T_RETURN","return",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$stylesheets_remove",331],";",["T_WHITESPACE","\n  ",331],"}",["T_WHITESPACE","\n\n",332],"}",["T_WHITESPACE","\n",334]]