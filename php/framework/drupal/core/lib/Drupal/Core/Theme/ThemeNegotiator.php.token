[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Theme",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Routing",5],["T_NS_SEPARATOR","\\",5],["T_STRING","RouteMatchInterface",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Provides a class which determines the active theme of the page.\n *\n * It therefore uses ThemeNegotiatorInterface objects which are passed in\n * using the 'theme_negotiator' tag.\n *\/",7],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","ThemeNegotiator",13],["T_WHITESPACE"," ",13],["T_IMPLEMENTS","implements",13],["T_WHITESPACE"," ",13],["T_STRING","ThemeNegotiatorInterface",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * Holds arrays of theme negotiators, keyed by priority.\n   *\n   * @var array\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$negotiators",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_ARRAY","array",20],"(",")",";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * Holds the array of theme negotiators sorted by priority.\n   *\n   * Set to NULL if the array needs to be re-calculated.\n   *\n   * @var array|null\n   *\/",22],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$sortedNegotiators",29],";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * The access checker for themes.\n   *\n   * @var \\Drupal\\Core\\Theme\\ThemeAccessCheck\n   *\/",31],["T_WHITESPACE","\n  ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$themeAccess",36],";",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * Constructs a new ThemeNegotiator.\n   *\n   * @param \\Drupal\\Core\\Theme\\ThemeAccessCheck $theme_access\n   *   The access checker for themes.\n   *\/",38],["T_WHITESPACE","\n  ",43],["T_PUBLIC","public",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","__construct",44],"(",["T_STRING","ThemeAccessCheck",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$theme_access",44],")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","themeAccess",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$theme_access",45],";",["T_WHITESPACE","\n  ",45],"}",["T_WHITESPACE","\n\n  ",46],["T_DOC_COMMENT","\/**\n   * Adds a active theme negotiation service.\n   *\n   * @param \\Drupal\\Core\\Theme\\ThemeNegotiatorInterface $negotiator\n   *   The theme negotiator to add.\n   * @param int $priority\n   *   Priority of the theme negotiator.\n   *\/",48],["T_WHITESPACE","\n  ",55],["T_PUBLIC","public",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","addNegotiator",56],"(",["T_STRING","ThemeNegotiatorInterface",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$negotiator",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$priority",56],")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","negotiators",57],"[",["T_VARIABLE","$priority",57],"]","[","]",["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$negotiator",57],";",["T_WHITESPACE","\n    ",57],["T_COMMENT","\/\/ Force the negotiators to be re-sorted.\n",58],["T_WHITESPACE","    ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","sortedNegotiators",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","NULL",59],";",["T_WHITESPACE","\n  ",59],"}",["T_WHITESPACE","\n\n  ",60],["T_DOC_COMMENT","\/**\n   * Returns the sorted array of theme negotiators.\n   *\n   * @return array|\\Drupal\\Core\\Theme\\ThemeNegotiatorInterface[]\n   *   An array of theme negotiator objects.\n   *\/",62],["T_WHITESPACE","\n  ",67],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","getSortedNegotiators",68],"(",")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n    ",68],["T_IF","if",69],["T_WHITESPACE"," ",69],"(","!",["T_ISSET","isset",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","sortedNegotiators",69],")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n      ",69],["T_COMMENT","\/\/ Sort the negotiators according to priority.\n",70],["T_WHITESPACE","      ",71],["T_STRING","krsort",71],"(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","negotiators",71],")",";",["T_WHITESPACE","\n      ",71],["T_COMMENT","\/\/ Merge nested negotiators from $this->negotiators into\n",72],["T_WHITESPACE","      ",73],["T_COMMENT","\/\/ $this->sortedNegotiators.\n",73],["T_WHITESPACE","      ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","sortedNegotiators",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_ARRAY","array",74],"(",")",";",["T_WHITESPACE","\n      ",74],["T_FOREACH","foreach",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","negotiators",75],["T_WHITESPACE"," ",75],["T_AS","as",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$builders",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","sortedNegotiators",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_STRING","array_merge",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","sortedNegotiators",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$builders",76],")",";",["T_WHITESPACE","\n      ",76],"}",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n    ",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","sortedNegotiators",79],";",["T_WHITESPACE","\n  ",79],"}",["T_WHITESPACE","\n\n  ",80],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",82],["T_WHITESPACE","\n  ",84],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","applies",85],"(",["T_STRING","RouteMatchInterface",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$route_match",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n    ",85],["T_RETURN","return",86],["T_WHITESPACE"," ",86],["T_STRING","TRUE",86],";",["T_WHITESPACE","\n  ",86],"}",["T_WHITESPACE","\n\n  ",87],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",89],["T_WHITESPACE","\n  ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","determineActiveTheme",92],"(",["T_STRING","RouteMatchInterface",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$route_match",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n    ",92],["T_FOREACH","foreach",93],["T_WHITESPACE"," ",93],"(",["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getSortedNegotiators",93],"(",")",["T_WHITESPACE"," ",93],["T_AS","as",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$negotiator",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n      ",93],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_VARIABLE","$negotiator",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","applies",94],"(",["T_VARIABLE","$route_match",94],")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$theme",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$negotiator",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","determineActiveTheme",95],"(",["T_VARIABLE","$route_match",95],")",";",["T_WHITESPACE","\n        ",95],["T_IF","if",96],["T_WHITESPACE"," ",96],"(",["T_VARIABLE","$theme",96],["T_WHITESPACE"," ",96],["T_IS_NOT_IDENTICAL","!==",96],["T_WHITESPACE"," ",96],["T_STRING","NULL",96],["T_WHITESPACE"," ",96],["T_BOOLEAN_AND","&&",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","themeAccess",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","checkAccess",96],"(",["T_VARIABLE","$theme",96],")",")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n          ",96],["T_RETURN","return",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$theme",97],";",["T_WHITESPACE","\n        ",97],"}",["T_WHITESPACE","\n      ",98],"}",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n  ",100],"}",["T_WHITESPACE","\n\n",101],"}",["T_WHITESPACE","\n",103]]