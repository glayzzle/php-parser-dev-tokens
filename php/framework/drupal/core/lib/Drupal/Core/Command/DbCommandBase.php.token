[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Command",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Database",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Database",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Symfony",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Console",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Command",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Command",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Symfony",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Component",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Console",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Input",7],["T_NS_SEPARATOR","\\",7],["T_STRING","InputInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Symfony",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Component",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Console",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Input",8],["T_NS_SEPARATOR","\\",8],["T_STRING","InputOption",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Base command that abstracts handling of database connection arguments.\n *\/",10],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","DbCommandBase",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","Command",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",15],["T_WHITESPACE","\n  ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_FUNCTION","function",18],["T_WHITESPACE"," ",18],["T_STRING","configure",18],"(",")",["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n    ",18],["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","addOption",19],"(",["T_CONSTANT_ENCAPSED_STRING","'database'",19],",",["T_WHITESPACE"," ",19],["T_STRING","NULL",19],",",["T_WHITESPACE"," ",19],["T_STRING","InputOption",19],["T_DOUBLE_COLON","::",19],["T_STRING","VALUE_OPTIONAL",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'The database connection name to use.'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'default'",19],")",["T_WHITESPACE","\n      ",19],["T_OBJECT_OPERATOR","->",20],["T_STRING","addOption",20],"(",["T_CONSTANT_ENCAPSED_STRING","'database-url'",20],",",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'db-url'",20],",",["T_WHITESPACE"," ",20],["T_STRING","InputOption",20],["T_DOUBLE_COLON","::",20],["T_STRING","VALUE_OPTIONAL",20],",",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'A database url to parse and use as the database connection.'",20],")",["T_WHITESPACE","\n      ",20],["T_OBJECT_OPERATOR","->",21],["T_STRING","addOption",21],"(",["T_CONSTANT_ENCAPSED_STRING","'prefix'",21],",",["T_WHITESPACE"," ",21],["T_STRING","NULL",21],",",["T_WHITESPACE"," ",21],["T_STRING","InputOption",21],["T_DOUBLE_COLON","::",21],["T_STRING","VALUE_OPTIONAL",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'Override or set the table prefix used in the database connection.'",21],")",";",["T_WHITESPACE","\n  ",21],"}",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * Parse input options decide on a database.\n   *\n   * @param \\Symfony\\Component\\Console\\Input\\InputInterface $input\n   *   Input object.\n   * @return \\Drupal\\Core\\Database\\Connection\n   *\/",24],["T_WHITESPACE","\n  ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","getDatabaseConnection",31],"(",["T_STRING","InputInterface",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$input",31],")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n    ",31],["T_COMMENT","\/\/ Load connection from a url.\n",32],["T_WHITESPACE","    ",33],["T_IF","if",33],["T_WHITESPACE"," ",33],"(",["T_VARIABLE","$input",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","getOption",33],"(",["T_CONSTANT_ENCAPSED_STRING","'database-url'",33],")",")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n      ",33],["T_COMMENT","\/\/ @todo this could probably be refactored to not use a global connection.\n",34],["T_WHITESPACE","      ",35],["T_COMMENT","\/\/ Ensure database connection isn't set.\n",35],["T_WHITESPACE","      ",36],["T_IF","if",36],["T_WHITESPACE"," ",36],"(",["T_STRING","Database",36],["T_DOUBLE_COLON","::",36],["T_STRING","getConnectionInfo",36],"(",["T_CONSTANT_ENCAPSED_STRING","'db-tools'",36],")",")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n        ",36],["T_THROW","throw",37],["T_WHITESPACE"," ",37],["T_NEW","new",37],["T_WHITESPACE"," ",37],["T_NS_SEPARATOR","\\",37],["T_STRING","RuntimeException",37],"(",["T_CONSTANT_ENCAPSED_STRING","'Database \"db-tools\" is already defined. Cannot define database provided.'",37],")",";",["T_WHITESPACE","\n      ",37],"}",["T_WHITESPACE","\n      ",38],["T_VARIABLE","$info",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","Database",39],["T_DOUBLE_COLON","::",39],["T_STRING","convertDbUrlToConnectionInfo",39],"(",["T_VARIABLE","$input",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","getOption",39],"(",["T_CONSTANT_ENCAPSED_STRING","'database-url'",39],")",",",["T_WHITESPACE"," ",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Drupal",39],["T_DOUBLE_COLON","::",39],["T_STRING","root",39],"(",")",")",";",["T_WHITESPACE","\n      ",39],["T_STRING","Database",40],["T_DOUBLE_COLON","::",40],["T_STRING","addConnectionInfo",40],"(",["T_CONSTANT_ENCAPSED_STRING","'db-tools'",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'default'",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$info",40],")",";",["T_WHITESPACE","\n      ",40],["T_VARIABLE","$key",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'db-tools'",41],";",["T_WHITESPACE","\n    ",41],"}",["T_WHITESPACE","\n    ",42],["T_ELSE","else",43],["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n      ",43],["T_VARIABLE","$key",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$input",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getOption",44],"(",["T_CONSTANT_ENCAPSED_STRING","'database'",44],")",";",["T_WHITESPACE","\n    ",44],"}",["T_WHITESPACE","\n\n    ",45],["T_COMMENT","\/\/ If they supplied a prefix, replace it in the connection information.\n",47],["T_WHITESPACE","    ",48],["T_VARIABLE","$prefix",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$input",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getOption",48],"(",["T_CONSTANT_ENCAPSED_STRING","'prefix'",48],")",";",["T_WHITESPACE","\n    ",48],["T_IF","if",49],["T_WHITESPACE"," ",49],"(",["T_VARIABLE","$prefix",49],")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n      ",49],["T_VARIABLE","$info",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","Database",50],["T_DOUBLE_COLON","::",50],["T_STRING","getConnectionInfo",50],"(",["T_VARIABLE","$key",50],")","[",["T_CONSTANT_ENCAPSED_STRING","'default'",50],"]",";",["T_WHITESPACE","\n      ",50],["T_VARIABLE","$info",51],"[",["T_CONSTANT_ENCAPSED_STRING","'prefix'",51],"]","[",["T_CONSTANT_ENCAPSED_STRING","'default'",51],"]",["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$prefix",51],";",["T_WHITESPACE","\n\n      ",51],["T_STRING","Database",53],["T_DOUBLE_COLON","::",53],["T_STRING","removeConnection",53],"(",["T_VARIABLE","$key",53],")",";",["T_WHITESPACE","\n      ",53],["T_STRING","Database",54],["T_DOUBLE_COLON","::",54],["T_STRING","addConnectionInfo",54],"(",["T_VARIABLE","$key",54],",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'default'",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$info",54],")",";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_RETURN","return",57],["T_WHITESPACE"," ",57],["T_STRING","Database",57],["T_DOUBLE_COLON","::",57],["T_STRING","getConnection",57],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$key",57],")",";",["T_WHITESPACE","\n  ",57],"}",["T_WHITESPACE","\n\n",58],"}",["T_WHITESPACE","\n",60]]