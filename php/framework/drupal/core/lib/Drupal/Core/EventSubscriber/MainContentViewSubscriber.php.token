[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","EventSubscriber",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cache",5],["T_NS_SEPARATOR","\\",5],["T_STRING","CacheableMetadata",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Cache",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CacheableResponseInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","DependencyInjection",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ClassResolverInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Routing",8],["T_NS_SEPARATOR","\\",8],["T_STRING","RouteMatchInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Symfony",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Component",9],["T_NS_SEPARATOR","\\",9],["T_STRING","EventDispatcher",9],["T_NS_SEPARATOR","\\",9],["T_STRING","EventSubscriberInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Symfony",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Component",10],["T_NS_SEPARATOR","\\",10],["T_STRING","HttpKernel",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Event",10],["T_NS_SEPARATOR","\\",10],["T_STRING","GetResponseForControllerResultEvent",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Symfony",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Component",11],["T_NS_SEPARATOR","\\",11],["T_STRING","HttpKernel",11],["T_NS_SEPARATOR","\\",11],["T_STRING","KernelEvents",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * View subscriber rendering main content render arrays into responses.\n *\n * Additional target rendering formats can be defined by adding another service\n * that implements \\Drupal\\Core\\Render\\MainContent\\MainContentRendererInterface\n * and tagging it as a @code render.main_content_renderer @endcode, then\n * \\Drupal\\Core\\Render\\MainContent\\MainContentRenderersPass will detect it and\n * use it when appropriate.\n *\n * @see \\Drupal\\Core\\Render\\MainContent\\MainContentRendererInterface\n * @see \\Drupal\\Core\\Render\\MainContentControllerPass\n *\/",13],["T_WHITESPACE","\n",24],["T_CLASS","class",25],["T_WHITESPACE"," ",25],["T_STRING","MainContentViewSubscriber",25],["T_WHITESPACE"," ",25],["T_IMPLEMENTS","implements",25],["T_WHITESPACE"," ",25],["T_STRING","EventSubscriberInterface",25],["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * The class resolver service.\n   *\n   * @var \\Drupal\\Core\\Controller\\ControllerResolverInterface\n   *\/",27],["T_WHITESPACE","\n  ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$classResolver",32],";",["T_WHITESPACE","\n\n  ",32],["T_DOC_COMMENT","\/**\n   * The current route match.\n   *\n   * @var \\Drupal\\Core\\Routing\\RouteMatchInterface\n   *\/",34],["T_WHITESPACE","\n  ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$routeMatch",39],";",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * The available main content renderer services, keyed per format.\n   *\n   * @var array\n   *\/",41],["T_WHITESPACE","\n  ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$mainContentRenderers",46],";",["T_WHITESPACE","\n\n  ",46],["T_DOC_COMMENT","\/**\n   * URL query attribute to indicate the wrapper used to render a request.\n   *\n   * The wrapper format determines how the HTML is wrapped, for example in a\n   * modal dialog.\n   *\/",48],["T_WHITESPACE","\n  ",53],["T_CONST","const",54],["T_WHITESPACE"," ",54],["T_STRING","WRAPPER_FORMAT",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'_wrapper_format'",54],";",["T_WHITESPACE","\n\n  ",54],["T_DOC_COMMENT","\/**\n   * Constructs a new MainContentViewSubscriber object.\n   *\n   * @param \\Drupal\\Core\\DependencyInjection\\ClassResolverInterface $class_resolver\n   *   The class resolver service.\n   * @param \\Drupal\\Core\\Routing\\RouteMatchInterface $route_match\n   *   The current route match.\n   * @param array $main_content_renderers\n   *   The available main content renderer service IDs, keyed by format.\n   *\/",56],["T_WHITESPACE","\n  ",65],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","__construct",66],"(",["T_STRING","ClassResolverInterface",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$class_resolver",66],",",["T_WHITESPACE"," ",66],["T_STRING","RouteMatchInterface",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$route_match",66],",",["T_WHITESPACE"," ",66],["T_ARRAY","array",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$main_content_renderers",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","classResolver",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$class_resolver",67],";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","routeMatch",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$route_match",68],";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","mainContentRenderers",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$main_content_renderers",69],";",["T_WHITESPACE","\n  ",69],"}",["T_WHITESPACE","\n\n  ",70],["T_DOC_COMMENT","\/**\n   * Sets a response given a (main content) render array.\n   *\n   * @param \\Symfony\\Component\\HttpKernel\\Event\\GetResponseForControllerResultEvent $event\n   *   The event to process.\n   *\/",72],["T_WHITESPACE","\n  ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","onViewRenderArray",78],"(",["T_STRING","GetResponseForControllerResultEvent",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$event",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$request",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$event",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getRequest",79],"(",")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$result",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$event",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getControllerResult",80],"(",")",";",["T_WHITESPACE","\n\n    ",80],["T_COMMENT","\/\/ Render the controller result into a response if it's a render array.\n",82],["T_WHITESPACE","    ",83],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_STRING","is_array",83],"(",["T_VARIABLE","$result",83],")",["T_WHITESPACE"," ",83],["T_BOOLEAN_AND","&&",83],["T_WHITESPACE"," ",83],"(",["T_VARIABLE","$request",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","query",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","has",83],"(",["T_STATIC","static",83],["T_DOUBLE_COLON","::",83],["T_STRING","WRAPPER_FORMAT",83],")",["T_WHITESPACE"," ",83],["T_BOOLEAN_OR","||",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$request",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getRequestFormat",83],"(",")",["T_WHITESPACE"," ",83],["T_IS_EQUAL","==",83],["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'html'",83],")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n      ",83],["T_VARIABLE","$wrapper",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$request",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","query",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","get",84],"(",["T_STATIC","static",84],["T_DOUBLE_COLON","::",84],["T_STRING","WRAPPER_FORMAT",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'html'",84],")",";",["T_WHITESPACE","\n\n      ",84],["T_COMMENT","\/\/ Fall back to HTML if the requested wrapper envelope is not available.\n",86],["T_WHITESPACE","      ",87],["T_VARIABLE","$wrapper",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_ISSET","isset",87],"(",["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","mainContentRenderers",87],"[",["T_VARIABLE","$wrapper",87],"]",")",["T_WHITESPACE"," ",87],"?",["T_WHITESPACE"," ",87],["T_VARIABLE","$wrapper",87],["T_WHITESPACE"," ",87],":",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'html'",87],";",["T_WHITESPACE","\n\n      ",87],["T_VARIABLE","$renderer",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","classResolver",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getInstanceFromDefinition",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","mainContentRenderers",89],"[",["T_VARIABLE","$wrapper",89],"]",")",";",["T_WHITESPACE","\n      ",89],["T_VARIABLE","$response",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$renderer",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","renderResponse",90],"(",["T_VARIABLE","$result",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$request",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","routeMatch",90],")",";",["T_WHITESPACE","\n      ",90],["T_COMMENT","\/\/ The main content render array is rendered into a different Response\n",91],["T_WHITESPACE","      ",92],["T_COMMENT","\/\/ object, depending on the specified wrapper format.\n",92],["T_WHITESPACE","      ",93],["T_IF","if",93],["T_WHITESPACE"," ",93],"(",["T_VARIABLE","$response",93],["T_WHITESPACE"," ",93],["T_INSTANCEOF","instanceof",93],["T_WHITESPACE"," ",93],["T_STRING","CacheableResponseInterface",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$main_content_view_subscriber_cacheability",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],"(",["T_NEW","new",94],["T_WHITESPACE"," ",94],["T_STRING","CacheableMetadata",94],"(",")",")",["T_OBJECT_OPERATOR","->",94],["T_STRING","setCacheContexts",94],"(","[",["T_CONSTANT_ENCAPSED_STRING","'url.query_args:'",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_STATIC","static",94],["T_DOUBLE_COLON","::",94],["T_STRING","WRAPPER_FORMAT",94],"]",")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$response",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","addCacheableDependency",95],"(",["T_VARIABLE","$main_content_view_subscriber_cacheability",95],")",";",["T_WHITESPACE","\n      ",95],"}",["T_WHITESPACE","\n      ",96],["T_VARIABLE","$event",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","setResponse",97],"(",["T_VARIABLE","$response",97],")",";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n  ",98],"}",["T_WHITESPACE","\n\n  ",99],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",101],["T_WHITESPACE","\n  ",103],["T_STATIC","static",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","getSubscribedEvents",104],"(",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$events",105],"[",["T_STRING","KernelEvents",105],["T_DOUBLE_COLON","::",105],["T_STRING","VIEW",105],"]","[","]",["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],"[",["T_CONSTANT_ENCAPSED_STRING","'onViewRenderArray'",105],"]",";",["T_WHITESPACE","\n\n    ",105],["T_RETURN","return",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$events",107],";",["T_WHITESPACE","\n  ",107],"}",["T_WHITESPACE","\n\n",108],"}",["T_WHITESPACE","\n",110]]