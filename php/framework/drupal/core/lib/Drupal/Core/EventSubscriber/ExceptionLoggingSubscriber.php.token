[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","EventSubscriber",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Logger",5],["T_NS_SEPARATOR","\\",5],["T_STRING","LoggerChannelFactoryInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Error",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Symfony",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Component",7],["T_NS_SEPARATOR","\\",7],["T_STRING","EventDispatcher",7],["T_NS_SEPARATOR","\\",7],["T_STRING","EventSubscriberInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Symfony",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Component",8],["T_NS_SEPARATOR","\\",8],["T_STRING","HttpKernel",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Event",8],["T_NS_SEPARATOR","\\",8],["T_STRING","GetResponseForExceptionEvent",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Symfony",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Component",9],["T_NS_SEPARATOR","\\",9],["T_STRING","HttpKernel",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Exception",9],["T_NS_SEPARATOR","\\",9],["T_STRING","HttpExceptionInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Symfony",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Component",10],["T_NS_SEPARATOR","\\",10],["T_STRING","HttpKernel",10],["T_NS_SEPARATOR","\\",10],["T_STRING","KernelEvents",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Log exceptions without further handling.\n *\/",12],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","ExceptionLoggingSubscriber",15],["T_WHITESPACE"," ",15],["T_IMPLEMENTS","implements",15],["T_WHITESPACE"," ",15],["T_STRING","EventSubscriberInterface",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * The logger channel factory.\n   *\n   * @var \\Drupal\\Core\\Logger\\LoggerChannelFactoryInterface\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$logger",22],";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * Constructs a new ExceptionLoggingSubscriber.\n   *\n   * @param \\Drupal\\Core\\Logger\\LoggerChannelFactoryInterface $logger\n   *   The logger channel factory.\n   *\/",24],["T_WHITESPACE","\n  ",29],["T_PUBLIC","public",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","__construct",30],"(",["T_STRING","LoggerChannelFactoryInterface",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$logger",30],")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","logger",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$logger",31],";",["T_WHITESPACE","\n  ",31],"}",["T_WHITESPACE","\n\n  ",32],["T_DOC_COMMENT","\/**\n   * Log 403 errors.\n   *\n   * @param \\Symfony\\Component\\HttpKernel\\Event\\GetResponseForExceptionEvent $event\n   *   The event to process.\n   *\/",34],["T_WHITESPACE","\n  ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","on403",40],"(",["T_STRING","GetResponseForExceptionEvent",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$event",40],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$request",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$event",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getRequest",41],"(",")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","logger",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","get",42],"(",["T_CONSTANT_ENCAPSED_STRING","'access denied'",42],")",["T_OBJECT_OPERATOR","->",42],["T_STRING","warning",42],"(",["T_CONSTANT_ENCAPSED_STRING","'@uri'",42],",",["T_WHITESPACE"," ",42],"[",["T_CONSTANT_ENCAPSED_STRING","'@uri'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$request",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getRequestUri",42],"(",")","]",")",";",["T_WHITESPACE","\n  ",42],"}",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * Log 404 errors.\n   *\n   * @param \\Symfony\\Component\\HttpKernel\\Event\\GetResponseForExceptionEvent $event\n   *   The event to process.\n   *\/",45],["T_WHITESPACE","\n  ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","on404",51],"(",["T_STRING","GetResponseForExceptionEvent",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$event",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$request",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$event",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getRequest",52],"(",")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","logger",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","get",53],"(",["T_CONSTANT_ENCAPSED_STRING","'page not found'",53],")",["T_OBJECT_OPERATOR","->",53],["T_STRING","warning",53],"(",["T_CONSTANT_ENCAPSED_STRING","'@uri'",53],",",["T_WHITESPACE"," ",53],"[",["T_CONSTANT_ENCAPSED_STRING","'@uri'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$request",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getRequestUri",53],"(",")","]",")",";",["T_WHITESPACE","\n  ",53],"}",["T_WHITESPACE","\n\n  ",54],["T_DOC_COMMENT","\/**\n   * Log not-otherwise-specified errors, including HTTP 500.\n   *\n   * @param \\Symfony\\Component\\HttpKernel\\Event\\GetResponseForExceptionEvent $event\n   *   The event to process.\n   *\/",56],["T_WHITESPACE","\n  ",61],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","onError",62],"(",["T_STRING","GetResponseForExceptionEvent",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$event",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$exception",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$event",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getException",63],"(",")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$error",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","Error",64],["T_DOUBLE_COLON","::",64],["T_STRING","decodeException",64],"(",["T_VARIABLE","$exception",64],")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","logger",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","get",65],"(",["T_CONSTANT_ENCAPSED_STRING","'php'",65],")",["T_OBJECT_OPERATOR","->",65],["T_STRING","log",65],"(",["T_VARIABLE","$error",65],"[",["T_CONSTANT_ENCAPSED_STRING","'severity_level'",65],"]",",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'%type: @message in %function (line %line of %file).'",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$error",65],")",";",["T_WHITESPACE","\n\n    ",65],["T_VARIABLE","$is_critical",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],"!",["T_VARIABLE","$exception",67],["T_WHITESPACE"," ",67],["T_INSTANCEOF","instanceof",67],["T_WHITESPACE"," ",67],["T_STRING","HttpExceptionInterface",67],["T_WHITESPACE"," ",67],["T_BOOLEAN_OR","||",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$exception",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getStatusCode",67],"(",")",["T_WHITESPACE"," ",67],["T_IS_GREATER_OR_EQUAL",">=",67],["T_WHITESPACE"," ",67],["T_LNUMBER","500",67],";",["T_WHITESPACE","\n    ",67],["T_IF","if",68],["T_WHITESPACE"," ",68],"(",["T_VARIABLE","$is_critical",68],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n      ",68],["T_STRING","error_log",69],"(",["T_STRING","sprintf",69],"(",["T_CONSTANT_ENCAPSED_STRING","'Uncaught PHP Exception %s: \"%s\" at %s line %s'",69],",",["T_WHITESPACE"," ",69],["T_STRING","get_class",69],"(",["T_VARIABLE","$exception",69],")",",",["T_WHITESPACE"," ",69],["T_VARIABLE","$exception",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getMessage",69],"(",")",",",["T_WHITESPACE"," ",69],["T_VARIABLE","$exception",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getFile",69],"(",")",",",["T_WHITESPACE"," ",69],["T_VARIABLE","$exception",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getLine",69],"(",")",")",")",";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n  ",70],"}",["T_WHITESPACE","\n\n  ",71],["T_DOC_COMMENT","\/**\n   * Log all exceptions.\n   *\n   * @param \\Symfony\\Component\\HttpKernel\\Event\\GetResponseForExceptionEvent $event\n   *   The event to process.\n   *\/",73],["T_WHITESPACE","\n  ",78],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","onException",79],"(",["T_STRING","GetResponseForExceptionEvent",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$event",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$exception",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$event",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getException",80],"(",")",";",["T_WHITESPACE","\n\n    ",80],["T_VARIABLE","$method",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'onError'",82],";",["T_WHITESPACE","\n\n    ",82],["T_COMMENT","\/\/ Treat any non-HTTP exception as if it were one, so we log it the same.\n",84],["T_WHITESPACE","    ",85],["T_IF","if",85],["T_WHITESPACE"," ",85],"(",["T_VARIABLE","$exception",85],["T_WHITESPACE"," ",85],["T_INSTANCEOF","instanceof",85],["T_WHITESPACE"," ",85],["T_STRING","HttpExceptionInterface",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n      ",85],["T_VARIABLE","$possible_method",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'on'",86],["T_WHITESPACE"," ",86],".",["T_WHITESPACE"," ",86],["T_VARIABLE","$exception",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getStatusCode",86],"(",")",";",["T_WHITESPACE","\n      ",86],["T_IF","if",87],["T_WHITESPACE"," ",87],"(",["T_STRING","method_exists",87],"(",["T_VARIABLE","$this",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$possible_method",87],")",")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$method",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$possible_method",88],";",["T_WHITESPACE","\n      ",88],"}",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_VARIABLE","$method",92],"(",["T_VARIABLE","$event",92],")",";",["T_WHITESPACE","\n  ",92],"}",["T_WHITESPACE","\n\n  ",93],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",95],["T_WHITESPACE","\n  ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_STATIC","static",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","getSubscribedEvents",98],"(",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$events",99],"[",["T_STRING","KernelEvents",99],["T_DOUBLE_COLON","::",99],["T_STRING","EXCEPTION",99],"]","[","]",["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],"[",["T_CONSTANT_ENCAPSED_STRING","'onException'",99],",",["T_WHITESPACE"," ",99],["T_LNUMBER","50",99],"]",";",["T_WHITESPACE","\n    ",99],["T_RETURN","return",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$events",100],";",["T_WHITESPACE","\n  ",100],"}",["T_WHITESPACE","\n\n",101],"}",["T_WHITESPACE","\n",103]]