[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Image",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ImageToolkit",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ImageToolkitInterface",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Defines an image object to represent an image file.\n *\n * @see \\Drupal\\Core\\ImageToolkit\\ImageToolkitInterface\n * @see \\Drupal\\image\\ImageEffectInterface\n *\n * @ingroup image\n *\/",7],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","Image",15],["T_WHITESPACE"," ",15],["T_IMPLEMENTS","implements",15],["T_WHITESPACE"," ",15],["T_STRING","ImageInterface",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * Path of the image file.\n   *\n   * @var string\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$source",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","''",22],";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * An image toolkit object.\n   *\n   * @var \\Drupal\\Core\\ImageToolkit\\ImageToolkitInterface\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$toolkit",29],";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * File size in bytes.\n   *\n   * @var int\n   *\/",31],["T_WHITESPACE","\n  ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$fileSize",36],";",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * Constructs a new Image object.\n   *\n   * @param \\Drupal\\Core\\ImageToolkit\\ImageToolkitInterface $toolkit\n   *   The image toolkit.\n   * @param string|null $source\n   *   (optional) The path to an image file, or NULL to construct the object\n   *   with no image source.\n   *\/",38],["T_WHITESPACE","\n  ",46],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","__construct",47],"(",["T_STRING","ImageToolkitInterface",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$toolkit",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$source",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","NULL",47],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","toolkit",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$toolkit",48],";",["T_WHITESPACE","\n    ",48],["T_IF","if",49],["T_WHITESPACE"," ",49],"(",["T_VARIABLE","$source",49],")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n      ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","source",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$source",50],";",["T_WHITESPACE","\n      ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getToolkit",51],"(",")",["T_OBJECT_OPERATOR","->",51],["T_STRING","setSource",51],"(",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","source",51],")",";",["T_WHITESPACE","\n      ",51],["T_COMMENT","\/\/ Defer image file validity check to the toolkit.\n",52],["T_WHITESPACE","      ",53],["T_IF","if",53],["T_WHITESPACE"," ",53],"(",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getToolkit",53],"(",")",["T_OBJECT_OPERATOR","->",53],["T_STRING","parseFile",53],"(",")",")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","fileSize",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","filesize",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","source",54],")",";",["T_WHITESPACE","\n      ",54],"}",["T_WHITESPACE","\n    ",55],"}",["T_WHITESPACE","\n  ",56],"}",["T_WHITESPACE","\n\n  ",57],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",59],["T_WHITESPACE","\n  ",61],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","isValid",62],"(",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n    ",62],["T_RETURN","return",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getToolkit",63],"(",")",["T_OBJECT_OPERATOR","->",63],["T_STRING","isValid",63],"(",")",";",["T_WHITESPACE","\n  ",63],"}",["T_WHITESPACE","\n\n  ",64],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",66],["T_WHITESPACE","\n  ",68],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","getHeight",69],"(",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n    ",69],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getToolkit",70],"(",")",["T_OBJECT_OPERATOR","->",70],["T_STRING","getHeight",70],"(",")",";",["T_WHITESPACE","\n  ",70],"}",["T_WHITESPACE","\n\n  ",71],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",73],["T_WHITESPACE","\n  ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","getWidth",76],"(",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n    ",76],["T_RETURN","return",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getToolkit",77],"(",")",["T_OBJECT_OPERATOR","->",77],["T_STRING","getWidth",77],"(",")",";",["T_WHITESPACE","\n  ",77],"}",["T_WHITESPACE","\n\n  ",78],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",80],["T_WHITESPACE","\n  ",82],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","getFileSize",83],"(",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n    ",83],["T_RETURN","return",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","fileSize",84],";",["T_WHITESPACE","\n  ",84],"}",["T_WHITESPACE","\n\n  ",85],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",87],["T_WHITESPACE","\n  ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","getMimeType",90],"(",")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n    ",90],["T_RETURN","return",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getToolkit",91],"(",")",["T_OBJECT_OPERATOR","->",91],["T_STRING","getMimeType",91],"(",")",";",["T_WHITESPACE","\n  ",91],"}",["T_WHITESPACE","\n\n  ",92],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",94],["T_WHITESPACE","\n  ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","getSource",97],"(",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n    ",97],["T_RETURN","return",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","source",98],";",["T_WHITESPACE","\n  ",98],"}",["T_WHITESPACE","\n\n  ",99],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",101],["T_WHITESPACE","\n  ",103],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","getToolkitId",104],"(",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n    ",104],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getToolkit",105],"(",")",["T_OBJECT_OPERATOR","->",105],["T_STRING","getPluginId",105],"(",")",";",["T_WHITESPACE","\n  ",105],"}",["T_WHITESPACE","\n\n  ",106],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",108],["T_WHITESPACE","\n  ",110],["T_PUBLIC","public",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","getToolkit",111],"(",")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n    ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","toolkit",112],";",["T_WHITESPACE","\n  ",112],"}",["T_WHITESPACE","\n\n  ",113],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",115],["T_WHITESPACE","\n  ",117],["T_PUBLIC","public",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","save",118],"(",["T_VARIABLE","$destination",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","NULL",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n    ",118],["T_COMMENT","\/\/ Return immediately if the image is not valid.\n",119],["T_WHITESPACE","    ",120],["T_IF","if",120],["T_WHITESPACE"," ",120],"(","!",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","isValid",120],"(",")",")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n      ",120],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_STRING","FALSE",121],";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_VARIABLE","$destination",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$destination",124],["T_WHITESPACE"," ",124],"?",":",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getSource",124],"(",")",";",["T_WHITESPACE","\n    ",124],["T_IF","if",125],["T_WHITESPACE"," ",125],"(",["T_VARIABLE","$return",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getToolkit",125],"(",")",["T_OBJECT_OPERATOR","->",125],["T_STRING","save",125],"(",["T_VARIABLE","$destination",125],")",")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n      ",125],["T_COMMENT","\/\/ Clear the cached file size and refresh the image information.\n",126],["T_WHITESPACE","      ",127],["T_STRING","clearstatcache",127],"(",["T_STRING","TRUE",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$destination",127],")",";",["T_WHITESPACE","\n      ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","fileSize",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_STRING","filesize",128],"(",["T_VARIABLE","$destination",128],")",";",["T_WHITESPACE","\n      ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","source",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$destination",129],";",["T_WHITESPACE","\n\n      ",129],["T_COMMENT","\/\/ @todo Use File utility when https:\/\/www.drupal.org\/node\/2050759 is in.\n",131],["T_WHITESPACE","      ",132],["T_IF","if",132],["T_WHITESPACE"," ",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","chmod",132],"(",["T_VARIABLE","$destination",132],")",")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n        ",132],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$return",133],";",["T_WHITESPACE","\n      ",133],"}",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n    ",135],["T_RETURN","return",136],["T_WHITESPACE"," ",136],["T_STRING","FALSE",136],";",["T_WHITESPACE","\n  ",136],"}",["T_WHITESPACE","\n\n  ",137],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",139],["T_WHITESPACE","\n  ",141],["T_PUBLIC","public",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","apply",142],"(",["T_VARIABLE","$operation",142],",",["T_WHITESPACE"," ",142],["T_ARRAY","array",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$arguments",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_ARRAY","array",142],"(",")",")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n    ",142],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getToolkit",143],"(",")",["T_OBJECT_OPERATOR","->",143],["T_STRING","apply",143],"(",["T_VARIABLE","$operation",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$arguments",143],")",";",["T_WHITESPACE","\n  ",143],"}",["T_WHITESPACE","\n\n  ",144],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",146],["T_WHITESPACE","\n  ",148],["T_PUBLIC","public",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","createNew",149],"(",["T_VARIABLE","$width",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$height",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$extension",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'png'",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$transparent_color",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'#ffffff'",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n    ",149],["T_RETURN","return",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","apply",150],"(",["T_CONSTANT_ENCAPSED_STRING","'create_new'",150],",",["T_WHITESPACE"," ",150],["T_ARRAY","array",150],"(",["T_CONSTANT_ENCAPSED_STRING","'width'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$width",150],",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'height'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$height",150],",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'extension'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$extension",150],",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'transparent_color'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$transparent_color",150],")",")",";",["T_WHITESPACE","\n  ",150],"}",["T_WHITESPACE","\n\n  ",151],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",153],["T_WHITESPACE","\n  ",155],["T_PUBLIC","public",156],["T_WHITESPACE"," ",156],["T_FUNCTION","function",156],["T_WHITESPACE"," ",156],["T_STRING","convert",156],"(",["T_VARIABLE","$extension",156],")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n    ",156],["T_RETURN","return",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","apply",157],"(",["T_CONSTANT_ENCAPSED_STRING","'convert'",157],",",["T_WHITESPACE"," ",157],["T_ARRAY","array",157],"(",["T_CONSTANT_ENCAPSED_STRING","'extension'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$extension",157],")",")",";",["T_WHITESPACE","\n  ",157],"}",["T_WHITESPACE","\n\n  ",158],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",160],["T_WHITESPACE","\n  ",162],["T_PUBLIC","public",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","crop",163],"(",["T_VARIABLE","$x",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$y",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$width",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$height",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_STRING","NULL",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n    ",163],["T_RETURN","return",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","apply",164],"(",["T_CONSTANT_ENCAPSED_STRING","'crop'",164],",",["T_WHITESPACE"," ",164],["T_ARRAY","array",164],"(",["T_CONSTANT_ENCAPSED_STRING","'x'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$x",164],",",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'y'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$y",164],",",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'width'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$width",164],",",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'height'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$height",164],")",")",";",["T_WHITESPACE","\n  ",164],"}",["T_WHITESPACE","\n\n  ",165],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",167],["T_WHITESPACE","\n  ",169],["T_PUBLIC","public",170],["T_WHITESPACE"," ",170],["T_FUNCTION","function",170],["T_WHITESPACE"," ",170],["T_STRING","desaturate",170],"(",")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n    ",170],["T_RETURN","return",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","apply",171],"(",["T_CONSTANT_ENCAPSED_STRING","'desaturate'",171],",",["T_WHITESPACE"," ",171],["T_ARRAY","array",171],"(",")",")",";",["T_WHITESPACE","\n  ",171],"}",["T_WHITESPACE","\n\n  ",172],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",174],["T_WHITESPACE","\n  ",176],["T_PUBLIC","public",177],["T_WHITESPACE"," ",177],["T_FUNCTION","function",177],["T_WHITESPACE"," ",177],["T_STRING","resize",177],"(",["T_VARIABLE","$width",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$height",177],")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n    ",177],["T_RETURN","return",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","apply",178],"(",["T_CONSTANT_ENCAPSED_STRING","'resize'",178],",",["T_WHITESPACE"," ",178],["T_ARRAY","array",178],"(",["T_CONSTANT_ENCAPSED_STRING","'width'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$width",178],",",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'height'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$height",178],")",")",";",["T_WHITESPACE","\n  ",178],"}",["T_WHITESPACE","\n\n  ",179],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",181],["T_WHITESPACE","\n  ",183],["T_PUBLIC","public",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","rotate",184],"(",["T_VARIABLE","$degrees",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$background",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_STRING","NULL",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n    ",184],["T_RETURN","return",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","apply",185],"(",["T_CONSTANT_ENCAPSED_STRING","'rotate'",185],",",["T_WHITESPACE"," ",185],["T_ARRAY","array",185],"(",["T_CONSTANT_ENCAPSED_STRING","'degrees'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$degrees",185],",",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'background'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$background",185],")",")",";",["T_WHITESPACE","\n  ",185],"}",["T_WHITESPACE","\n\n  ",186],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",188],["T_WHITESPACE","\n  ",190],["T_PUBLIC","public",191],["T_WHITESPACE"," ",191],["T_FUNCTION","function",191],["T_WHITESPACE"," ",191],["T_STRING","scaleAndCrop",191],"(",["T_VARIABLE","$width",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$height",191],")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n    ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","apply",192],"(",["T_CONSTANT_ENCAPSED_STRING","'scale_and_crop'",192],",",["T_WHITESPACE"," ",192],["T_ARRAY","array",192],"(",["T_CONSTANT_ENCAPSED_STRING","'width'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$width",192],",",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'height'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$height",192],")",")",";",["T_WHITESPACE","\n  ",192],"}",["T_WHITESPACE","\n\n  ",193],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",195],["T_WHITESPACE","\n  ",197],["T_PUBLIC","public",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","scale",198],"(",["T_VARIABLE","$width",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$height",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_STRING","NULL",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$upscale",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_STRING","FALSE",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n    ",198],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","apply",199],"(",["T_CONSTANT_ENCAPSED_STRING","'scale'",199],",",["T_WHITESPACE"," ",199],["T_ARRAY","array",199],"(",["T_CONSTANT_ENCAPSED_STRING","'width'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$width",199],",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'height'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$height",199],",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'upscale'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$upscale",199],")",")",";",["T_WHITESPACE","\n  ",199],"}",["T_WHITESPACE","\n\n  ",200],["T_DOC_COMMENT","\/**\n   * Provides a wrapper for drupal_chmod() to allow unit testing.\n   *\n   * @param string $uri\n   *   A string containing a URI file, or directory path.\n   * @param int $mode\n   *   Integer value for the permissions. Consult PHP chmod() documentation for\n   *   more information.\n   *\n   * @see drupal_chmod()\n   *\n   * @todo Remove when https:\/\/www.drupal.org\/node\/2050759 is in.\n   *\n   * @return bool\n   *   TRUE for success, FALSE in the event of an error.\n   *\/",202],["T_WHITESPACE","\n  ",217],["T_PROTECTED","protected",218],["T_WHITESPACE"," ",218],["T_FUNCTION","function",218],["T_WHITESPACE"," ",218],["T_STRING","chmod",218],"(",["T_VARIABLE","$uri",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$mode",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_STRING","NULL",218],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n    ",218],["T_RETURN","return",219],["T_WHITESPACE"," ",219],["T_STRING","drupal_chmod",219],"(",["T_VARIABLE","$uri",219],",",["T_WHITESPACE"," ",219],["T_VARIABLE","$mode",219],")",";",["T_WHITESPACE","\n  ",219],"}",["T_WHITESPACE","\n\n",220],"}",["T_WHITESPACE","\n",222]]