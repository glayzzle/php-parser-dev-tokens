[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Datetime",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Element",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Datetime",5],["T_NS_SEPARATOR","\\",5],["T_STRING","DrupalDateTime",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Render",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Element",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FormElement",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Provides a base class for date elements.\n *\/",8],["T_WHITESPACE","\n",10],["T_ABSTRACT","abstract",11],["T_WHITESPACE"," ",11],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","DateElementBase",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_STRING","FormElement",11],["T_WHITESPACE"," ",11],"{",["T_WHITESPACE","\n\n  ",11],["T_DOC_COMMENT","\/**\n   * Specifies the start and end year to use as a date range.\n   *\n   * Handles a string like -3:+3 or 2001:2010 to describe a dynamic range of\n   * minimum and maximum years to use in a date selector.\n   *\n   * Centers the range around the current year, if any, but expands it far enough\n   * so it will pick up the year value in the field in case the value in the field\n   * is outside the initial range.\n   *\n   * @param string $string\n   *   A min and max year string like '-3:+1' or '2000:2010' or '2000:+3'.\n   * @param object $date\n   *   (optional) A date object to test as a default value. Defaults to NULL.\n   *\n   * @return array\n   *   A numerically indexed array, containing the minimum and maximum year\n   *   described by this pattern.\n   *\/",13],["T_WHITESPACE","\n  ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_STATIC","static",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","datetimeRangeYears",32],"(",["T_VARIABLE","$string",32],",",["T_WHITESPACE"," ",32],["T_VARIABLE","$date",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_STRING","NULL",32],")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$datetime",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_NEW","new",33],["T_WHITESPACE"," ",33],["T_STRING","DrupalDateTime",33],"(",")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$this_year",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$datetime",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","format",34],"(",["T_CONSTANT_ENCAPSED_STRING","'Y'",34],")",";",["T_WHITESPACE","\n    ",34],["T_LIST","list",35],"(",["T_VARIABLE","$min_year",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$max_year",35],")",["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_STRING","explode",35],"(",["T_CONSTANT_ENCAPSED_STRING","':'",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$string",35],")",";",["T_WHITESPACE","\n\n    ",35],["T_COMMENT","\/\/ Valid patterns would be -5:+5, 0:+1, 2008:2010.\n",37],["T_WHITESPACE","    ",38],["T_VARIABLE","$plus_pattern",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'@[\\+|\\-][0-9]{1,4}@'",38],";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$year_pattern",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'@^[0-9]{4}@'",39],";",["T_WHITESPACE","\n    ",39],["T_IF","if",40],["T_WHITESPACE"," ",40],"(","!",["T_STRING","preg_match",40],"(",["T_VARIABLE","$year_pattern",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$min_year",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$matches",40],")",")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n      ",40],["T_IF","if",41],["T_WHITESPACE"," ",41],"(",["T_STRING","preg_match",41],"(",["T_VARIABLE","$plus_pattern",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$min_year",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$matches",41],")",")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$min_year",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$this_year",42],["T_WHITESPACE"," ",42],"+",["T_WHITESPACE"," ",42],["T_VARIABLE","$matches",42],"[",["T_LNUMBER","0",42],"]",";",["T_WHITESPACE","\n      ",42],"}",["T_WHITESPACE","\n      ",43],["T_ELSE","else",44],["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$min_year",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this_year",45],";",["T_WHITESPACE","\n      ",45],"}",["T_WHITESPACE","\n    ",46],"}",["T_WHITESPACE","\n    ",47],["T_IF","if",48],["T_WHITESPACE"," ",48],"(","!",["T_STRING","preg_match",48],"(",["T_VARIABLE","$year_pattern",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$max_year",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$matches",48],")",")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n      ",48],["T_IF","if",49],["T_WHITESPACE"," ",49],"(",["T_STRING","preg_match",49],"(",["T_VARIABLE","$plus_pattern",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$max_year",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$matches",49],")",")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$max_year",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this_year",50],["T_WHITESPACE"," ",50],"+",["T_WHITESPACE"," ",50],["T_VARIABLE","$matches",50],"[",["T_LNUMBER","0",50],"]",";",["T_WHITESPACE","\n      ",50],"}",["T_WHITESPACE","\n      ",51],["T_ELSE","else",52],["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$max_year",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this_year",53],";",["T_WHITESPACE","\n      ",53],"}",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n    ",55],["T_COMMENT","\/\/ We expect the $min year to be less than the $max year. Some custom values\n",56],["T_WHITESPACE","    ",57],["T_COMMENT","\/\/ for -99:+99 might not obey that.\n",57],["T_WHITESPACE","    ",58],["T_IF","if",58],["T_WHITESPACE"," ",58],"(",["T_VARIABLE","$min_year",58],["T_WHITESPACE"," ",58],">",["T_WHITESPACE"," ",58],["T_VARIABLE","$max_year",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n      ",58],["T_VARIABLE","$temp",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$max_year",59],";",["T_WHITESPACE","\n      ",59],["T_VARIABLE","$max_year",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$min_year",60],";",["T_WHITESPACE","\n      ",60],["T_VARIABLE","$min_year",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$temp",61],";",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n    ",62],["T_COMMENT","\/\/ If there is a current value, stretch the range to include it.\n",63],["T_WHITESPACE","    ",64],["T_VARIABLE","$value_year",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$date",64],["T_WHITESPACE"," ",64],["T_INSTANCEOF","instanceof",64],["T_WHITESPACE"," ",64],["T_STRING","DrupalDateTime",64],["T_WHITESPACE"," ",64],"?",["T_WHITESPACE"," ",64],["T_VARIABLE","$date",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","format",64],"(",["T_CONSTANT_ENCAPSED_STRING","'Y'",64],")",["T_WHITESPACE"," ",64],":",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","''",64],";",["T_WHITESPACE","\n    ",64],["T_IF","if",65],["T_WHITESPACE"," ",65],"(","!",["T_EMPTY","empty",65],"(",["T_VARIABLE","$value_year",65],")",")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n      ",65],["T_VARIABLE","$min_year",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","min",66],"(",["T_VARIABLE","$value_year",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$min_year",66],")",";",["T_WHITESPACE","\n      ",66],["T_VARIABLE","$max_year",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","max",67],"(",["T_VARIABLE","$value_year",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$max_year",67],")",";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n    ",68],["T_RETURN","return",69],["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",["T_VARIABLE","$min_year",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$max_year",69],")",";",["T_WHITESPACE","\n  ",69],"}",["T_WHITESPACE","\n\n",70],"}",["T_WHITESPACE","\n",72]]