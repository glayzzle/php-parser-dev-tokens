[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","StreamWrapper",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Defines a read-only Drupal stream wrapper base class for local files.\n *\n * This class extends the complete stream wrapper implementation in LocalStream.\n * URIs such as \"public:\/\/example.txt\" are expanded to a normal filesystem path\n * such as \"sites\/default\/files\/example.txt\" and then PHP filesystem functions\n * are invoked.\n *\n * Drupal\\Core\\StreamWrapper\\LocalReadOnlyStream implementations need to\n * implement at least the getDirectoryPath() and getExternalUrl() methods.\n *\/",5],["T_WHITESPACE","\n",15],["T_ABSTRACT","abstract",16],["T_WHITESPACE"," ",16],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","LocalReadOnlyStream",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","LocalStream",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",18],["T_WHITESPACE","\n  ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_STATIC","static",21],["T_WHITESPACE"," ",21],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","getType",21],"(",")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n    ",21],["T_RETURN","return",22],["T_WHITESPACE"," ",22],["T_STRING","StreamWrapperInterface",22],["T_DOUBLE_COLON","::",22],["T_STRING","READ_VISIBLE",22],["T_WHITESPACE"," ",22],"|",["T_WHITESPACE"," ",22],["T_STRING","StreamWrapperInterface",22],["T_DOUBLE_COLON","::",22],["T_STRING","LOCAL",22],";",["T_WHITESPACE","\n  ",22],"}",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",25],["T_WHITESPACE","\n  ",27],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","stream_open",28],"(",["T_VARIABLE","$uri",28],",",["T_WHITESPACE"," ",28],["T_VARIABLE","$mode",28],",",["T_WHITESPACE"," ",28],["T_VARIABLE","$options",28],",",["T_WHITESPACE"," ",28],"&",["T_VARIABLE","$opened_path",28],")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n    ",28],["T_IF","if",29],["T_WHITESPACE"," ",29],"(","!",["T_STRING","in_array",29],"(",["T_VARIABLE","$mode",29],",",["T_WHITESPACE"," ",29],["T_ARRAY","array",29],"(",["T_CONSTANT_ENCAPSED_STRING","'r'",29],",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'rb'",29],",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'rt'",29],")",")",")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n      ",29],["T_IF","if",30],["T_WHITESPACE"," ",30],"(",["T_VARIABLE","$options",30],["T_WHITESPACE"," ",30],"&",["T_WHITESPACE"," ",30],["T_STRING","STREAM_REPORT_ERRORS",30],")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n        ",30],["T_STRING","trigger_error",31],"(",["T_CONSTANT_ENCAPSED_STRING","'stream_open() write modes not supported for read-only stream wrappers'",31],",",["T_WHITESPACE"," ",31],["T_STRING","E_USER_WARNING",31],")",";",["T_WHITESPACE","\n      ",31],"}",["T_WHITESPACE","\n      ",32],["T_RETURN","return",33],["T_WHITESPACE"," ",33],["T_STRING","FALSE",33],";",["T_WHITESPACE","\n    ",33],"}",["T_WHITESPACE","\n    ",34],["T_RETURN","return",35],["T_WHITESPACE"," ",35],["T_STRING","parent",35],["T_DOUBLE_COLON","::",35],["T_STRING","stream_open",35],"(",["T_VARIABLE","$uri",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$mode",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$options",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$opened_path",35],")",";",["T_WHITESPACE","\n  ",35],"}",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * Support for flock().\n   *\n   * An exclusive lock attempt will be rejected, as this is a read-only stream\n   * wrapper.\n   *\n   * @param int $operation\n   *   One of the following:\n   *   - LOCK_SH to acquire a shared lock (reader).\n   *   - LOCK_EX to acquire an exclusive lock (writer).\n   *   - LOCK_UN to release a lock (shared or exclusive).\n   *   - LOCK_NB added as a bitmask if you don't want flock() to block while\n   *     locking (not supported on Windows).\n   *\n   * @return bool\n   *   Return FALSE for an exclusive lock (writer), as this is a read-only\n   *   stream wrapper.  Return the result of flock() for other valid operations.\n   *   Defaults to TRUE if an invalid operation is passed.\n   *\n   * @see http:\/\/php.net\/manual\/streamwrapper.stream-lock.php\n   *\/",38],["T_WHITESPACE","\n  ",58],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","stream_lock",59],"(",["T_VARIABLE","$operation",59],")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n    ",59],["T_COMMENT","\/\/ Disallow exclusive lock or non-blocking lock requests\n",60],["T_WHITESPACE","    ",61],["T_IF","if",61],["T_WHITESPACE"," ",61],"(",["T_STRING","in_array",61],"(",["T_VARIABLE","$operation",61],",",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",["T_STRING","LOCK_EX",61],",",["T_WHITESPACE"," ",61],["T_STRING","LOCK_EX",61],["T_WHITESPACE"," ",61],"|",["T_WHITESPACE"," ",61],["T_STRING","LOCK_NB",61],")",")",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n      ",61],["T_STRING","trigger_error",62],"(",["T_CONSTANT_ENCAPSED_STRING","'stream_lock() exclusive lock operations not supported for read-only stream wrappers'",62],",",["T_WHITESPACE"," ",62],["T_STRING","E_USER_WARNING",62],")",";",["T_WHITESPACE","\n      ",62],["T_RETURN","return",63],["T_WHITESPACE"," ",63],["T_STRING","FALSE",63],";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n    ",64],["T_IF","if",65],["T_WHITESPACE"," ",65],"(",["T_STRING","in_array",65],"(",["T_VARIABLE","$operation",65],",",["T_WHITESPACE"," ",65],["T_ARRAY","array",65],"(",["T_STRING","LOCK_SH",65],",",["T_WHITESPACE"," ",65],["T_STRING","LOCK_UN",65],",",["T_WHITESPACE"," ",65],["T_STRING","LOCK_SH",65],["T_WHITESPACE"," ",65],"|",["T_WHITESPACE"," ",65],["T_STRING","LOCK_NB",65],")",")",")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n      ",65],["T_RETURN","return",66],["T_WHITESPACE"," ",66],["T_STRING","flock",66],"(",["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","handle",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$operation",66],")",";",["T_WHITESPACE","\n    ",66],"}",["T_WHITESPACE","\n\n    ",67],["T_RETURN","return",69],["T_WHITESPACE"," ",69],["T_STRING","TRUE",69],";",["T_WHITESPACE","\n  ",69],"}",["T_WHITESPACE","\n\n\n  ",70],["T_DOC_COMMENT","\/**\n   * Support for fwrite(), file_put_contents() etc.\n   *\n   * Data will not be written as this is a read-only stream wrapper.\n   *\n   * @param string $data\n   *   The string to be written.\n   *\n   * @return bool\n   *   FALSE as data will not be written.\n   *\n   * @see http:\/\/php.net\/manual\/streamwrapper.stream-write.php\n   *\/",73],["T_WHITESPACE","\n  ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","stream_write",86],"(",["T_VARIABLE","$data",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n    ",86],["T_STRING","trigger_error",87],"(",["T_CONSTANT_ENCAPSED_STRING","'stream_write() not supported for read-only stream wrappers'",87],",",["T_WHITESPACE"," ",87],["T_STRING","E_USER_WARNING",87],")",";",["T_WHITESPACE","\n    ",87],["T_RETURN","return",88],["T_WHITESPACE"," ",88],["T_STRING","FALSE",88],";",["T_WHITESPACE","\n  ",88],"}",["T_WHITESPACE","\n\n  ",89],["T_DOC_COMMENT","\/**\n   * Support for fflush().\n   *\n   * Nothing will be output to the file, as this is a read-only stream wrapper.\n   * However as stream_flush is called during stream_close we should not trigger\n   * an error.\n   *\n   * @return bool\n   *   FALSE, as no data will be stored.\n   *\n   * @see http:\/\/php.net\/manual\/streamwrapper.stream-flush.php\n   *\/",91],["T_WHITESPACE","\n  ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","stream_flush",103],"(",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n    ",103],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_STRING","FALSE",104],";",["T_WHITESPACE","\n  ",104],"}",["T_WHITESPACE","\n\n  ",105],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\n   * Does not change meta data as this is a read-only stream wrapper.\n   *\/",107],["T_WHITESPACE","\n  ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","stream_metadata",112],"(",["T_VARIABLE","$uri",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$option",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$value",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n    ",112],["T_STRING","trigger_error",113],"(",["T_CONSTANT_ENCAPSED_STRING","'stream_metadata() not supported for read-only stream wrappers'",113],",",["T_WHITESPACE"," ",113],["T_STRING","E_USER_WARNING",113],")",";",["T_WHITESPACE","\n    ",113],["T_RETURN","return",114],["T_WHITESPACE"," ",114],["T_STRING","FALSE",114],";",["T_WHITESPACE","\n  ",114],"}",["T_WHITESPACE","\n\n  ",115],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",117],["T_WHITESPACE","\n  ",119],["T_PUBLIC","public",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","stream_truncate",120],"(",["T_VARIABLE","$new_size",120],")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n    ",120],["T_STRING","trigger_error",121],"(",["T_CONSTANT_ENCAPSED_STRING","'stream_truncate() not supported for read-only stream wrappers'",121],",",["T_WHITESPACE"," ",121],["T_STRING","E_USER_WARNING",121],")",";",["T_WHITESPACE","\n    ",121],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_STRING","FALSE",122],";",["T_WHITESPACE","\n  ",122],"}",["T_WHITESPACE","\n\n  ",123],["T_DOC_COMMENT","\/**\n   * Support for unlink().\n   *\n   * The file will not be deleted from the stream as this is a read-only stream\n   * wrapper.\n   *\n   * @param string $uri\n   *   A string containing the uri to the resource to delete.\n   *\n   * @return bool\n   *   TRUE so that file_delete() will remove db reference to file. File is not\n   *   actually deleted.\n   *\n   * @see http:\/\/php.net\/manual\/streamwrapper.unlink.php\n   *\/",125],["T_WHITESPACE","\n  ",139],["T_PUBLIC","public",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","unlink",140],"(",["T_VARIABLE","$uri",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n    ",140],["T_STRING","trigger_error",141],"(",["T_CONSTANT_ENCAPSED_STRING","'unlink() not supported for read-only stream wrappers'",141],",",["T_WHITESPACE"," ",141],["T_STRING","E_USER_WARNING",141],")",";",["T_WHITESPACE","\n    ",141],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_STRING","TRUE",142],";",["T_WHITESPACE","\n  ",142],"}",["T_WHITESPACE","\n\n  ",143],["T_DOC_COMMENT","\/**\n   * Support for rename().\n   *\n   * The file will not be renamed as this is a read-only stream wrapper.\n   *\n   * @param string $from_uri,\n   *   The uri to the file to rename.\n   * @param string $to_uri\n   *   The new uri for file.\n   *\n   * @return bool\n   *   FALSE as file will never be renamed.\n   *\n   * @see http:\/\/php.net\/manual\/streamwrapper.rename.php\n   *\/",145],["T_WHITESPACE","\n  ",159],["T_PUBLIC","public",160],["T_WHITESPACE"," ",160],["T_FUNCTION","function",160],["T_WHITESPACE"," ",160],["T_STRING","rename",160],"(",["T_VARIABLE","$from_uri",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$to_uri",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n    ",160],["T_STRING","trigger_error",161],"(",["T_CONSTANT_ENCAPSED_STRING","'rename() not supported for read-only stream wrappers'",161],",",["T_WHITESPACE"," ",161],["T_STRING","E_USER_WARNING",161],")",";",["T_WHITESPACE","\n    ",161],["T_RETURN","return",162],["T_WHITESPACE"," ",162],["T_STRING","FALSE",162],";",["T_WHITESPACE","\n  ",162],"}",["T_WHITESPACE","\n\n  ",163],["T_DOC_COMMENT","\/**\n   * Support for mkdir().\n   *\n   * Directory will never be created as this is a read-only stream wrapper.\n   *\n   * @param string $uri\n   *   A string containing the URI to the directory to create.\n   * @param int $mode\n   *   Permission flags - see mkdir().\n   * @param int $options\n   *   A bit mask of STREAM_REPORT_ERRORS and STREAM_MKDIR_RECURSIVE.\n   *\n   * @return bool\n   *   FALSE as directory will never be created.\n   *\n   * @see http:\/\/php.net\/manual\/streamwrapper.mkdir.php\n   *\/",165],["T_WHITESPACE","\n  ",181],["T_PUBLIC","public",182],["T_WHITESPACE"," ",182],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","mkdir",182],"(",["T_VARIABLE","$uri",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$mode",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$options",182],")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n    ",182],["T_STRING","trigger_error",183],"(",["T_CONSTANT_ENCAPSED_STRING","'mkdir() not supported for read-only stream wrappers'",183],",",["T_WHITESPACE"," ",183],["T_STRING","E_USER_WARNING",183],")",";",["T_WHITESPACE","\n    ",183],["T_RETURN","return",184],["T_WHITESPACE"," ",184],["T_STRING","FALSE",184],";",["T_WHITESPACE","\n  ",184],"}",["T_WHITESPACE","\n\n  ",185],["T_DOC_COMMENT","\/**\n   * Support for rmdir().\n   *\n   * Directory will never be deleted as this is a read-only stream wrapper.\n   *\n   * @param string $uri\n   *   A string containing the URI to the directory to delete.\n   * @param int $options\n   *   A bit mask of STREAM_REPORT_ERRORS.\n   *\n   * @return bool\n   *   FALSE as directory will never be deleted.\n   *\n   * @see http:\/\/php.net\/manual\/streamwrapper.rmdir.php\n   *\/",187],["T_WHITESPACE","\n  ",201],["T_PUBLIC","public",202],["T_WHITESPACE"," ",202],["T_FUNCTION","function",202],["T_WHITESPACE"," ",202],["T_STRING","rmdir",202],"(",["T_VARIABLE","$uri",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$options",202],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n    ",202],["T_STRING","trigger_error",203],"(",["T_CONSTANT_ENCAPSED_STRING","'rmdir() not supported for read-only stream wrappers'",203],",",["T_WHITESPACE"," ",203],["T_STRING","E_USER_WARNING",203],")",";",["T_WHITESPACE","\n    ",203],["T_RETURN","return",204],["T_WHITESPACE"," ",204],["T_STRING","FALSE",204],";",["T_WHITESPACE","\n  ",204],"}",["T_WHITESPACE","\n\n",205],"}",["T_WHITESPACE","\n",207]]