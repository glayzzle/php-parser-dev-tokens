[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","StreamWrapper",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Defines a Drupal stream wrapper base class for local files.\n *\n * This class provides a complete stream wrapper implementation. URIs such as\n * \"public:\/\/example.txt\" are expanded to a normal filesystem path such as\n * \"sites\/default\/files\/example.txt\" and then PHP filesystem functions are\n * invoked.\n *\n * Drupal\\Core\\StreamWrapper\\LocalStream implementations need to implement at least the\n * getDirectoryPath() and getExternalUrl() methods.\n *\/",5],["T_WHITESPACE","\n",15],["T_ABSTRACT","abstract",16],["T_WHITESPACE"," ",16],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","LocalStream",16],["T_WHITESPACE"," ",16],["T_IMPLEMENTS","implements",16],["T_WHITESPACE"," ",16],["T_STRING","StreamWrapperInterface",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n  ",16],["T_DOC_COMMENT","\/**\n   * Stream context resource.\n   *\n   * @var resource\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$context",22],";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * A generic resource handle.\n   *\n   * @var resource\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$handle",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_STRING","NULL",29],";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * Instance URI (stream).\n   *\n   * A stream is referenced as \"scheme:\/\/target\".\n   *\n   * @var string\n   *\/",31],["T_WHITESPACE","\n  ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$uri",38],";",["T_WHITESPACE","\n\n  ",38],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",40],["T_WHITESPACE","\n  ",42],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_STATIC","static",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","getType",43],"(",")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n    ",43],["T_RETURN","return",44],["T_WHITESPACE"," ",44],["T_STRING","StreamWrapperInterface",44],["T_DOUBLE_COLON","::",44],["T_STRING","NORMAL",44],";",["T_WHITESPACE","\n  ",44],"}",["T_WHITESPACE","\n\n  ",45],["T_DOC_COMMENT","\/**\n   * Gets the path that the wrapper is responsible for.\n   *\n   * @todo Review this method name in D8 per https:\/\/www.drupal.org\/node\/701358.\n   *\n   * @return string\n   *   String specifying the path.\n   *\/",47],["T_WHITESPACE","\n  ",54],["T_ABSTRACT","abstract",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","getDirectoryPath",55],"(",")",";",["T_WHITESPACE","\n\n  ",55],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",57],["T_WHITESPACE","\n  ",59],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","setUri",60],"(",["T_VARIABLE","$uri",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","uri",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$uri",61],";",["T_WHITESPACE","\n  ",61],"}",["T_WHITESPACE","\n\n  ",62],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",64],["T_WHITESPACE","\n  ",66],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","getUri",67],"(",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n    ",67],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","uri",68],";",["T_WHITESPACE","\n  ",68],"}",["T_WHITESPACE","\n\n  ",69],["T_DOC_COMMENT","\/**\n   * Returns the local writable target of the resource within the stream.\n   *\n   * This function should be used in place of calls to realpath() or similar\n   * functions when attempting to determine the location of a file. While\n   * functions like realpath() may return the location of a read-only file, this\n   * method may return a URI or path suitable for writing that is completely\n   * separate from the URI used for reading.\n   *\n   * @param string $uri\n   *   Optional URI.\n   *\n   * @return string|bool\n   *   Returns a string representing a location suitable for writing of a file,\n   *   or FALSE if unable to write to the file such as with read-only streams.\n   *\/",71],["T_WHITESPACE","\n  ",86],["T_PROTECTED","protected",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","getTarget",87],"(",["T_VARIABLE","$uri",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","NULL",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n    ",87],["T_IF","if",88],["T_WHITESPACE"," ",88],"(","!",["T_ISSET","isset",88],"(",["T_VARIABLE","$uri",88],")",")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n      ",88],["T_VARIABLE","$uri",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","uri",89],";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_LIST","list",92],"(",",",["T_WHITESPACE"," ",92],["T_VARIABLE","$target",92],")",["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","explode",92],"(",["T_CONSTANT_ENCAPSED_STRING","':\/\/'",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$uri",92],",",["T_WHITESPACE"," ",92],["T_LNUMBER","2",92],")",";",["T_WHITESPACE","\n\n    ",92],["T_COMMENT","\/\/ Remove erroneous leading or trailing, forward-slashes and backslashes.\n",94],["T_WHITESPACE","    ",95],["T_RETURN","return",95],["T_WHITESPACE"," ",95],["T_STRING","trim",95],"(",["T_VARIABLE","$target",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'\\\/'",95],")",";",["T_WHITESPACE","\n  ",95],"}",["T_WHITESPACE","\n\n  ",96],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",98],["T_WHITESPACE","\n  ",100],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","realpath",101],"(",")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n    ",101],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getLocalPath",102],"(",")",";",["T_WHITESPACE","\n  ",102],"}",["T_WHITESPACE","\n\n  ",103],["T_DOC_COMMENT","\/**\n   * Returns the canonical absolute path of the URI, if possible.\n   *\n   * @param string $uri\n   *   (optional) The stream wrapper URI to be converted to a canonical\n   *   absolute path. This may point to a directory or another type of file.\n   *\n   * @return string|bool\n   *   If $uri is not set, returns the canonical absolute path of the URI\n   *   previously set by the\n   *   Drupal\\Core\\StreamWrapper\\StreamWrapperInterface::setUri() function.\n   *   If $uri is set and valid for this class, returns its canonical absolute\n   *   path, as determined by the realpath() function. If $uri is set but not\n   *   valid, returns FALSE.\n   *\/",105],["T_WHITESPACE","\n  ",119],["T_PROTECTED","protected",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","getLocalPath",120],"(",["T_VARIABLE","$uri",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","NULL",120],")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n    ",120],["T_IF","if",121],["T_WHITESPACE"," ",121],"(","!",["T_ISSET","isset",121],"(",["T_VARIABLE","$uri",121],")",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n      ",121],["T_VARIABLE","$uri",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","uri",122],";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$path",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getDirectoryPath",124],"(",")",["T_WHITESPACE"," ",124],".",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'\/'",124],["T_WHITESPACE"," ",124],".",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getTarget",124],"(",["T_VARIABLE","$uri",124],")",";",["T_WHITESPACE","\n\n    ",124],["T_COMMENT","\/\/ In PHPUnit tests, the base path for local streams may be a virtual\n",126],["T_WHITESPACE","    ",127],["T_COMMENT","\/\/ filesystem stream wrapper URI, in which case this local stream acts like\n",127],["T_WHITESPACE","    ",128],["T_COMMENT","\/\/ a proxy. realpath() is not supported by vfsStream, because a virtual\n",128],["T_WHITESPACE","    ",129],["T_COMMENT","\/\/ file system does not have a real filepath.\n",129],["T_WHITESPACE","    ",130],["T_IF","if",130],["T_WHITESPACE"," ",130],"(",["T_STRING","strpos",130],"(",["T_VARIABLE","$path",130],",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'vfs:\/\/'",130],")",["T_WHITESPACE"," ",130],["T_IS_IDENTICAL","===",130],["T_WHITESPACE"," ",130],["T_LNUMBER","0",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n      ",130],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$path",131],";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n\n    ",132],["T_VARIABLE","$realpath",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_STRING","realpath",134],"(",["T_VARIABLE","$path",134],")",";",["T_WHITESPACE","\n    ",134],["T_IF","if",135],["T_WHITESPACE"," ",135],"(","!",["T_VARIABLE","$realpath",135],")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n      ",135],["T_COMMENT","\/\/ This file does not yet exist.\n",136],["T_WHITESPACE","      ",137],["T_VARIABLE","$realpath",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_STRING","realpath",137],"(",["T_STRING","dirname",137],"(",["T_VARIABLE","$path",137],")",")",["T_WHITESPACE"," ",137],".",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'\/'",137],["T_WHITESPACE"," ",137],".",["T_WHITESPACE"," ",137],["T_STRING","drupal_basename",137],"(",["T_VARIABLE","$path",137],")",";",["T_WHITESPACE","\n    ",137],"}",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$directory",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","realpath",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getDirectoryPath",139],"(",")",")",";",["T_WHITESPACE","\n    ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(","!",["T_VARIABLE","$realpath",140],["T_WHITESPACE"," ",140],["T_BOOLEAN_OR","||",140],["T_WHITESPACE"," ",140],"!",["T_VARIABLE","$directory",140],["T_WHITESPACE"," ",140],["T_BOOLEAN_OR","||",140],["T_WHITESPACE"," ",140],["T_STRING","strpos",140],"(",["T_VARIABLE","$realpath",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$directory",140],")",["T_WHITESPACE"," ",140],["T_IS_NOT_IDENTICAL","!==",140],["T_WHITESPACE"," ",140],["T_LNUMBER","0",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n      ",140],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_STRING","FALSE",141],";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n    ",142],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$realpath",143],";",["T_WHITESPACE","\n  ",143],"}",["T_WHITESPACE","\n\n  ",144],["T_DOC_COMMENT","\/**\n   * Support for fopen(), file_get_contents(), file_put_contents() etc.\n   *\n   * @param string $uri\n   *   A string containing the URI to the file to open.\n   * @param int $mode\n   *   The file mode (\"r\", \"wb\" etc.).\n   * @param int $options\n   *   A bit mask of STREAM_USE_PATH and STREAM_REPORT_ERRORS.\n   * @param string $opened_path\n   *   A string containing the path actually opened.\n   *\n   * @return bool\n   *   Returns TRUE if file was opened successfully.\n   *\n   * @see http:\/\/php.net\/manual\/streamwrapper.stream-open.php\n   *\/",146],["T_WHITESPACE","\n  ",162],["T_PUBLIC","public",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","stream_open",163],"(",["T_VARIABLE","$uri",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$mode",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$options",163],",",["T_WHITESPACE"," ",163],"&",["T_VARIABLE","$opened_path",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n    ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","uri",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$uri",164],";",["T_WHITESPACE","\n    ",164],["T_VARIABLE","$path",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getLocalPath",165],"(",")",";",["T_WHITESPACE","\n    ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","handle",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$options",166],["T_WHITESPACE"," ",166],"&",["T_WHITESPACE"," ",166],["T_STRING","STREAM_REPORT_ERRORS",166],")",["T_WHITESPACE"," ",166],"?",["T_WHITESPACE"," ",166],["T_STRING","fopen",166],"(",["T_VARIABLE","$path",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$mode",166],")",["T_WHITESPACE"," ",166],":",["T_WHITESPACE"," ",166],"@",["T_STRING","fopen",166],"(",["T_VARIABLE","$path",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$mode",166],")",";",["T_WHITESPACE","\n\n    ",166],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_BOOL_CAST","(bool)",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","handle",168],["T_WHITESPACE"," ",168],["T_BOOLEAN_AND","&&",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$options",168],["T_WHITESPACE"," ",168],"&",["T_WHITESPACE"," ",168],["T_STRING","STREAM_USE_PATH",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n      ",168],["T_VARIABLE","$opened_path",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$path",169],";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n\n    ",170],["T_RETURN","return",172],["T_WHITESPACE"," ",172],["T_BOOL_CAST","(bool)",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","handle",172],";",["T_WHITESPACE","\n  ",172],"}",["T_WHITESPACE","\n\n  ",173],["T_DOC_COMMENT","\/**\n   * Support for flock().\n   *\n   * @param int $operation\n   *   One of the following:\n   *   - LOCK_SH to acquire a shared lock (reader).\n   *   - LOCK_EX to acquire an exclusive lock (writer).\n   *   - LOCK_UN to release a lock (shared or exclusive).\n   *   - LOCK_NB if you don't want flock() to block while locking (not\n   *     supported on Windows).\n   *\n   * @return bool\n   *   Always returns TRUE at the present time.\n   *\n   * @see http:\/\/php.net\/manual\/streamwrapper.stream-lock.php\n   *\/",175],["T_WHITESPACE","\n  ",190],["T_PUBLIC","public",191],["T_WHITESPACE"," ",191],["T_FUNCTION","function",191],["T_WHITESPACE"," ",191],["T_STRING","stream_lock",191],"(",["T_VARIABLE","$operation",191],")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n    ",191],["T_IF","if",192],["T_WHITESPACE"," ",192],"(",["T_STRING","in_array",192],"(",["T_VARIABLE","$operation",192],",",["T_WHITESPACE"," ",192],["T_ARRAY","array",192],"(",["T_STRING","LOCK_SH",192],",",["T_WHITESPACE"," ",192],["T_STRING","LOCK_EX",192],",",["T_WHITESPACE"," ",192],["T_STRING","LOCK_UN",192],",",["T_WHITESPACE"," ",192],["T_STRING","LOCK_NB",192],")",")",")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n      ",192],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_STRING","flock",193],"(",["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","handle",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$operation",193],")",";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n\n    ",194],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_STRING","TRUE",196],";",["T_WHITESPACE","\n  ",196],"}",["T_WHITESPACE","\n\n  ",197],["T_DOC_COMMENT","\/**\n   * Support for fread(), file_get_contents() etc.\n   *\n   * @param int $count\n   *   Maximum number of bytes to be read.\n   *\n   * @return string|bool\n   *   The string that was read, or FALSE in case of an error.\n   *\n   * @see http:\/\/php.net\/manual\/streamwrapper.stream-read.php\n   *\/",199],["T_WHITESPACE","\n  ",209],["T_PUBLIC","public",210],["T_WHITESPACE"," ",210],["T_FUNCTION","function",210],["T_WHITESPACE"," ",210],["T_STRING","stream_read",210],"(",["T_VARIABLE","$count",210],")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n    ",210],["T_RETURN","return",211],["T_WHITESPACE"," ",211],["T_STRING","fread",211],"(",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","handle",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$count",211],")",";",["T_WHITESPACE","\n  ",211],"}",["T_WHITESPACE","\n\n  ",212],["T_DOC_COMMENT","\/**\n   * Support for fwrite(), file_put_contents() etc.\n   *\n   * @param string $data\n   *   The string to be written.\n   *\n   * @return int\n   *   The number of bytes written.\n   *\n   * @see http:\/\/php.net\/manual\/streamwrapper.stream-write.php\n   *\/",214],["T_WHITESPACE","\n  ",224],["T_PUBLIC","public",225],["T_WHITESPACE"," ",225],["T_FUNCTION","function",225],["T_WHITESPACE"," ",225],["T_STRING","stream_write",225],"(",["T_VARIABLE","$data",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n    ",225],["T_RETURN","return",226],["T_WHITESPACE"," ",226],["T_STRING","fwrite",226],"(",["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","handle",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$data",226],")",";",["T_WHITESPACE","\n  ",226],"}",["T_WHITESPACE","\n\n  ",227],["T_DOC_COMMENT","\/**\n   * Support for feof().\n   *\n   * @return bool\n   *   TRUE if end-of-file has been reached.\n   *\n   * @see http:\/\/php.net\/manual\/streamwrapper.stream-eof.php\n   *\/",229],["T_WHITESPACE","\n  ",236],["T_PUBLIC","public",237],["T_WHITESPACE"," ",237],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","stream_eof",237],"(",")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n    ",237],["T_RETURN","return",238],["T_WHITESPACE"," ",238],["T_STRING","feof",238],"(",["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","handle",238],")",";",["T_WHITESPACE","\n  ",238],"}",["T_WHITESPACE","\n\n  ",239],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",241],["T_WHITESPACE","\n  ",243],["T_PUBLIC","public",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","stream_seek",244],"(",["T_VARIABLE","$offset",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$whence",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_STRING","SEEK_SET",244],")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n    ",244],["T_COMMENT","\/\/ fseek returns 0 on success and -1 on a failure.\n",245],["T_WHITESPACE","    ",246],["T_COMMENT","\/\/ stream_seek   1 on success and  0 on a failure.\n",246],["T_WHITESPACE","    ",247],["T_RETURN","return",247],["T_WHITESPACE"," ",247],"!",["T_STRING","fseek",247],"(",["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","handle",247],",",["T_WHITESPACE"," ",247],["T_VARIABLE","$offset",247],",",["T_WHITESPACE"," ",247],["T_VARIABLE","$whence",247],")",";",["T_WHITESPACE","\n  ",247],"}",["T_WHITESPACE","\n\n  ",248],["T_DOC_COMMENT","\/**\n   * Support for fflush().\n   *\n   * @return bool\n   *   TRUE if data was successfully stored (or there was no data to store).\n   *\n   * @see http:\/\/php.net\/manual\/streamwrapper.stream-flush.php\n   *\/",250],["T_WHITESPACE","\n  ",257],["T_PUBLIC","public",258],["T_WHITESPACE"," ",258],["T_FUNCTION","function",258],["T_WHITESPACE"," ",258],["T_STRING","stream_flush",258],"(",")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n    ",258],["T_RETURN","return",259],["T_WHITESPACE"," ",259],["T_STRING","fflush",259],"(",["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","handle",259],")",";",["T_WHITESPACE","\n  ",259],"}",["T_WHITESPACE","\n\n  ",260],["T_DOC_COMMENT","\/**\n   * Support for ftell().\n   *\n   * @return bool\n   *   The current offset in bytes from the beginning of file.\n   *\n   * @see http:\/\/php.net\/manual\/streamwrapper.stream-tell.php\n   *\/",262],["T_WHITESPACE","\n  ",269],["T_PUBLIC","public",270],["T_WHITESPACE"," ",270],["T_FUNCTION","function",270],["T_WHITESPACE"," ",270],["T_STRING","stream_tell",270],"(",")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n    ",270],["T_RETURN","return",271],["T_WHITESPACE"," ",271],["T_STRING","ftell",271],"(",["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","handle",271],")",";",["T_WHITESPACE","\n  ",271],"}",["T_WHITESPACE","\n\n  ",272],["T_DOC_COMMENT","\/**\n   * Support for fstat().\n   *\n   * @return bool\n   *   An array with file status, or FALSE in case of an error - see fstat()\n   *   for a description of this array.\n   *\n   * @see http:\/\/php.net\/manual\/streamwrapper.stream-stat.php\n   *\/",274],["T_WHITESPACE","\n  ",282],["T_PUBLIC","public",283],["T_WHITESPACE"," ",283],["T_FUNCTION","function",283],["T_WHITESPACE"," ",283],["T_STRING","stream_stat",283],"(",")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n    ",283],["T_RETURN","return",284],["T_WHITESPACE"," ",284],["T_STRING","fstat",284],"(",["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","handle",284],")",";",["T_WHITESPACE","\n  ",284],"}",["T_WHITESPACE","\n\n  ",285],["T_DOC_COMMENT","\/**\n   * Support for fclose().\n   *\n   * @return bool\n   *   TRUE if stream was successfully closed.\n   *\n   * @see http:\/\/php.net\/manual\/streamwrapper.stream-close.php\n   *\/",287],["T_WHITESPACE","\n  ",294],["T_PUBLIC","public",295],["T_WHITESPACE"," ",295],["T_FUNCTION","function",295],["T_WHITESPACE"," ",295],["T_STRING","stream_close",295],"(",")",["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n    ",295],["T_RETURN","return",296],["T_WHITESPACE"," ",296],["T_STRING","fclose",296],"(",["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","handle",296],")",";",["T_WHITESPACE","\n  ",296],"}",["T_WHITESPACE","\n\n  ",297],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",299],["T_WHITESPACE","\n  ",301],["T_PUBLIC","public",302],["T_WHITESPACE"," ",302],["T_FUNCTION","function",302],["T_WHITESPACE"," ",302],["T_STRING","stream_cast",302],"(",["T_VARIABLE","$cast_as",302],")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n    ",302],["T_RETURN","return",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","handle",303],["T_WHITESPACE"," ",303],"?",["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","handle",303],["T_WHITESPACE"," ",303],":",["T_WHITESPACE"," ",303],["T_STRING","FALSE",303],";",["T_WHITESPACE","\n  ",303],"}",["T_WHITESPACE","\n\n  ",304],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",306],["T_WHITESPACE","\n  ",308],["T_PUBLIC","public",309],["T_WHITESPACE"," ",309],["T_FUNCTION","function",309],["T_WHITESPACE"," ",309],["T_STRING","stream_metadata",309],"(",["T_VARIABLE","$uri",309],",",["T_WHITESPACE"," ",309],["T_VARIABLE","$option",309],",",["T_WHITESPACE"," ",309],["T_VARIABLE","$value",309],")",["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n    ",309],["T_VARIABLE","$target",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","getLocalPath",310],"(",["T_VARIABLE","$uri",310],")",";",["T_WHITESPACE","\n    ",310],["T_VARIABLE","$return",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_STRING","FALSE",311],";",["T_WHITESPACE","\n    ",311],["T_SWITCH","switch",312],["T_WHITESPACE"," ",312],"(",["T_VARIABLE","$option",312],")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n      ",312],["T_CASE","case",313],["T_WHITESPACE"," ",313],["T_STRING","STREAM_META_TOUCH",313],":",["T_WHITESPACE","\n        ",313],["T_IF","if",314],["T_WHITESPACE"," ",314],"(","!",["T_EMPTY","empty",314],"(",["T_VARIABLE","$value",314],")",")",["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n          ",314],["T_VARIABLE","$return",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_STRING","touch",315],"(",["T_VARIABLE","$target",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$value",315],"[",["T_LNUMBER","0",315],"]",",",["T_WHITESPACE"," ",315],["T_VARIABLE","$value",315],"[",["T_LNUMBER","1",315],"]",")",";",["T_WHITESPACE","\n        ",315],"}",["T_WHITESPACE","\n        ",316],["T_ELSE","else",317],["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n          ",317],["T_VARIABLE","$return",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_STRING","touch",318],"(",["T_VARIABLE","$target",318],")",";",["T_WHITESPACE","\n        ",318],"}",["T_WHITESPACE","\n        ",319],["T_BREAK","break",320],";",["T_WHITESPACE","\n\n      ",320],["T_CASE","case",322],["T_WHITESPACE"," ",322],["T_STRING","STREAM_META_OWNER_NAME",322],":",["T_WHITESPACE","\n      ",322],["T_CASE","case",323],["T_WHITESPACE"," ",323],["T_STRING","STREAM_META_OWNER",323],":",["T_WHITESPACE","\n        ",323],["T_VARIABLE","$return",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_STRING","chown",324],"(",["T_VARIABLE","$target",324],",",["T_WHITESPACE"," ",324],["T_VARIABLE","$value",324],")",";",["T_WHITESPACE","\n        ",324],["T_BREAK","break",325],";",["T_WHITESPACE","\n\n      ",325],["T_CASE","case",327],["T_WHITESPACE"," ",327],["T_STRING","STREAM_META_GROUP_NAME",327],":",["T_WHITESPACE","\n      ",327],["T_CASE","case",328],["T_WHITESPACE"," ",328],["T_STRING","STREAM_META_GROUP",328],":",["T_WHITESPACE","\n        ",328],["T_VARIABLE","$return",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_STRING","chgrp",329],"(",["T_VARIABLE","$target",329],",",["T_WHITESPACE"," ",329],["T_VARIABLE","$value",329],")",";",["T_WHITESPACE","\n        ",329],["T_BREAK","break",330],";",["T_WHITESPACE","\n\n      ",330],["T_CASE","case",332],["T_WHITESPACE"," ",332],["T_STRING","STREAM_META_ACCESS",332],":",["T_WHITESPACE","\n        ",332],["T_VARIABLE","$return",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_STRING","chmod",333],"(",["T_VARIABLE","$target",333],",",["T_WHITESPACE"," ",333],["T_VARIABLE","$value",333],")",";",["T_WHITESPACE","\n        ",333],["T_BREAK","break",334],";",["T_WHITESPACE","\n    ",334],"}",["T_WHITESPACE","\n    ",335],["T_IF","if",336],["T_WHITESPACE"," ",336],"(",["T_VARIABLE","$return",336],")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n      ",336],["T_COMMENT","\/\/ For convenience clear the file status cache of the underlying file,\n",337],["T_WHITESPACE","      ",338],["T_COMMENT","\/\/ since metadata operations are often followed by file status checks.\n",338],["T_WHITESPACE","      ",339],["T_STRING","clearstatcache",339],"(",["T_STRING","TRUE",339],",",["T_WHITESPACE"," ",339],["T_VARIABLE","$target",339],")",";",["T_WHITESPACE","\n    ",339],"}",["T_WHITESPACE","\n    ",340],["T_RETURN","return",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$return",341],";",["T_WHITESPACE","\n  ",341],"}",["T_WHITESPACE","\n\n  ",342],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\n   * Since Windows systems do not allow it and it is not needed for most use\n   * cases anyway, this method is not supported on local files and will trigger\n   * an error and return false. If needed, custom subclasses can provide\n   * OS-specific implementations for advanced use cases.\n   *\/",344],["T_WHITESPACE","\n  ",351],["T_PUBLIC","public",352],["T_WHITESPACE"," ",352],["T_FUNCTION","function",352],["T_WHITESPACE"," ",352],["T_STRING","stream_set_option",352],"(",["T_VARIABLE","$option",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$arg1",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$arg2",352],")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n    ",352],["T_STRING","trigger_error",353],"(",["T_CONSTANT_ENCAPSED_STRING","'stream_set_option() not supported for local file based stream wrappers'",353],",",["T_WHITESPACE"," ",353],["T_STRING","E_USER_WARNING",353],")",";",["T_WHITESPACE","\n    ",353],["T_RETURN","return",354],["T_WHITESPACE"," ",354],["T_STRING","FALSE",354],";",["T_WHITESPACE","\n  ",354],"}",["T_WHITESPACE","\n\n  ",355],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",357],["T_WHITESPACE","\n  ",359],["T_PUBLIC","public",360],["T_WHITESPACE"," ",360],["T_FUNCTION","function",360],["T_WHITESPACE"," ",360],["T_STRING","stream_truncate",360],"(",["T_VARIABLE","$new_size",360],")",["T_WHITESPACE"," ",360],"{",["T_WHITESPACE","\n    ",360],["T_RETURN","return",361],["T_WHITESPACE"," ",361],["T_STRING","ftruncate",361],"(",["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","handle",361],",",["T_WHITESPACE"," ",361],["T_VARIABLE","$new_size",361],")",";",["T_WHITESPACE","\n  ",361],"}",["T_WHITESPACE","\n\n  ",362],["T_DOC_COMMENT","\/**\n   * Support for unlink().\n   *\n   * @param string $uri\n   *   A string containing the URI to the resource to delete.\n   *\n   * @return bool\n   *   TRUE if resource was successfully deleted.\n   *\n   * @see http:\/\/php.net\/manual\/streamwrapper.unlink.php\n   *\/",364],["T_WHITESPACE","\n  ",374],["T_PUBLIC","public",375],["T_WHITESPACE"," ",375],["T_FUNCTION","function",375],["T_WHITESPACE"," ",375],["T_STRING","unlink",375],"(",["T_VARIABLE","$uri",375],")",["T_WHITESPACE"," ",375],"{",["T_WHITESPACE","\n    ",375],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","uri",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_VARIABLE","$uri",376],";",["T_WHITESPACE","\n    ",376],["T_RETURN","return",377],["T_WHITESPACE"," ",377],["T_STRING","drupal_unlink",377],"(",["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","getLocalPath",377],"(",")",")",";",["T_WHITESPACE","\n  ",377],"}",["T_WHITESPACE","\n\n  ",378],["T_DOC_COMMENT","\/**\n   * Support for rename().\n   *\n   * @param string $from_uri,\n   *   The URI to the file to rename.\n   * @param string $to_uri\n   *   The new URI for file.\n   *\n   * @return bool\n   *   TRUE if file was successfully renamed.\n   *\n   * @see http:\/\/php.net\/manual\/streamwrapper.rename.php\n   *\/",380],["T_WHITESPACE","\n  ",392],["T_PUBLIC","public",393],["T_WHITESPACE"," ",393],["T_FUNCTION","function",393],["T_WHITESPACE"," ",393],["T_STRING","rename",393],"(",["T_VARIABLE","$from_uri",393],",",["T_WHITESPACE"," ",393],["T_VARIABLE","$to_uri",393],")",["T_WHITESPACE"," ",393],"{",["T_WHITESPACE","\n    ",393],["T_RETURN","return",394],["T_WHITESPACE"," ",394],["T_STRING","rename",394],"(",["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","getLocalPath",394],"(",["T_VARIABLE","$from_uri",394],")",",",["T_WHITESPACE"," ",394],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","getLocalPath",394],"(",["T_VARIABLE","$to_uri",394],")",")",";",["T_WHITESPACE","\n  ",394],"}",["T_WHITESPACE","\n\n  ",395],["T_DOC_COMMENT","\/**\n   * Gets the name of the directory from a given path.\n   *\n   * This method is usually accessed through drupal_dirname(), which wraps\n   * around the PHP dirname() function because it does not support stream\n   * wrappers.\n   *\n   * @param string $uri\n   *   A URI or path.\n   *\n   * @return string\n   *   A string containing the directory name.\n   *\n   * @see drupal_dirname()\n   *\/",397],["T_WHITESPACE","\n  ",411],["T_PUBLIC","public",412],["T_WHITESPACE"," ",412],["T_FUNCTION","function",412],["T_WHITESPACE"," ",412],["T_STRING","dirname",412],"(",["T_VARIABLE","$uri",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_STRING","NULL",412],")",["T_WHITESPACE"," ",412],"{",["T_WHITESPACE","\n    ",412],["T_LIST","list",413],"(",["T_VARIABLE","$scheme",413],")",["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_STRING","explode",413],"(",["T_CONSTANT_ENCAPSED_STRING","':\/\/'",413],",",["T_WHITESPACE"," ",413],["T_VARIABLE","$uri",413],",",["T_WHITESPACE"," ",413],["T_LNUMBER","2",413],")",";",["T_WHITESPACE","\n    ",413],["T_VARIABLE","$target",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","getTarget",414],"(",["T_VARIABLE","$uri",414],")",";",["T_WHITESPACE","\n    ",414],["T_VARIABLE","$dirname",415],["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_STRING","dirname",415],"(",["T_VARIABLE","$target",415],")",";",["T_WHITESPACE","\n\n    ",415],["T_IF","if",417],["T_WHITESPACE"," ",417],"(",["T_VARIABLE","$dirname",417],["T_WHITESPACE"," ",417],["T_IS_EQUAL","==",417],["T_WHITESPACE"," ",417],["T_CONSTANT_ENCAPSED_STRING","'.'",417],")",["T_WHITESPACE"," ",417],"{",["T_WHITESPACE","\n      ",417],["T_VARIABLE","$dirname",418],["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","''",418],";",["T_WHITESPACE","\n    ",418],"}",["T_WHITESPACE","\n\n    ",419],["T_RETURN","return",421],["T_WHITESPACE"," ",421],["T_VARIABLE","$scheme",421],["T_WHITESPACE"," ",421],".",["T_WHITESPACE"," ",421],["T_CONSTANT_ENCAPSED_STRING","':\/\/'",421],["T_WHITESPACE"," ",421],".",["T_WHITESPACE"," ",421],["T_VARIABLE","$dirname",421],";",["T_WHITESPACE","\n  ",421],"}",["T_WHITESPACE","\n\n  ",422],["T_DOC_COMMENT","\/**\n   * Support for mkdir().\n   *\n   * @param string $uri\n   *   A string containing the URI to the directory to create.\n   * @param int $mode\n   *   Permission flags - see mkdir().\n   * @param int $options\n   *   A bit mask of STREAM_REPORT_ERRORS and STREAM_MKDIR_RECURSIVE.\n   *\n   * @return bool\n   *   TRUE if directory was successfully created.\n   *\n   * @see http:\/\/php.net\/manual\/streamwrapper.mkdir.php\n   *\/",424],["T_WHITESPACE","\n  ",438],["T_PUBLIC","public",439],["T_WHITESPACE"," ",439],["T_FUNCTION","function",439],["T_WHITESPACE"," ",439],["T_STRING","mkdir",439],"(",["T_VARIABLE","$uri",439],",",["T_WHITESPACE"," ",439],["T_VARIABLE","$mode",439],",",["T_WHITESPACE"," ",439],["T_VARIABLE","$options",439],")",["T_WHITESPACE"," ",439],"{",["T_WHITESPACE","\n    ",439],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","uri",440],["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_VARIABLE","$uri",440],";",["T_WHITESPACE","\n    ",440],["T_VARIABLE","$recursive",441],["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],["T_BOOL_CAST","(bool)",441],["T_WHITESPACE"," ",441],"(",["T_VARIABLE","$options",441],["T_WHITESPACE"," ",441],"&",["T_WHITESPACE"," ",441],["T_STRING","STREAM_MKDIR_RECURSIVE",441],")",";",["T_WHITESPACE","\n    ",441],["T_IF","if",442],["T_WHITESPACE"," ",442],"(",["T_VARIABLE","$recursive",442],")",["T_WHITESPACE"," ",442],"{",["T_WHITESPACE","\n      ",442],["T_COMMENT","\/\/ $this->getLocalPath() fails if $uri has multiple levels of directories\n",443],["T_WHITESPACE","      ",444],["T_COMMENT","\/\/ that do not yet exist.\n",444],["T_WHITESPACE","      ",445],["T_VARIABLE","$localpath",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","getDirectoryPath",445],"(",")",["T_WHITESPACE"," ",445],".",["T_WHITESPACE"," ",445],["T_CONSTANT_ENCAPSED_STRING","'\/'",445],["T_WHITESPACE"," ",445],".",["T_WHITESPACE"," ",445],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","getTarget",445],"(",["T_VARIABLE","$uri",445],")",";",["T_WHITESPACE","\n    ",445],"}",["T_WHITESPACE","\n    ",446],["T_ELSE","else",447],["T_WHITESPACE"," ",447],"{",["T_WHITESPACE","\n      ",447],["T_VARIABLE","$localpath",448],["T_WHITESPACE"," ",448],"=",["T_WHITESPACE"," ",448],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","getLocalPath",448],"(",["T_VARIABLE","$uri",448],")",";",["T_WHITESPACE","\n    ",448],"}",["T_WHITESPACE","\n    ",449],["T_IF","if",450],["T_WHITESPACE"," ",450],"(",["T_VARIABLE","$options",450],["T_WHITESPACE"," ",450],"&",["T_WHITESPACE"," ",450],["T_STRING","STREAM_REPORT_ERRORS",450],")",["T_WHITESPACE"," ",450],"{",["T_WHITESPACE","\n      ",450],["T_RETURN","return",451],["T_WHITESPACE"," ",451],["T_STRING","drupal_mkdir",451],"(",["T_VARIABLE","$localpath",451],",",["T_WHITESPACE"," ",451],["T_VARIABLE","$mode",451],",",["T_WHITESPACE"," ",451],["T_VARIABLE","$recursive",451],")",";",["T_WHITESPACE","\n    ",451],"}",["T_WHITESPACE","\n    ",452],["T_ELSE","else",453],["T_WHITESPACE"," ",453],"{",["T_WHITESPACE","\n      ",453],["T_RETURN","return",454],["T_WHITESPACE"," ",454],"@",["T_STRING","drupal_mkdir",454],"(",["T_VARIABLE","$localpath",454],",",["T_WHITESPACE"," ",454],["T_VARIABLE","$mode",454],",",["T_WHITESPACE"," ",454],["T_VARIABLE","$recursive",454],")",";",["T_WHITESPACE","\n    ",454],"}",["T_WHITESPACE","\n  ",455],"}",["T_WHITESPACE","\n\n  ",456],["T_DOC_COMMENT","\/**\n   * Support for rmdir().\n   *\n   * @param string $uri\n   *   A string containing the URI to the directory to delete.\n   * @param int $options\n   *   A bit mask of STREAM_REPORT_ERRORS.\n   *\n   * @return bool\n   *   TRUE if directory was successfully removed.\n   *\n   * @see http:\/\/php.net\/manual\/streamwrapper.rmdir.php\n   *\/",458],["T_WHITESPACE","\n  ",470],["T_PUBLIC","public",471],["T_WHITESPACE"," ",471],["T_FUNCTION","function",471],["T_WHITESPACE"," ",471],["T_STRING","rmdir",471],"(",["T_VARIABLE","$uri",471],",",["T_WHITESPACE"," ",471],["T_VARIABLE","$options",471],")",["T_WHITESPACE"," ",471],"{",["T_WHITESPACE","\n    ",471],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","uri",472],["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_VARIABLE","$uri",472],";",["T_WHITESPACE","\n    ",472],["T_IF","if",473],["T_WHITESPACE"," ",473],"(",["T_VARIABLE","$options",473],["T_WHITESPACE"," ",473],"&",["T_WHITESPACE"," ",473],["T_STRING","STREAM_REPORT_ERRORS",473],")",["T_WHITESPACE"," ",473],"{",["T_WHITESPACE","\n      ",473],["T_RETURN","return",474],["T_WHITESPACE"," ",474],["T_STRING","drupal_rmdir",474],"(",["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","getLocalPath",474],"(",")",")",";",["T_WHITESPACE","\n    ",474],"}",["T_WHITESPACE","\n    ",475],["T_ELSE","else",476],["T_WHITESPACE"," ",476],"{",["T_WHITESPACE","\n      ",476],["T_RETURN","return",477],["T_WHITESPACE"," ",477],"@",["T_STRING","drupal_rmdir",477],"(",["T_VARIABLE","$this",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","getLocalPath",477],"(",")",")",";",["T_WHITESPACE","\n    ",477],"}",["T_WHITESPACE","\n  ",478],"}",["T_WHITESPACE","\n\n  ",479],["T_DOC_COMMENT","\/**\n   * Support for stat().\n   *\n   * @param string $uri\n   *   A string containing the URI to get information about.\n   * @param int $flags\n   *   A bit mask of STREAM_URL_STAT_LINK and STREAM_URL_STAT_QUIET.\n   *\n   * @return array\n   *   An array with file status, or FALSE in case of an error - see fstat()\n   *   for a description of this array.\n   *\n   * @see http:\/\/php.net\/manual\/streamwrapper.url-stat.php\n   *\/",481],["T_WHITESPACE","\n  ",494],["T_PUBLIC","public",495],["T_WHITESPACE"," ",495],["T_FUNCTION","function",495],["T_WHITESPACE"," ",495],["T_STRING","url_stat",495],"(",["T_VARIABLE","$uri",495],",",["T_WHITESPACE"," ",495],["T_VARIABLE","$flags",495],")",["T_WHITESPACE"," ",495],"{",["T_WHITESPACE","\n    ",495],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","uri",496],["T_WHITESPACE"," ",496],"=",["T_WHITESPACE"," ",496],["T_VARIABLE","$uri",496],";",["T_WHITESPACE","\n    ",496],["T_VARIABLE","$path",497],["T_WHITESPACE"," ",497],"=",["T_WHITESPACE"," ",497],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","getLocalPath",497],"(",")",";",["T_WHITESPACE","\n    ",497],["T_COMMENT","\/\/ Suppress warnings if requested or if the file or directory does not\n",498],["T_WHITESPACE","    ",499],["T_COMMENT","\/\/ exist. This is consistent with PHP's plain filesystem stream wrapper.\n",499],["T_WHITESPACE","    ",500],["T_IF","if",500],["T_WHITESPACE"," ",500],"(",["T_VARIABLE","$flags",500],["T_WHITESPACE"," ",500],"&",["T_WHITESPACE"," ",500],["T_STRING","STREAM_URL_STAT_QUIET",500],["T_WHITESPACE"," ",500],["T_BOOLEAN_OR","||",500],["T_WHITESPACE"," ",500],"!",["T_STRING","file_exists",500],"(",["T_VARIABLE","$path",500],")",")",["T_WHITESPACE"," ",500],"{",["T_WHITESPACE","\n      ",500],["T_RETURN","return",501],["T_WHITESPACE"," ",501],"@",["T_STRING","stat",501],"(",["T_VARIABLE","$path",501],")",";",["T_WHITESPACE","\n    ",501],"}",["T_WHITESPACE","\n    ",502],["T_ELSE","else",503],["T_WHITESPACE"," ",503],"{",["T_WHITESPACE","\n      ",503],["T_RETURN","return",504],["T_WHITESPACE"," ",504],["T_STRING","stat",504],"(",["T_VARIABLE","$path",504],")",";",["T_WHITESPACE","\n    ",504],"}",["T_WHITESPACE","\n  ",505],"}",["T_WHITESPACE","\n\n  ",506],["T_DOC_COMMENT","\/**\n   * Support for opendir().\n   *\n   * @param string $uri\n   *   A string containing the URI to the directory to open.\n   * @param int $options\n   *   Unknown (parameter is not documented in PHP Manual).\n   *\n   * @return bool\n   *   TRUE on success.\n   *\n   * @see http:\/\/php.net\/manual\/streamwrapper.dir-opendir.php\n   *\/",508],["T_WHITESPACE","\n  ",520],["T_PUBLIC","public",521],["T_WHITESPACE"," ",521],["T_FUNCTION","function",521],["T_WHITESPACE"," ",521],["T_STRING","dir_opendir",521],"(",["T_VARIABLE","$uri",521],",",["T_WHITESPACE"," ",521],["T_VARIABLE","$options",521],")",["T_WHITESPACE"," ",521],"{",["T_WHITESPACE","\n    ",521],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","uri",522],["T_WHITESPACE"," ",522],"=",["T_WHITESPACE"," ",522],["T_VARIABLE","$uri",522],";",["T_WHITESPACE","\n    ",522],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","handle",523],["T_WHITESPACE"," ",523],"=",["T_WHITESPACE"," ",523],["T_STRING","opendir",523],"(",["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","getLocalPath",523],"(",")",")",";",["T_WHITESPACE","\n\n    ",523],["T_RETURN","return",525],["T_WHITESPACE"," ",525],["T_BOOL_CAST","(bool)",525],["T_WHITESPACE"," ",525],["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","handle",525],";",["T_WHITESPACE","\n  ",525],"}",["T_WHITESPACE","\n\n  ",526],["T_DOC_COMMENT","\/**\n   * Support for readdir().\n   *\n   * @return string\n   *   The next filename, or FALSE if there are no more files in the directory.\n   *\n   * @see http:\/\/php.net\/manual\/streamwrapper.dir-readdir.php\n   *\/",528],["T_WHITESPACE","\n  ",535],["T_PUBLIC","public",536],["T_WHITESPACE"," ",536],["T_FUNCTION","function",536],["T_WHITESPACE"," ",536],["T_STRING","dir_readdir",536],"(",")",["T_WHITESPACE"," ",536],"{",["T_WHITESPACE","\n    ",536],["T_RETURN","return",537],["T_WHITESPACE"," ",537],["T_STRING","readdir",537],"(",["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","handle",537],")",";",["T_WHITESPACE","\n  ",537],"}",["T_WHITESPACE","\n\n  ",538],["T_DOC_COMMENT","\/**\n   * Support for rewinddir().\n   *\n   * @return bool\n   *   TRUE on success.\n   *\n   * @see http:\/\/php.net\/manual\/streamwrapper.dir-rewinddir.php\n   *\/",540],["T_WHITESPACE","\n  ",547],["T_PUBLIC","public",548],["T_WHITESPACE"," ",548],["T_FUNCTION","function",548],["T_WHITESPACE"," ",548],["T_STRING","dir_rewinddir",548],"(",")",["T_WHITESPACE"," ",548],"{",["T_WHITESPACE","\n    ",548],["T_STRING","rewinddir",549],"(",["T_VARIABLE","$this",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","handle",549],")",";",["T_WHITESPACE","\n    ",549],["T_COMMENT","\/\/ We do not really have a way to signal a failure as rewinddir() does not\n",550],["T_WHITESPACE","    ",551],["T_COMMENT","\/\/ have a return value and there is no way to read a directory handler\n",551],["T_WHITESPACE","    ",552],["T_COMMENT","\/\/ without advancing to the next file.\n",552],["T_WHITESPACE","    ",553],["T_RETURN","return",553],["T_WHITESPACE"," ",553],["T_STRING","TRUE",553],";",["T_WHITESPACE","\n  ",553],"}",["T_WHITESPACE","\n\n  ",554],["T_DOC_COMMENT","\/**\n   * Support for closedir().\n   *\n   * @return bool\n   *   TRUE on success.\n   *\n   * @see http:\/\/php.net\/manual\/streamwrapper.dir-closedir.php\n   *\/",556],["T_WHITESPACE","\n  ",563],["T_PUBLIC","public",564],["T_WHITESPACE"," ",564],["T_FUNCTION","function",564],["T_WHITESPACE"," ",564],["T_STRING","dir_closedir",564],"(",")",["T_WHITESPACE"," ",564],"{",["T_WHITESPACE","\n    ",564],["T_STRING","closedir",565],"(",["T_VARIABLE","$this",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","handle",565],")",";",["T_WHITESPACE","\n    ",565],["T_COMMENT","\/\/ We do not really have a way to signal a failure as closedir() does not\n",566],["T_WHITESPACE","    ",567],["T_COMMENT","\/\/ have a return value.\n",567],["T_WHITESPACE","    ",568],["T_RETURN","return",568],["T_WHITESPACE"," ",568],["T_STRING","TRUE",568],";",["T_WHITESPACE","\n  ",568],"}",["T_WHITESPACE","\n\n",569],"}",["T_WHITESPACE","\n",571]]