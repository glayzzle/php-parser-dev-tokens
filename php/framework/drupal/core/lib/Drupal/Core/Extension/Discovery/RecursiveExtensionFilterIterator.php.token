[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Extension",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Discovery",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Filters a RecursiveDirectoryIterator to discover extensions.\n *\n * To ensure the best possible performance for extension discovery, this\n * filter implementation hard-codes a range of assumptions about directories\n * in which Drupal extensions may appear and in which not. Every unnecessary\n * subdirectory tree recursion is avoided.\n *\n * The list of globally ignored directory names is defined in the\n * RecursiveExtensionFilterIterator::$blacklist property.\n *\n * In addition, all 'config' directories are skipped, unless the directory path\n * ends with 'modules\/config', so as to still find the config module provided by\n * Drupal core and still allow that module to be overridden with a custom config\n * module.\n *\n * Lastly, ExtensionDiscovery instructs this filter to additionally skip all\n * 'tests' directories at regular runtime, since just with Drupal core only, the\n * discovery process yields 4x more extensions when tests are not ignored.\n *\n * @see ExtensionDiscovery::scan()\n * @see ExtensionDiscovery::scanDirectory()\n *\n * @todo Use RecursiveCallbackFilterIterator instead of the $acceptTests\n *   parameter forwarding once PHP 5.4 is available.\n *\/",5],["T_WHITESPACE","\n",30],["T_CLASS","class",31],["T_WHITESPACE"," ",31],["T_STRING","RecursiveExtensionFilterIterator",31],["T_WHITESPACE"," ",31],["T_EXTENDS","extends",31],["T_WHITESPACE"," ",31],["T_NS_SEPARATOR","\\",31],["T_STRING","RecursiveFilterIterator",31],["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n\n  ",31],["T_DOC_COMMENT","\/**\n   * List of base extension type directory names to scan.\n   *\n   * Only these directory names are considered when starting a filesystem\n   * recursion in a search path.\n   *\n   * @var array\n   *\/",33],["T_WHITESPACE","\n  ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$whitelist",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_ARRAY","array",41],"(",["T_WHITESPACE","\n    ",41],["T_CONSTANT_ENCAPSED_STRING","'profiles'",42],",",["T_WHITESPACE","\n    ",42],["T_CONSTANT_ENCAPSED_STRING","'modules'",43],",",["T_WHITESPACE","\n    ",43],["T_CONSTANT_ENCAPSED_STRING","'themes'",44],",",["T_WHITESPACE","\n  ",44],")",";",["T_WHITESPACE","\n\n  ",45],["T_DOC_COMMENT","\/**\n   * List of directory names to skip when recursing.\n   *\n   * These directories are globally ignored in the recursive filesystem scan;\n   * i.e., extensions (of all types) are not able to use any of these names,\n   * because their directory names will be skipped.\n   *\n   * @var array\n   *\/",47],["T_WHITESPACE","\n  ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$blacklist",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",["T_WHITESPACE","\n    ",56],["T_COMMENT","\/\/ Object-oriented code subdirectories.\n",57],["T_WHITESPACE","    ",58],["T_CONSTANT_ENCAPSED_STRING","'src'",58],",",["T_WHITESPACE","\n    ",58],["T_CONSTANT_ENCAPSED_STRING","'lib'",59],",",["T_WHITESPACE","\n    ",59],["T_CONSTANT_ENCAPSED_STRING","'vendor'",60],",",["T_WHITESPACE","\n    ",60],["T_COMMENT","\/\/ Front-end.\n",61],["T_WHITESPACE","    ",62],["T_CONSTANT_ENCAPSED_STRING","'assets'",62],",",["T_WHITESPACE","\n    ",62],["T_CONSTANT_ENCAPSED_STRING","'css'",63],",",["T_WHITESPACE","\n    ",63],["T_CONSTANT_ENCAPSED_STRING","'files'",64],",",["T_WHITESPACE","\n    ",64],["T_CONSTANT_ENCAPSED_STRING","'images'",65],",",["T_WHITESPACE","\n    ",65],["T_CONSTANT_ENCAPSED_STRING","'js'",66],",",["T_WHITESPACE","\n    ",66],["T_CONSTANT_ENCAPSED_STRING","'misc'",67],",",["T_WHITESPACE","\n    ",67],["T_CONSTANT_ENCAPSED_STRING","'templates'",68],",",["T_WHITESPACE","\n    ",68],["T_COMMENT","\/\/ Legacy subdirectories.\n",69],["T_WHITESPACE","    ",70],["T_CONSTANT_ENCAPSED_STRING","'includes'",70],",",["T_WHITESPACE","\n    ",70],["T_COMMENT","\/\/ Test subdirectories.\n",71],["T_WHITESPACE","    ",72],["T_CONSTANT_ENCAPSED_STRING","'fixtures'",72],",",["T_WHITESPACE","\n    ",72],["T_COMMENT","\/\/ @todo .\/tests\/Drupal should be .\/tests\/src\/Drupal\n",73],["T_WHITESPACE","    ",74],["T_CONSTANT_ENCAPSED_STRING","'Drupal'",74],",",["T_WHITESPACE","\n  ",74],")",";",["T_WHITESPACE","\n\n  ",75],["T_DOC_COMMENT","\/**\n   * Whether to include test directories when recursing.\n   *\n   * @var bool\n   *\/",77],["T_WHITESPACE","\n  ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$acceptTests",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","FALSE",82],";",["T_WHITESPACE","\n\n  ",82],["T_DOC_COMMENT","\/**\n   * Construct a RecursiveExtensionFilterIterator.\n   *\n   * @param \\RecursiveIterator $iterator\n   *   The iterator to filter.\n   * @param array $blacklist\n   *   (optional) Add to the blacklist of directories that should be filtered\n   *   out during the iteration.\n   *\/",84],["T_WHITESPACE","\n  ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","__construct",93],"(",["T_NS_SEPARATOR","\\",93],["T_STRING","RecursiveIterator",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$iterator",93],",",["T_WHITESPACE"," ",93],["T_ARRAY","array",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$blacklist",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],"[","]",")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n    ",93],["T_STRING","parent",94],["T_DOUBLE_COLON","::",94],["T_STRING","__construct",94],"(",["T_VARIABLE","$iterator",94],")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","blacklist",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_STRING","array_merge",95],"(",["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","blacklist",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$blacklist",95],")",";",["T_WHITESPACE","\n  ",95],"}",["T_WHITESPACE","\n\n  ",96],["T_DOC_COMMENT","\/**\n   * Controls whether test directories will be scanned.\n   *\n   * @param bool $flag\n   *   Pass FALSE to skip all test directories in the discovery. If TRUE,\n   *   extensions in test directories will be discovered and only the global\n   *   directory blacklist in RecursiveExtensionFilterIterator::$blacklist is\n   *   applied.\n   *\/",98],["T_WHITESPACE","\n  ",106],["T_PUBLIC","public",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","acceptTests",107],"(",["T_VARIABLE","$flag",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","FALSE",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","acceptTests",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$flag",108],";",["T_WHITESPACE","\n    ",108],["T_IF","if",109],["T_WHITESPACE"," ",109],"(","!",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","acceptTests",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n      ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","blacklist",110],"[","]",["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'tests'",110],";",["T_WHITESPACE","\n    ",110],"}",["T_WHITESPACE","\n  ",111],"}",["T_WHITESPACE","\n\n  ",112],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",114],["T_WHITESPACE","\n  ",116],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","getChildren",117],"(",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$filter",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","parent",118],["T_DOUBLE_COLON","::",118],["T_STRING","getChildren",118],"(",")",";",["T_WHITESPACE","\n    ",118],["T_COMMENT","\/\/ Pass on the blacklist.\n",119],["T_WHITESPACE","    ",120],["T_VARIABLE","$filter",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","blacklist",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","blacklist",120],";",["T_WHITESPACE","\n    ",120],["T_COMMENT","\/\/ Pass the $acceptTests flag forward to child iterators.\n",121],["T_WHITESPACE","    ",122],["T_VARIABLE","$filter",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","acceptTests",122],"(",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","acceptTests",122],")",";",["T_WHITESPACE","\n    ",122],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$filter",123],";",["T_WHITESPACE","\n  ",123],"}",["T_WHITESPACE","\n\n  ",124],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",126],["T_WHITESPACE","\n  ",128],["T_PUBLIC","public",129],["T_WHITESPACE"," ",129],["T_FUNCTION","function",129],["T_WHITESPACE"," ",129],["T_STRING","accept",129],"(",")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$name",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","current",130],"(",")",["T_OBJECT_OPERATOR","->",130],["T_STRING","getFilename",130],"(",")",";",["T_WHITESPACE","\n    ",130],["T_COMMENT","\/\/ FilesystemIterator::SKIP_DOTS only skips '.' and '..', but not hidden\n",131],["T_WHITESPACE","    ",132],["T_COMMENT","\/\/ directories (like '.git').\n",132],["T_WHITESPACE","    ",133],["T_IF","if",133],["T_WHITESPACE"," ",133],"(",["T_VARIABLE","$name",133],"[",["T_LNUMBER","0",133],"]",["T_WHITESPACE"," ",133],["T_IS_EQUAL","==",133],["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'.'",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n      ",133],["T_RETURN","return",134],["T_WHITESPACE"," ",134],["T_STRING","FALSE",134],";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n    ",135],["T_IF","if",136],["T_WHITESPACE"," ",136],"(",["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","isDir",136],"(",")",")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n      ",136],["T_COMMENT","\/\/ If this is a subdirectory of a base search path, only recurse into the\n",137],["T_WHITESPACE","      ",138],["T_COMMENT","\/\/ fixed list of expected extension type directory names. Required for\n",138],["T_WHITESPACE","      ",139],["T_COMMENT","\/\/ scanning the top-level\/root directory; without this condition, we would\n",139],["T_WHITESPACE","      ",140],["T_COMMENT","\/\/ recurse into the whole filesystem tree that possibly contains other\n",140],["T_WHITESPACE","      ",141],["T_COMMENT","\/\/ files aside from Drupal.\n",141],["T_WHITESPACE","      ",142],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","current",142],"(",")",["T_OBJECT_OPERATOR","->",142],["T_STRING","getSubPath",142],"(",")",["T_WHITESPACE"," ",142],["T_IS_EQUAL","==",142],["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","''",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n        ",142],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_STRING","in_array",143],"(",["T_VARIABLE","$name",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","whitelist",143],",",["T_WHITESPACE"," ",143],["T_STRING","TRUE",143],")",";",["T_WHITESPACE","\n      ",143],"}",["T_WHITESPACE","\n      ",144],["T_COMMENT","\/\/ 'config' directories are special-cased here, because every extension\n",145],["T_WHITESPACE","      ",146],["T_COMMENT","\/\/ contains one. However, those default configuration directories cannot\n",146],["T_WHITESPACE","      ",147],["T_COMMENT","\/\/ contain extensions. The directory name cannot be globally skipped,\n",147],["T_WHITESPACE","      ",148],["T_COMMENT","\/\/ because core happens to have a directory of an actual module that is\n",148],["T_WHITESPACE","      ",149],["T_COMMENT","\/\/ named 'config'. By explicitly testing for that case, we can skip all\n",149],["T_WHITESPACE","      ",150],["T_COMMENT","\/\/ other config directories, and at the same time, still allow the core\n",150],["T_WHITESPACE","      ",151],["T_COMMENT","\/\/ config module to be overridden\/replaced in a profile\/site directory\n",151],["T_WHITESPACE","      ",152],["T_COMMENT","\/\/ (whereas it must be located directly in a modules directory).\n",152],["T_WHITESPACE","      ",153],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$name",153],["T_WHITESPACE"," ",153],["T_IS_EQUAL","==",153],["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'config'",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n        ",153],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_STRING","substr",154],"(",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","current",154],"(",")",["T_OBJECT_OPERATOR","->",154],["T_STRING","getPathname",154],"(",")",",",["T_WHITESPACE"," ",154],"-",["T_LNUMBER","14",154],")",["T_WHITESPACE"," ",154],["T_IS_EQUAL","==",154],["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'modules\/config'",154],";",["T_WHITESPACE","\n      ",154],"}",["T_WHITESPACE","\n      ",155],["T_COMMENT","\/\/ Accept the directory unless the name is blacklisted.\n",156],["T_WHITESPACE","      ",157],["T_RETURN","return",157],["T_WHITESPACE"," ",157],"!",["T_STRING","in_array",157],"(",["T_VARIABLE","$name",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","blacklist",157],",",["T_WHITESPACE"," ",157],["T_STRING","TRUE",157],")",";",["T_WHITESPACE","\n    ",157],"}",["T_WHITESPACE","\n    ",158],["T_ELSE","else",159],["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n      ",159],["T_COMMENT","\/\/ Only accept extension info files.\n",160],["T_WHITESPACE","      ",161],["T_RETURN","return",161],["T_WHITESPACE"," ",161],["T_STRING","substr",161],"(",["T_VARIABLE","$name",161],",",["T_WHITESPACE"," ",161],"-",["T_LNUMBER","9",161],")",["T_WHITESPACE"," ",161],["T_IS_EQUAL","==",161],["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'.info.yml'",161],";",["T_WHITESPACE","\n    ",161],"}",["T_WHITESPACE","\n  ",162],"}",["T_WHITESPACE","\n\n",163],"}",["T_WHITESPACE","\n",165]]