[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Routing",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Enhancer",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ParamConverter",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ParamConverterManagerInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ParamConverter",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ParamNotConvertedException",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Symfony",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Cmf",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Component",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Routing",7],["T_NS_SEPARATOR","\\",7],["T_STRING","RouteObjectInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Symfony",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Component",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EventDispatcher",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EventSubscriberInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Symfony",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Component",9],["T_NS_SEPARATOR","\\",9],["T_STRING","HttpFoundation",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ParameterBag",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Symfony",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Component",10],["T_NS_SEPARATOR","\\",10],["T_STRING","HttpFoundation",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Request",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Symfony",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Component",11],["T_NS_SEPARATOR","\\",11],["T_STRING","HttpKernel",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Event",11],["T_NS_SEPARATOR","\\",11],["T_STRING","GetResponseForExceptionEvent",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","HttpKernel",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Exception",12],["T_NS_SEPARATOR","\\",12],["T_STRING","NotFoundHttpException",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Symfony",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Component",13],["T_NS_SEPARATOR","\\",13],["T_STRING","HttpKernel",13],["T_NS_SEPARATOR","\\",13],["T_STRING","KernelEvents",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Routing",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Route",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * Provides a route enhancer that handles parameter conversion.\n *\/",16],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","ParamConversionEnhancer",19],["T_WHITESPACE"," ",19],["T_IMPLEMENTS","implements",19],["T_WHITESPACE"," ",19],["T_STRING","RouteEnhancerInterface",19],",",["T_WHITESPACE"," ",19],["T_STRING","EventSubscriberInterface",19],["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * The parameter conversion manager.\n   *\n   * @var \\Drupal\\Core\\ParamConverter\\ParamConverterManagerInterface\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$paramConverterManager",26],";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * Constructs a new ParamConversionEnhancer.\n   *\n   * @param \\Drupal\\Core\\ParamConverter\\ParamConverterManagerInterface $param_converter_manager\n   *   The parameter conversion manager.\n   *\/",28],["T_WHITESPACE","\n  ",33],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","__construct",34],"(",["T_STRING","ParamConverterManagerInterface",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$param_converter_manager",34],")",["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","paramConverterManager",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$param_converter_manager",35],";",["T_WHITESPACE","\n  ",35],"}",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",38],["T_WHITESPACE","\n  ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","enhance",41],"(",["T_ARRAY","array",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$defaults",41],",",["T_WHITESPACE"," ",41],["T_STRING","Request",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$request",41],")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n    ",41],["T_COMMENT","\/\/ Just run the parameter conversion once per request.\n",42],["T_WHITESPACE","    ",43],["T_IF","if",43],["T_WHITESPACE"," ",43],"(","!",["T_ISSET","isset",43],"(",["T_VARIABLE","$defaults",43],"[",["T_CONSTANT_ENCAPSED_STRING","'_raw_variables'",43],"]",")",")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n      ",43],["T_VARIABLE","$defaults",44],"[",["T_CONSTANT_ENCAPSED_STRING","'_raw_variables'",44],"]",["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","copyRawVariables",44],"(",["T_VARIABLE","$defaults",44],")",";",["T_WHITESPACE","\n      ",44],["T_VARIABLE","$defaults",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","paramConverterManager",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","convert",45],"(",["T_VARIABLE","$defaults",45],")",";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n    ",46],["T_RETURN","return",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$defaults",47],";",["T_WHITESPACE","\n  ",47],"}",["T_WHITESPACE","\n\n  ",48],["T_DOC_COMMENT","\/**\n   * Store a backup of the raw values that corresponding to the route pattern.\n   *\n   * @param array $defaults\n   *   The route defaults array.\n   *\n   * @return \\Symfony\\Component\\HttpFoundation\\ParameterBag\n   *\/",50],["T_WHITESPACE","\n  ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","copyRawVariables",58],"(",["T_ARRAY","array",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$defaults",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n    ",58],["T_DOC_COMMENT","\/** @var $route \\Symfony\\Component\\Routing\\Route *\/",59],["T_WHITESPACE","\n    ",59],["T_VARIABLE","$route",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$defaults",60],"[",["T_STRING","RouteObjectInterface",60],["T_DOUBLE_COLON","::",60],["T_STRING","ROUTE_OBJECT",60],"]",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$variables",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","array_flip",61],"(",["T_VARIABLE","$route",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","compile",61],"(",")",["T_OBJECT_OPERATOR","->",61],["T_STRING","getVariables",61],"(",")",")",";",["T_WHITESPACE","\n    ",61],["T_COMMENT","\/\/ Foreach will copy the values from the array it iterates. Even if they\n",62],["T_WHITESPACE","    ",63],["T_COMMENT","\/\/ are references, use it to break them. This avoids any scenarios where raw\n",63],["T_WHITESPACE","    ",64],["T_COMMENT","\/\/ variables also get replaced with converted values.\n",64],["T_WHITESPACE","    ",65],["T_VARIABLE","$raw_variables",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_ARRAY","array",65],"(",")",";",["T_WHITESPACE","\n    ",65],["T_FOREACH","foreach",66],["T_WHITESPACE"," ",66],"(",["T_STRING","array_intersect_key",66],"(",["T_VARIABLE","$defaults",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$variables",66],")",["T_WHITESPACE"," ",66],["T_AS","as",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$key",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$value",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n      ",66],["T_VARIABLE","$raw_variables",67],"[",["T_VARIABLE","$key",67],"]",["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$value",67],";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n    ",68],["T_RETURN","return",69],["T_WHITESPACE"," ",69],["T_NEW","new",69],["T_WHITESPACE"," ",69],["T_STRING","ParameterBag",69],"(",["T_VARIABLE","$raw_variables",69],")",";",["T_WHITESPACE","\n  ",69],"}",["T_WHITESPACE","\n\n  ",70],["T_DOC_COMMENT","\/**\n   * Catches failed parameter conversions and throw a 404 instead.\n   *\n   * @param \\Symfony\\Component\\HttpKernel\\Event\\GetResponseForExceptionEvent $event\n   *\/",72],["T_WHITESPACE","\n  ",76],["T_PUBLIC","public",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","onException",77],"(",["T_STRING","GetResponseForExceptionEvent",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$event",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$exception",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$event",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getException",78],"(",")",";",["T_WHITESPACE","\n    ",78],["T_IF","if",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$exception",79],["T_WHITESPACE"," ",79],["T_INSTANCEOF","instanceof",79],["T_WHITESPACE"," ",79],["T_STRING","ParamNotConvertedException",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n      ",79],["T_VARIABLE","$event",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","setException",80],"(",["T_NEW","new",80],["T_WHITESPACE"," ",80],["T_STRING","NotFoundHttpException",80],"(",["T_VARIABLE","$exception",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getMessage",80],"(",")",",",["T_WHITESPACE"," ",80],["T_VARIABLE","$exception",80],")",")",";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n  ",81],"}",["T_WHITESPACE","\n\n  ",82],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",84],["T_WHITESPACE","\n  ",86],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_STATIC","static",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","getSubscribedEvents",87],"(",")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$events",88],"[",["T_STRING","KernelEvents",88],["T_DOUBLE_COLON","::",88],["T_STRING","EXCEPTION",88],"]","[","]",["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_ARRAY","array",88],"(",["T_CONSTANT_ENCAPSED_STRING","'onException'",88],",",["T_WHITESPACE"," ",88],["T_LNUMBER","75",88],")",";",["T_WHITESPACE","\n    ",88],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$events",89],";",["T_WHITESPACE","\n  ",89],"}",["T_WHITESPACE","\n\n  ",90],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",92],["T_WHITESPACE","\n  ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","applies",95],"(",["T_STRING","Route",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$route",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n    ",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_STRING","TRUE",96],";",["T_WHITESPACE","\n  ",96],"}",["T_WHITESPACE","\n\n",97],"}",["T_WHITESPACE","\n",99]]