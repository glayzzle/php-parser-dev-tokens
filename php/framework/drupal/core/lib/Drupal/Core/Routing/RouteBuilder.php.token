[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Routing",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Access",5],["T_NS_SEPARATOR","\\",5],["T_STRING","CheckProviderInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Controller",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ControllerResolverInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Discovery",7],["T_NS_SEPARATOR","\\",7],["T_STRING","YamlDiscovery",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Extension",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ModuleHandlerInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Lock",9],["T_NS_SEPARATOR","\\",9],["T_STRING","LockBackendInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","DestructableInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Symfony",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Component",11],["T_NS_SEPARATOR","\\",11],["T_STRING","EventDispatcher",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Event",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","EventDispatcher",12],["T_NS_SEPARATOR","\\",12],["T_STRING","EventDispatcherInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Symfony",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Component",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Routing",13],["T_NS_SEPARATOR","\\",13],["T_STRING","RouteCollection",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Routing",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Route",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * Managing class for rebuilding the router table.\n *\/",16],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","RouteBuilder",19],["T_WHITESPACE"," ",19],["T_IMPLEMENTS","implements",19],["T_WHITESPACE"," ",19],["T_STRING","RouteBuilderInterface",19],",",["T_WHITESPACE"," ",19],["T_STRING","DestructableInterface",19],["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * The dumper to which we should send collected routes.\n   *\n   * @var \\Drupal\\Core\\Routing\\MatcherDumperInterface\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$dumper",26],";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * The used lock backend instance.\n   *\n   * @var \\Drupal\\Core\\Lock\\LockBackendInterface $lock\n   *\/",28],["T_WHITESPACE","\n  ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$lock",33],";",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * The event dispatcher to notify of routes.\n   *\n   * @var \\Symfony\\Component\\EventDispatcher\\EventDispatcherInterface\n   *\/",35],["T_WHITESPACE","\n  ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$dispatcher",40],";",["T_WHITESPACE","\n\n  ",40],["T_DOC_COMMENT","\/**\n   * The module handler.\n   *\n   * @var \\Drupal\\Core\\Extension\\ModuleHandlerInterface\n   *\/",42],["T_WHITESPACE","\n  ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$moduleHandler",47],";",["T_WHITESPACE","\n\n  ",47],["T_DOC_COMMENT","\/**\n   * The controller resolver.\n   *\n   * @var \\Drupal\\Core\\Controller\\ControllerResolverInterface\n   *\/",49],["T_WHITESPACE","\n  ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$controllerResolver",54],";",["T_WHITESPACE","\n\n  ",54],["T_DOC_COMMENT","\/**\n   * The route collection during the rebuild.\n   *\n   * @var \\Symfony\\Component\\Routing\\RouteCollection\n   *\/",56],["T_WHITESPACE","\n  ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$routeCollection",61],";",["T_WHITESPACE","\n\n  ",61],["T_DOC_COMMENT","\/**\n   * Flag that indicates if we are currently rebuilding the routes.\n   *\n   * @var bool\n   *\/",63],["T_WHITESPACE","\n  ",67],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$building",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","FALSE",68],";",["T_WHITESPACE","\n\n  ",68],["T_DOC_COMMENT","\/**\n   * Flag that indicates if we should rebuild at the end of the request.\n   *\n   * @var bool\n   *\/",70],["T_WHITESPACE","\n  ",74],["T_PROTECTED","protected",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$rebuildNeeded",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","FALSE",75],";",["T_WHITESPACE","\n\n  ",75],["T_DOC_COMMENT","\/**\n   * The check provider.\n   *\n   * @var \\Drupal\\Core\\Access\\CheckProviderInterface\n   *\/",77],["T_WHITESPACE","\n  ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$checkProvider",82],";",["T_WHITESPACE","\n\n  ",82],["T_DOC_COMMENT","\/**\n   * Constructs the RouteBuilder using the passed MatcherDumperInterface.\n   *\n   * @param \\Drupal\\Core\\Routing\\MatcherDumperInterface $dumper\n   *   The matcher dumper used to store the route information.\n   * @param \\Drupal\\Core\\Lock\\LockBackendInterface $lock\n   *   The lock backend.\n   * @param \\Symfony\\Component\\EventDispatcher\\EventDispatcherInterface $dispatcher\n   *   The event dispatcher to notify of routes.\n   * @param \\Drupal\\Core\\Extension\\ModuleHandlerInterface $module_handler\n   *   The module handler.\n   * @param \\Drupal\\Core\\Controller\\ControllerResolverInterface $controller_resolver\n   *   The controller resolver.\n   * @param \\Drupal\\Core\\Access\\CheckProviderInterface $check_provider\n   *   The check provider.\n   *\/",84],["T_WHITESPACE","\n  ",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","__construct",100],"(",["T_STRING","MatcherDumperInterface",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$dumper",100],",",["T_WHITESPACE"," ",100],["T_STRING","LockBackendInterface",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$lock",100],",",["T_WHITESPACE"," ",100],["T_STRING","EventDispatcherInterface",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$dispatcher",100],",",["T_WHITESPACE"," ",100],["T_STRING","ModuleHandlerInterface",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$module_handler",100],",",["T_WHITESPACE"," ",100],["T_STRING","ControllerResolverInterface",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$controller_resolver",100],",",["T_WHITESPACE"," ",100],["T_STRING","CheckProviderInterface",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$check_provider",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","dumper",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$dumper",101],";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","lock",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$lock",102],";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","dispatcher",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$dispatcher",103],";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","moduleHandler",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$module_handler",104],";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","controllerResolver",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$controller_resolver",105],";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","checkProvider",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$check_provider",106],";",["T_WHITESPACE","\n  ",106],"}",["T_WHITESPACE","\n\n  ",107],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",109],["T_WHITESPACE","\n  ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","setRebuildNeeded",112],"(",")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","rebuildNeeded",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","TRUE",113],";",["T_WHITESPACE","\n  ",113],"}",["T_WHITESPACE","\n\n  ",114],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",116],["T_WHITESPACE","\n  ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","rebuild",119],"(",")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n    ",119],["T_IF","if",120],["T_WHITESPACE"," ",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","building",120],")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n      ",120],["T_THROW","throw",121],["T_WHITESPACE"," ",121],["T_NEW","new",121],["T_WHITESPACE"," ",121],["T_NS_SEPARATOR","\\",121],["T_STRING","RuntimeException",121],"(",["T_CONSTANT_ENCAPSED_STRING","'Recursive router rebuild detected.'",121],")",";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_IF","if",124],["T_WHITESPACE"," ",124],"(","!",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","lock",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","acquire",124],"(",["T_CONSTANT_ENCAPSED_STRING","'router_rebuild'",124],")",")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n      ",124],["T_COMMENT","\/\/ Wait for another request that is already doing this work.\n",125],["T_WHITESPACE","      ",126],["T_COMMENT","\/\/ We choose to block here since otherwise the routes might not be\n",126],["T_WHITESPACE","      ",127],["T_COMMENT","\/\/ available, resulting in a 404.\n",127],["T_WHITESPACE","      ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","lock",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","wait",128],"(",["T_CONSTANT_ENCAPSED_STRING","'router_rebuild'",128],")",";",["T_WHITESPACE","\n      ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_STRING","FALSE",129],";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","building",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_STRING","TRUE",132],";",["T_WHITESPACE","\n\n    ",132],["T_VARIABLE","$collection",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_NEW","new",134],["T_WHITESPACE"," ",134],["T_STRING","RouteCollection",134],"(",")",";",["T_WHITESPACE","\n    ",134],["T_FOREACH","foreach",135],["T_WHITESPACE"," ",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getRouteDefinitions",135],"(",")",["T_WHITESPACE"," ",135],["T_AS","as",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$routes",135],")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n      ",135],["T_COMMENT","\/\/ The top-level 'routes_callback' is a list of methods in controller\n",136],["T_WHITESPACE","      ",137],["T_COMMENT","\/\/ syntax, see \\Drupal\\Core\\Controller\\ControllerResolver. These methods\n",137],["T_WHITESPACE","      ",138],["T_COMMENT","\/\/ should return a set of \\Symfony\\Component\\Routing\\Route objects, either\n",138],["T_WHITESPACE","      ",139],["T_COMMENT","\/\/ in an associative array keyed by the route name, which will be iterated\n",139],["T_WHITESPACE","      ",140],["T_COMMENT","\/\/ over and added to the collection for this provider, or as a new\n",140],["T_WHITESPACE","      ",141],["T_COMMENT","\/\/ \\Symfony\\Component\\Routing\\RouteCollection object, which will be added\n",141],["T_WHITESPACE","      ",142],["T_COMMENT","\/\/ to the collection.\n",142],["T_WHITESPACE","      ",143],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_ISSET","isset",143],"(",["T_VARIABLE","$routes",143],"[",["T_CONSTANT_ENCAPSED_STRING","'route_callbacks'",143],"]",")",")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n        ",143],["T_FOREACH","foreach",144],["T_WHITESPACE"," ",144],"(",["T_VARIABLE","$routes",144],"[",["T_CONSTANT_ENCAPSED_STRING","'route_callbacks'",144],"]",["T_WHITESPACE"," ",144],["T_AS","as",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$route_callback",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n          ",144],["T_VARIABLE","$callback",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","controllerResolver",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getControllerFromDefinition",145],"(",["T_VARIABLE","$route_callback",145],")",";",["T_WHITESPACE","\n          ",145],["T_IF","if",146],["T_WHITESPACE"," ",146],"(",["T_VARIABLE","$callback_routes",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_STRING","call_user_func",146],"(",["T_VARIABLE","$callback",146],")",")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n            ",146],["T_COMMENT","\/\/ If a RouteCollection is returned, add the whole collection.\n",147],["T_WHITESPACE","            ",148],["T_IF","if",148],["T_WHITESPACE"," ",148],"(",["T_VARIABLE","$callback_routes",148],["T_WHITESPACE"," ",148],["T_INSTANCEOF","instanceof",148],["T_WHITESPACE"," ",148],["T_STRING","RouteCollection",148],")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n              ",148],["T_VARIABLE","$collection",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","addCollection",149],"(",["T_VARIABLE","$callback_routes",149],")",";",["T_WHITESPACE","\n            ",149],"}",["T_WHITESPACE","\n            ",150],["T_COMMENT","\/\/ Otherwise, add each Route object individually.\n",151],["T_WHITESPACE","            ",152],["T_ELSE","else",152],["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n              ",152],["T_FOREACH","foreach",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$callback_routes",153],["T_WHITESPACE"," ",153],["T_AS","as",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$name",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$callback_route",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n                ",153],["T_VARIABLE","$collection",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","add",154],"(",["T_VARIABLE","$name",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$callback_route",154],")",";",["T_WHITESPACE","\n              ",154],"}",["T_WHITESPACE","\n            ",155],"}",["T_WHITESPACE","\n          ",156],"}",["T_WHITESPACE","\n        ",157],"}",["T_WHITESPACE","\n        ",158],["T_UNSET","unset",159],"(",["T_VARIABLE","$routes",159],"[",["T_CONSTANT_ENCAPSED_STRING","'route_callbacks'",159],"]",")",";",["T_WHITESPACE","\n      ",159],"}",["T_WHITESPACE","\n      ",160],["T_FOREACH","foreach",161],["T_WHITESPACE"," ",161],"(",["T_VARIABLE","$routes",161],["T_WHITESPACE"," ",161],["T_AS","as",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$name",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$route_info",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$route_info",162],["T_WHITESPACE"," ",162],["T_PLUS_EQUAL","+=",162],["T_WHITESPACE"," ",162],["T_ARRAY","array",162],"(",["T_WHITESPACE","\n          ",162],["T_CONSTANT_ENCAPSED_STRING","'defaults'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_ARRAY","array",163],"(",")",",",["T_WHITESPACE","\n          ",163],["T_CONSTANT_ENCAPSED_STRING","'requirements'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_ARRAY","array",164],"(",")",",",["T_WHITESPACE","\n          ",164],["T_CONSTANT_ENCAPSED_STRING","'options'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_ARRAY","array",165],"(",")",",",["T_WHITESPACE","\n          ",165],["T_CONSTANT_ENCAPSED_STRING","'host'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_STRING","NULL",166],",",["T_WHITESPACE","\n          ",166],["T_CONSTANT_ENCAPSED_STRING","'schemes'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_ARRAY","array",167],"(",")",",",["T_WHITESPACE","\n          ",167],["T_CONSTANT_ENCAPSED_STRING","'methods'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_ARRAY","array",168],"(",")",",",["T_WHITESPACE","\n          ",168],["T_CONSTANT_ENCAPSED_STRING","'condition'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","''",169],",",["T_WHITESPACE","\n        ",169],")",";",["T_WHITESPACE","\n\n        ",170],["T_VARIABLE","$route",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_NEW","new",172],["T_WHITESPACE"," ",172],["T_STRING","Route",172],"(",["T_VARIABLE","$route_info",172],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",172],"]",",",["T_WHITESPACE"," ",172],["T_VARIABLE","$route_info",172],"[",["T_CONSTANT_ENCAPSED_STRING","'defaults'",172],"]",",",["T_WHITESPACE"," ",172],["T_VARIABLE","$route_info",172],"[",["T_CONSTANT_ENCAPSED_STRING","'requirements'",172],"]",",",["T_WHITESPACE"," ",172],["T_VARIABLE","$route_info",172],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",172],"]",",",["T_WHITESPACE"," ",172],["T_VARIABLE","$route_info",172],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",172],"]",",",["T_WHITESPACE"," ",172],["T_VARIABLE","$route_info",172],"[",["T_CONSTANT_ENCAPSED_STRING","'schemes'",172],"]",",",["T_WHITESPACE"," ",172],["T_VARIABLE","$route_info",172],"[",["T_CONSTANT_ENCAPSED_STRING","'methods'",172],"]",",",["T_WHITESPACE"," ",172],["T_VARIABLE","$route_info",172],"[",["T_CONSTANT_ENCAPSED_STRING","'condition'",172],"]",")",";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$collection",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","add",173],"(",["T_VARIABLE","$name",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$route",173],")",";",["T_WHITESPACE","\n      ",173],"}",["T_WHITESPACE","\n    ",174],"}",["T_WHITESPACE","\n\n    ",175],["T_COMMENT","\/\/ DYNAMIC is supposed to be used to add new routes based upon all the\n",177],["T_WHITESPACE","    ",178],["T_COMMENT","\/\/ static defined ones.\n",178],["T_WHITESPACE","    ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","dispatcher",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","dispatch",179],"(",["T_STRING","RoutingEvents",179],["T_DOUBLE_COLON","::",179],["T_STRING","DYNAMIC",179],",",["T_WHITESPACE"," ",179],["T_NEW","new",179],["T_WHITESPACE"," ",179],["T_STRING","RouteBuildEvent",179],"(",["T_VARIABLE","$collection",179],")",")",";",["T_WHITESPACE","\n\n    ",179],["T_COMMENT","\/\/ ALTER is the final step to alter all the existing routes. We cannot stop\n",181],["T_WHITESPACE","    ",182],["T_COMMENT","\/\/ people from adding new routes here, but we define two separate steps to\n",182],["T_WHITESPACE","    ",183],["T_COMMENT","\/\/ make it clear.\n",183],["T_WHITESPACE","    ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","dispatcher",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","dispatch",184],"(",["T_STRING","RoutingEvents",184],["T_DOUBLE_COLON","::",184],["T_STRING","ALTER",184],",",["T_WHITESPACE"," ",184],["T_NEW","new",184],["T_WHITESPACE"," ",184],["T_STRING","RouteBuildEvent",184],"(",["T_VARIABLE","$collection",184],")",")",";",["T_WHITESPACE","\n\n    ",184],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","checkProvider",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","setChecks",186],"(",["T_VARIABLE","$collection",186],")",";",["T_WHITESPACE","\n\n    ",186],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","dumper",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","addRoutes",188],"(",["T_VARIABLE","$collection",188],")",";",["T_WHITESPACE","\n    ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","dumper",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","dump",189],"(",")",";",["T_WHITESPACE","\n\n    ",189],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","lock",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","release",191],"(",["T_CONSTANT_ENCAPSED_STRING","'router_rebuild'",191],")",";",["T_WHITESPACE","\n    ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","dispatcher",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","dispatch",192],"(",["T_STRING","RoutingEvents",192],["T_DOUBLE_COLON","::",192],["T_STRING","FINISHED",192],",",["T_WHITESPACE"," ",192],["T_NEW","new",192],["T_WHITESPACE"," ",192],["T_STRING","Event",192],"(",")",")",";",["T_WHITESPACE","\n    ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","building",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_STRING","FALSE",193],";",["T_WHITESPACE","\n\n    ",193],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","rebuildNeeded",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_STRING","FALSE",195],";",["T_WHITESPACE","\n\n    ",195],["T_RETURN","return",197],["T_WHITESPACE"," ",197],["T_STRING","TRUE",197],";",["T_WHITESPACE","\n  ",197],"}",["T_WHITESPACE","\n\n  ",198],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",200],["T_WHITESPACE","\n  ",202],["T_PUBLIC","public",203],["T_WHITESPACE"," ",203],["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],["T_STRING","rebuildIfNeeded",203],"(",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n    ",203],["T_IF","if",204],["T_WHITESPACE"," ",204],"(",["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","rebuildNeeded",204],")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n      ",204],["T_RETURN","return",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","rebuild",205],"(",")",";",["T_WHITESPACE","\n    ",205],"}",["T_WHITESPACE","\n    ",206],["T_RETURN","return",207],["T_WHITESPACE"," ",207],["T_STRING","FALSE",207],";",["T_WHITESPACE","\n  ",207],"}",["T_WHITESPACE","\n\n  ",208],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",210],["T_WHITESPACE","\n  ",212],["T_PUBLIC","public",213],["T_WHITESPACE"," ",213],["T_FUNCTION","function",213],["T_WHITESPACE"," ",213],["T_STRING","destruct",213],"(",")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n    ",213],["T_COMMENT","\/\/ Rebuild routes only once at the end of the request lifecycle to not\n",214],["T_WHITESPACE","    ",215],["T_COMMENT","\/\/ trigger multiple rebuilds and also make the page more responsive for the\n",215],["T_WHITESPACE","    ",216],["T_COMMENT","\/\/ user.\n",216],["T_WHITESPACE","    ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","rebuildIfNeeded",217],"(",")",";",["T_WHITESPACE","\n  ",217],"}",["T_WHITESPACE","\n\n  ",218],["T_DOC_COMMENT","\/**\n   * Retrieves all defined routes from .routing.yml files.\n   *\n   * @return array\n   *   The defined routes, keyed by provider.\n   *\/",220],["T_WHITESPACE","\n  ",225],["T_PROTECTED","protected",226],["T_WHITESPACE"," ",226],["T_FUNCTION","function",226],["T_WHITESPACE"," ",226],["T_STRING","getRouteDefinitions",226],"(",")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n    ",226],["T_COMMENT","\/\/ Always instantiate a new YamlDiscovery object so that we always search on\n",227],["T_WHITESPACE","    ",228],["T_COMMENT","\/\/ the up-to-date list of modules.\n",228],["T_WHITESPACE","    ",229],["T_VARIABLE","$discovery",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_NEW","new",229],["T_WHITESPACE"," ",229],["T_STRING","YamlDiscovery",229],"(",["T_CONSTANT_ENCAPSED_STRING","'routing'",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","moduleHandler",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getModuleDirectories",229],"(",")",")",";",["T_WHITESPACE","\n    ",229],["T_RETURN","return",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$discovery",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","findAll",230],"(",")",";",["T_WHITESPACE","\n  ",230],"}",["T_WHITESPACE","\n\n",231],"}",["T_WHITESPACE","\n",233]]