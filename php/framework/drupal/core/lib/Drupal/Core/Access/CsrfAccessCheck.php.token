[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Access",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Routing",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Access",5],["T_NS_SEPARATOR","\\",5],["T_STRING","AccessInterface",5],["T_WHITESPACE"," ",5],["T_AS","as",5],["T_WHITESPACE"," ",5],["T_STRING","RoutingAccessInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Routing",6],["T_NS_SEPARATOR","\\",6],["T_STRING","RouteMatchInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Symfony",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Component",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Routing",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Route",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Symfony",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Component",8],["T_NS_SEPARATOR","\\",8],["T_STRING","HttpFoundation",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Request",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Allows access to routes to be controlled by a '_csrf_token' parameter.\n *\n * To use this check, add a \"token\" GET parameter to URLs of which the value is\n * a token generated by \\Drupal::csrfToken()->get() using the same value as the\n * \"_csrf_token\" parameter in the route.\n *\/",10],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","CsrfAccessCheck",17],["T_WHITESPACE"," ",17],["T_IMPLEMENTS","implements",17],["T_WHITESPACE"," ",17],["T_STRING","RoutingAccessInterface",17],["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * The CSRF token generator.\n   *\n   * @var \\Drupal\\Core\\Access\\CsrfTokenGenerator\n   *\/",19],["T_WHITESPACE","\n  ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$csrfToken",24],";",["T_WHITESPACE","\n\n  ",24],["T_DOC_COMMENT","\/**\n   * Constructs a CsrfAccessCheck object.\n   *\n   * @param \\Drupal\\Core\\Access\\CsrfTokenGenerator $csrf_token\n   *   The CSRF token generator.\n   *\/",26],["T_WHITESPACE","\n  ",31],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","__construct",32],"(",["T_STRING","CsrfTokenGenerator",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$csrf_token",32],")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","csrfToken",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$csrf_token",33],";",["T_WHITESPACE","\n  ",33],"}",["T_WHITESPACE","\n\n  ",34],["T_DOC_COMMENT","\/**\n   * Checks access based on a CSRF token for the request.\n   *\n   * @param \\Symfony\\Component\\Routing\\Route $route\n   *   The route to check against.\n   * @param \\Symfony\\Component\\HttpFoundation\\Request $request\n   *   The request object.\n   * @param \\Drupal\\Core\\Routing\\RouteMatchInterface $route_match\n   *   The route match object.\n   *\n   * @return \\Drupal\\Core\\Access\\AccessResultInterface\n   *   The access result.\n   *\/",36],["T_WHITESPACE","\n  ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","access",49],"(",["T_STRING","Route",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$route",49],",",["T_WHITESPACE"," ",49],["T_STRING","Request",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$request",49],",",["T_WHITESPACE"," ",49],["T_STRING","RouteMatchInterface",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$route_match",49],")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$parameters",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$route_match",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getRawParameters",50],"(",")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$path",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_STRING","ltrim",51],"(",["T_VARIABLE","$route",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getPath",51],"(",")",",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'\/'",51],")",";",["T_WHITESPACE","\n    ",51],["T_COMMENT","\/\/ Replace the path parameters with values from the parameters array.\n",52],["T_WHITESPACE","    ",53],["T_FOREACH","foreach",53],["T_WHITESPACE"," ",53],"(",["T_VARIABLE","$parameters",53],["T_WHITESPACE"," ",53],["T_AS","as",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$param",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$value",53],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n      ",53],["T_VARIABLE","$path",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","str_replace",54],"(","\"",["T_ENCAPSED_AND_WHITESPACE","{",54],["T_CURLY_OPEN","{",54],["T_VARIABLE","$param",54],"}",["T_ENCAPSED_AND_WHITESPACE","}",54],"\"",",",["T_WHITESPACE"," ",54],["T_VARIABLE","$value",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$path",54],")",";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_IF","if",57],["T_WHITESPACE"," ",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","csrfToken",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","validate",57],"(",["T_VARIABLE","$request",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","query",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","get",57],"(",["T_CONSTANT_ENCAPSED_STRING","'token'",57],",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","''",57],")",",",["T_WHITESPACE"," ",57],["T_VARIABLE","$path",57],")",")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n      ",57],["T_VARIABLE","$result",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","AccessResult",58],["T_DOUBLE_COLON","::",58],["T_STRING","allowed",58],"(",")",";",["T_WHITESPACE","\n    ",58],"}",["T_WHITESPACE","\n    ",59],["T_ELSE","else",60],["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n      ",60],["T_VARIABLE","$result",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","AccessResult",61],["T_DOUBLE_COLON","::",61],["T_STRING","forbidden",61],"(",")",";",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n    ",62],["T_COMMENT","\/\/ Not cacheable because the CSRF token is highly dynamic.\n",63],["T_WHITESPACE","    ",64],["T_RETURN","return",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$result",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","setCacheMaxAge",64],"(",["T_LNUMBER","0",64],")",";",["T_WHITESPACE","\n  ",64],"}",["T_WHITESPACE","\n\n",65],"}",["T_WHITESPACE","\n",67]]