[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Field",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Field",3],["T_NS_SEPARATOR","\\",3],["T_STRING","FieldFormatter",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","EntityDisplayRepositoryInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityTypeManagerInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Field",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FieldDefinitionInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Field",8],["T_NS_SEPARATOR","\\",8],["T_STRING","FieldItemListInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Form",9],["T_NS_SEPARATOR","\\",9],["T_STRING","FormStateInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Logger",10],["T_NS_SEPARATOR","\\",10],["T_STRING","LoggerChannelFactoryInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Plugin",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ContainerFactoryPluginInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","DependencyInjection",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ContainerInterface",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Plugin implementation of the 'entity reference rendered entity' formatter.\n *\n * @FieldFormatter(\n *   id = \"entity_reference_entity_view\",\n *   label = @Translation(\"Rendered entity\"),\n *   description = @Translation(\"Display the referenced entities rendered by entity_view().\"),\n *   field_types = {\n *     \"entity_reference\"\n *   }\n * )\n *\/",14],["T_WHITESPACE","\n",25],["T_CLASS","class",26],["T_WHITESPACE"," ",26],["T_STRING","EntityReferenceEntityFormatter",26],["T_WHITESPACE"," ",26],["T_EXTENDS","extends",26],["T_WHITESPACE"," ",26],["T_STRING","EntityReferenceFormatterBase",26],["T_WHITESPACE"," ",26],["T_IMPLEMENTS","implements",26],["T_WHITESPACE"," ",26],["T_STRING","ContainerFactoryPluginInterface",26],["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * The number of times this formatter allows rendering the same entity.\n   *\n   * @var int\n   *\/",28],["T_WHITESPACE","\n  ",32],["T_CONST","const",33],["T_WHITESPACE"," ",33],["T_STRING","RECURSIVE_RENDER_LIMIT",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_LNUMBER","20",33],";",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * The logger factory.\n   *\n   * @var \\Drupal\\Core\\Logger\\LoggerChannelFactoryInterface\n   *\/",35],["T_WHITESPACE","\n  ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$loggerFactory",40],";",["T_WHITESPACE","\n\n  ",40],["T_DOC_COMMENT","\/**\n   * The entity type manager.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityTypeManagerInterface\n   *\/",42],["T_WHITESPACE","\n  ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$entityTypeManager",47],";",["T_WHITESPACE","\n\n  ",47],["T_DOC_COMMENT","\/**\n   * The entity type manager.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityDisplayRepositoryInterface\n   *\/",49],["T_WHITESPACE","\n  ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$entityDisplayRepository",54],";",["T_WHITESPACE","\n\n  ",54],["T_DOC_COMMENT","\/**\n   * An array of counters for the recursive rendering protection.\n   *\n   * Each counter takes into account all the relevant information about the\n   * field and the referenced entity that is being rendered.\n   *\n   * @see \\Drupal\\Core\\Field\\Plugin\\Field\\FieldFormatter\\EntityReferenceEntityFormatter::viewElements()\n   *\n   * @var array\n   *\/",56],["T_WHITESPACE","\n  ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_STATIC","static",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$recursiveRenderDepth",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],"[","]",";",["T_WHITESPACE","\n\n  ",66],["T_DOC_COMMENT","\/**\n   * Constructs a EntityReferenceEntityFormatter instance.\n   *\n   * @param string $plugin_id\n   *   The plugin_id for the formatter.\n   * @param mixed $plugin_definition\n   *   The plugin implementation definition.\n   * @param \\Drupal\\Core\\Field\\FieldDefinitionInterface $field_definition\n   *   The definition of the field to which the formatter is associated.\n   * @param array $settings\n   *   The formatter settings.\n   * @param string $label\n   *   The formatter label display setting.\n   * @param string $view_mode\n   *   The view mode.\n   * @param array $third_party_settings\n   *   Any third party settings settings.\n   * @param LoggerChannelFactoryInterface $logger_factory\n   *   The logger factory.\n   * @param \\Drupal\\Core\\Entity\\EntityTypeManagerInterface $entity_type_manager\n   *   The entity type manager.\n   * @param \\Drupal\\Core\\Entity\\EntityDisplayRepositoryInterface $entity_display_repository\n   *   The entity display repository.\n   *\/",68],["T_WHITESPACE","\n  ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","__construct",92],"(",["T_VARIABLE","$plugin_id",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$plugin_definition",92],",",["T_WHITESPACE"," ",92],["T_STRING","FieldDefinitionInterface",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$field_definition",92],",",["T_WHITESPACE"," ",92],["T_ARRAY","array",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$settings",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$label",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$view_mode",92],",",["T_WHITESPACE"," ",92],["T_ARRAY","array",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$third_party_settings",92],",",["T_WHITESPACE"," ",92],["T_STRING","LoggerChannelFactoryInterface",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$logger_factory",92],",",["T_WHITESPACE"," ",92],["T_STRING","EntityTypeManagerInterface",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$entity_type_manager",92],",",["T_WHITESPACE"," ",92],["T_STRING","EntityDisplayRepositoryInterface",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$entity_display_repository",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n    ",92],["T_STRING","parent",93],["T_DOUBLE_COLON","::",93],["T_STRING","__construct",93],"(",["T_VARIABLE","$plugin_id",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$plugin_definition",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$field_definition",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$settings",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$label",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$view_mode",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$third_party_settings",93],")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","loggerFactory",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$logger_factory",94],";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","entityTypeManager",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$entity_type_manager",95],";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","entityDisplayRepository",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$entity_display_repository",96],";",["T_WHITESPACE","\n  ",96],"}",["T_WHITESPACE","\n\n  ",97],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",99],["T_WHITESPACE","\n  ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_STATIC","static",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","create",102],"(",["T_STRING","ContainerInterface",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$container",102],",",["T_WHITESPACE"," ",102],["T_ARRAY","array",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$configuration",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$plugin_id",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$plugin_definition",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n    ",102],["T_RETURN","return",103],["T_WHITESPACE"," ",103],["T_NEW","new",103],["T_WHITESPACE"," ",103],["T_STATIC","static",103],"(",["T_WHITESPACE","\n      ",103],["T_VARIABLE","$plugin_id",104],",",["T_WHITESPACE","\n      ",104],["T_VARIABLE","$plugin_definition",105],",",["T_WHITESPACE","\n      ",105],["T_VARIABLE","$configuration",106],"[",["T_CONSTANT_ENCAPSED_STRING","'field_definition'",106],"]",",",["T_WHITESPACE","\n      ",106],["T_VARIABLE","$configuration",107],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",107],"]",",",["T_WHITESPACE","\n      ",107],["T_VARIABLE","$configuration",108],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",108],"]",",",["T_WHITESPACE","\n      ",108],["T_VARIABLE","$configuration",109],"[",["T_CONSTANT_ENCAPSED_STRING","'view_mode'",109],"]",",",["T_WHITESPACE","\n      ",109],["T_VARIABLE","$configuration",110],"[",["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",110],"]",",",["T_WHITESPACE","\n      ",110],["T_VARIABLE","$container",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","get",111],"(",["T_CONSTANT_ENCAPSED_STRING","'logger.factory'",111],")",",",["T_WHITESPACE","\n      ",111],["T_VARIABLE","$container",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","get",112],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",112],")",",",["T_WHITESPACE","\n      ",112],["T_VARIABLE","$container",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","get",113],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_display.repository'",113],")",["T_WHITESPACE","\n    ",113],")",";",["T_WHITESPACE","\n  ",114],"}",["T_WHITESPACE","\n\n  ",115],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",117],["T_WHITESPACE","\n  ",119],["T_PUBLIC","public",120],["T_WHITESPACE"," ",120],["T_STATIC","static",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","defaultSettings",120],"(",")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n    ",120],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_ARRAY","array",121],"(",["T_WHITESPACE","\n      ",121],["T_CONSTANT_ENCAPSED_STRING","'view_mode'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'default'",122],",",["T_WHITESPACE","\n      ",122],["T_CONSTANT_ENCAPSED_STRING","'link'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_STRING","FALSE",123],",",["T_WHITESPACE","\n    ",123],")",["T_WHITESPACE"," ",124],"+",["T_WHITESPACE"," ",124],["T_STRING","parent",124],["T_DOUBLE_COLON","::",124],["T_STRING","defaultSettings",124],"(",")",";",["T_WHITESPACE","\n  ",124],"}",["T_WHITESPACE","\n\n  ",125],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",127],["T_WHITESPACE","\n  ",129],["T_PUBLIC","public",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","settingsForm",130],"(",["T_ARRAY","array",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$form",130],",",["T_WHITESPACE"," ",130],["T_STRING","FormStateInterface",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$form_state",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$elements",131],"[",["T_CONSTANT_ENCAPSED_STRING","'view_mode'",131],"]",["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_ARRAY","array",131],"(",["T_WHITESPACE","\n      ",131],["T_CONSTANT_ENCAPSED_STRING","'#type'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'select'",132],",",["T_WHITESPACE","\n      ",132],["T_CONSTANT_ENCAPSED_STRING","'#options'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","entityDisplayRepository",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getViewModeOptions",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getFieldSetting",133],"(",["T_CONSTANT_ENCAPSED_STRING","'target_type'",133],")",")",",",["T_WHITESPACE","\n      ",133],["T_CONSTANT_ENCAPSED_STRING","'#title'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_STRING","t",134],"(",["T_CONSTANT_ENCAPSED_STRING","'View mode'",134],")",",",["T_WHITESPACE","\n      ",134],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getSetting",135],"(",["T_CONSTANT_ENCAPSED_STRING","'view_mode'",135],")",",",["T_WHITESPACE","\n      ",135],["T_CONSTANT_ENCAPSED_STRING","'#required'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_STRING","TRUE",136],",",["T_WHITESPACE","\n    ",136],")",";",["T_WHITESPACE","\n\n    ",137],["T_RETURN","return",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$elements",139],";",["T_WHITESPACE","\n  ",139],"}",["T_WHITESPACE","\n\n  ",140],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",142],["T_WHITESPACE","\n  ",144],["T_PUBLIC","public",145],["T_WHITESPACE"," ",145],["T_FUNCTION","function",145],["T_WHITESPACE"," ",145],["T_STRING","settingsSummary",145],"(",")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$summary",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_ARRAY","array",146],"(",")",";",["T_WHITESPACE","\n\n    ",146],["T_VARIABLE","$view_modes",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","entityDisplayRepository",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getViewModeOptions",148],"(",["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getFieldSetting",148],"(",["T_CONSTANT_ENCAPSED_STRING","'target_type'",148],")",")",";",["T_WHITESPACE","\n    ",148],["T_VARIABLE","$view_mode",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getSetting",149],"(",["T_CONSTANT_ENCAPSED_STRING","'view_mode'",149],")",";",["T_WHITESPACE","\n    ",149],["T_VARIABLE","$summary",150],"[","]",["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","t",150],"(",["T_CONSTANT_ENCAPSED_STRING","'Rendered as @mode'",150],",",["T_WHITESPACE"," ",150],["T_ARRAY","array",150],"(",["T_CONSTANT_ENCAPSED_STRING","'@mode'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_ISSET","isset",150],"(",["T_VARIABLE","$view_modes",150],"[",["T_VARIABLE","$view_mode",150],"]",")",["T_WHITESPACE"," ",150],"?",["T_WHITESPACE"," ",150],["T_VARIABLE","$view_modes",150],"[",["T_VARIABLE","$view_mode",150],"]",["T_WHITESPACE"," ",150],":",["T_WHITESPACE"," ",150],["T_VARIABLE","$view_mode",150],")",")",";",["T_WHITESPACE","\n\n    ",150],["T_RETURN","return",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$summary",152],";",["T_WHITESPACE","\n  ",152],"}",["T_WHITESPACE","\n\n  ",153],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",155],["T_WHITESPACE","\n  ",157],["T_PUBLIC","public",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","viewElements",158],"(",["T_STRING","FieldItemListInterface",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$items",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$langcode",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n    ",158],["T_VARIABLE","$view_mode",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getSetting",159],"(",["T_CONSTANT_ENCAPSED_STRING","'view_mode'",159],")",";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$elements",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_ARRAY","array",160],"(",")",";",["T_WHITESPACE","\n\n    ",160],["T_FOREACH","foreach",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getEntitiesToView",162],"(",["T_VARIABLE","$items",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$langcode",162],")",["T_WHITESPACE"," ",162],["T_AS","as",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$delta",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$entity",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n      ",162],["T_COMMENT","\/\/ Due to render caching and delayed calls, the viewElements() method\n",163],["T_WHITESPACE","      ",164],["T_COMMENT","\/\/ will be called later in the rendering process through a '#pre_render'\n",164],["T_WHITESPACE","      ",165],["T_COMMENT","\/\/ callback, so we need to generate a counter that takes into account\n",165],["T_WHITESPACE","      ",166],["T_COMMENT","\/\/ all the relevant information about this field and the referenced\n",166],["T_WHITESPACE","      ",167],["T_COMMENT","\/\/ entity that is being rendered.\n",167],["T_WHITESPACE","      ",168],["T_VARIABLE","$recursive_render_id",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$items",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getFieldDefinition",168],"(",")",["T_OBJECT_OPERATOR","->",168],["T_STRING","getTargetEntityTypeId",168],"(",")",["T_WHITESPACE","\n        ",168],".",["T_WHITESPACE"," ",169],["T_VARIABLE","$items",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getFieldDefinition",169],"(",")",["T_OBJECT_OPERATOR","->",169],["T_STRING","getTargetBundle",169],"(",")",["T_WHITESPACE","\n        ",169],".",["T_WHITESPACE"," ",170],["T_VARIABLE","$items",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getName",170],"(",")",["T_WHITESPACE","\n        ",170],["T_COMMENT","\/\/ We include the referencing entity, so we can render default images\n",171],["T_WHITESPACE","        ",172],["T_COMMENT","\/\/ without hitting recursive protections.\n",172],["T_WHITESPACE","        ",173],".",["T_WHITESPACE"," ",173],["T_VARIABLE","$items",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getEntity",173],"(",")",["T_OBJECT_OPERATOR","->",173],["T_STRING","id",173],"(",")",["T_WHITESPACE","\n        ",173],".",["T_WHITESPACE"," ",174],["T_VARIABLE","$entity",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getEntityTypeId",174],"(",")",["T_WHITESPACE","\n        ",174],".",["T_WHITESPACE"," ",175],["T_VARIABLE","$entity",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","id",175],"(",")",";",["T_WHITESPACE","\n\n      ",175],["T_IF","if",177],["T_WHITESPACE"," ",177],"(",["T_ISSET","isset",177],"(",["T_STATIC","static",177],["T_DOUBLE_COLON","::",177],["T_VARIABLE","$recursiveRenderDepth",177],"[",["T_VARIABLE","$recursive_render_id",177],"]",")",")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n        ",177],["T_STATIC","static",178],["T_DOUBLE_COLON","::",178],["T_VARIABLE","$recursiveRenderDepth",178],"[",["T_VARIABLE","$recursive_render_id",178],"]",["T_INC","++",178],";",["T_WHITESPACE","\n      ",178],"}",["T_WHITESPACE","\n      ",179],["T_ELSE","else",180],["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n        ",180],["T_STATIC","static",181],["T_DOUBLE_COLON","::",181],["T_VARIABLE","$recursiveRenderDepth",181],"[",["T_VARIABLE","$recursive_render_id",181],"]",["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_LNUMBER","1",181],";",["T_WHITESPACE","\n      ",181],"}",["T_WHITESPACE","\n\n      ",182],["T_COMMENT","\/\/ Protect ourselves from recursive rendering.\n",184],["T_WHITESPACE","      ",185],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_STATIC","static",185],["T_DOUBLE_COLON","::",185],["T_VARIABLE","$recursiveRenderDepth",185],"[",["T_VARIABLE","$recursive_render_id",185],"]",["T_WHITESPACE"," ",185],">",["T_WHITESPACE"," ",185],["T_STATIC","static",185],["T_DOUBLE_COLON","::",185],["T_STRING","RECURSIVE_RENDER_LIMIT",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","loggerFactory",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","get",186],"(",["T_CONSTANT_ENCAPSED_STRING","'entity'",186],")",["T_OBJECT_OPERATOR","->",186],["T_STRING","error",186],"(",["T_CONSTANT_ENCAPSED_STRING","'Recursive rendering detected when rendering entity %entity_type: %entity_id, using the %field_name field on the %bundle_name bundle. Aborting rendering.'",186],",",["T_WHITESPACE"," ",186],"[",["T_WHITESPACE","\n          ",186],["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$entity",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getEntityTypeId",187],"(",")",",",["T_WHITESPACE","\n          ",187],["T_CONSTANT_ENCAPSED_STRING","'%entity_id'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$entity",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","id",188],"(",")",",",["T_WHITESPACE","\n          ",188],["T_CONSTANT_ENCAPSED_STRING","'%field_name'",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$items",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getName",189],"(",")",",",["T_WHITESPACE","\n          ",189],["T_CONSTANT_ENCAPSED_STRING","'%bundle_name'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$items",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getFieldDefinition",190],"(",")",["T_OBJECT_OPERATOR","->",190],["T_STRING","getTargetBundle",190],"(",")",",",["T_WHITESPACE","\n        ",190],"]",")",";",["T_WHITESPACE","\n        ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$elements",192],";",["T_WHITESPACE","\n      ",192],"}",["T_WHITESPACE","\n\n      ",193],["T_VARIABLE","$view_builder",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","entityTypeManager",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getViewBuilder",195],"(",["T_VARIABLE","$entity",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getEntityTypeId",195],"(",")",")",";",["T_WHITESPACE","\n      ",195],["T_VARIABLE","$elements",196],"[",["T_VARIABLE","$delta",196],"]",["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$view_builder",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","view",196],"(",["T_VARIABLE","$entity",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$view_mode",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$entity",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","language",196],"(",")",["T_OBJECT_OPERATOR","->",196],["T_STRING","getId",196],"(",")",")",";",["T_WHITESPACE","\n\n      ",196],["T_COMMENT","\/\/ Add a resource attribute to set the mapping property's value to the\n",198],["T_WHITESPACE","      ",199],["T_COMMENT","\/\/ entity's url. Since we don't know what the markup of the entity will\n",199],["T_WHITESPACE","      ",200],["T_COMMENT","\/\/ be, we shouldn't rely on it for structured data such as RDFa.\n",200],["T_WHITESPACE","      ",201],["T_IF","if",201],["T_WHITESPACE"," ",201],"(","!",["T_EMPTY","empty",201],"(",["T_VARIABLE","$items",201],"[",["T_VARIABLE","$delta",201],"]",["T_OBJECT_OPERATOR","->",201],["T_STRING","_attributes",201],")",["T_WHITESPACE"," ",201],["T_BOOLEAN_AND","&&",201],["T_WHITESPACE"," ",201],"!",["T_VARIABLE","$entity",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","isNew",201],"(",")",["T_WHITESPACE"," ",201],["T_BOOLEAN_AND","&&",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$entity",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","hasLinkTemplate",201],"(",["T_CONSTANT_ENCAPSED_STRING","'canonical'",201],")",")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$items",202],"[",["T_VARIABLE","$delta",202],"]",["T_OBJECT_OPERATOR","->",202],["T_STRING","_attributes",202],["T_WHITESPACE"," ",202],["T_PLUS_EQUAL","+=",202],["T_WHITESPACE"," ",202],["T_ARRAY","array",202],"(",["T_CONSTANT_ENCAPSED_STRING","'resource'",202],["T_WHITESPACE"," ",202],["T_DOUBLE_ARROW","=>",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$entity",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","toUrl",202],"(",")",["T_OBJECT_OPERATOR","->",202],["T_STRING","toString",202],"(",")",")",";",["T_WHITESPACE","\n      ",202],"}",["T_WHITESPACE","\n    ",203],"}",["T_WHITESPACE","\n\n    ",204],["T_RETURN","return",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$elements",206],";",["T_WHITESPACE","\n  ",206],"}",["T_WHITESPACE","\n\n  ",207],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",209],["T_WHITESPACE","\n  ",211],["T_PUBLIC","public",212],["T_WHITESPACE"," ",212],["T_STATIC","static",212],["T_WHITESPACE"," ",212],["T_FUNCTION","function",212],["T_WHITESPACE"," ",212],["T_STRING","isApplicable",212],"(",["T_STRING","FieldDefinitionInterface",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$field_definition",212],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n    ",212],["T_COMMENT","\/\/ This formatter is only available for entity types that have a view\n",213],["T_WHITESPACE","    ",214],["T_COMMENT","\/\/ builder.\n",214],["T_WHITESPACE","    ",215],["T_VARIABLE","$target_type",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$field_definition",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getFieldStorageDefinition",215],"(",")",["T_OBJECT_OPERATOR","->",215],["T_STRING","getSetting",215],"(",["T_CONSTANT_ENCAPSED_STRING","'target_type'",215],")",";",["T_WHITESPACE","\n    ",215],["T_RETURN","return",216],["T_WHITESPACE"," ",216],["T_NS_SEPARATOR","\\",216],["T_STRING","Drupal",216],["T_DOUBLE_COLON","::",216],["T_STRING","entityManager",216],"(",")",["T_OBJECT_OPERATOR","->",216],["T_STRING","getDefinition",216],"(",["T_VARIABLE","$target_type",216],")",["T_OBJECT_OPERATOR","->",216],["T_STRING","hasViewBuilderClass",216],"(",")",";",["T_WHITESPACE","\n  ",216],"}",["T_WHITESPACE","\n\n",217],"}",["T_WHITESPACE","\n",219]]