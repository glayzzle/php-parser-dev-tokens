[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Field",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Access",5],["T_NS_SEPARATOR","\\",5],["T_STRING","AccessResult",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldableEntityInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Form",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FormStateInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Language",8],["T_NS_SEPARATOR","\\",8],["T_STRING","LanguageInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Session",9],["T_NS_SEPARATOR","\\",9],["T_STRING","AccountInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TypedData",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Plugin",10],["T_NS_SEPARATOR","\\",10],["T_STRING","DataType",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ItemList",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Represents an entity field; that is, a list of field item objects.\n *\n * An entity field is a list of field items, each containing a set of\n * properties. Note that even single-valued entity fields are represented as\n * list of field items, however for easy access to the contained item the entity\n * field delegates __get() and __set() calls directly to the first item.\n *\/",12],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","FieldItemList",20],["T_WHITESPACE"," ",20],["T_EXTENDS","extends",20],["T_WHITESPACE"," ",20],["T_STRING","ItemList",20],["T_WHITESPACE"," ",20],["T_IMPLEMENTS","implements",20],["T_WHITESPACE"," ",20],["T_STRING","FieldItemListInterface",20],["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * Numerically indexed array of field items.\n   *\n   * @var \\Drupal\\Core\\Field\\FieldItemInterface[]\n   *\/",22],["T_WHITESPACE","\n  ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$list",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_ARRAY","array",27],"(",")",";",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * The langcode of the field values held in the object.\n   *\n   * @var string\n   *\/",29],["T_WHITESPACE","\n  ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$langcode",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_STRING","LanguageInterface",34],["T_DOUBLE_COLON","::",34],["T_STRING","LANGCODE_NOT_SPECIFIED",34],";",["T_WHITESPACE","\n\n  ",34],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",36],["T_WHITESPACE","\n  ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","createItem",39],"(",["T_VARIABLE","$offset",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_LNUMBER","0",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$value",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","NULL",39],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n    ",39],["T_RETURN","return",40],["T_WHITESPACE"," ",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Drupal",40],["T_DOUBLE_COLON","::",40],["T_STRING","service",40],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.field.field_type'",40],")",["T_OBJECT_OPERATOR","->",40],["T_STRING","createFieldItem",40],"(",["T_VARIABLE","$this",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$offset",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$value",40],")",";",["T_WHITESPACE","\n  ",40],"}",["T_WHITESPACE","\n\n  ",41],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",43],["T_WHITESPACE","\n  ",45],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","getEntity",46],"(",")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n    ",46],["T_COMMENT","\/\/ The \"parent\" is the TypedData object for the entity, we need to unwrap\n",47],["T_WHITESPACE","    ",48],["T_COMMENT","\/\/ the actual entity.\n",48],["T_WHITESPACE","    ",49],["T_RETURN","return",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getParent",49],"(",")",["T_OBJECT_OPERATOR","->",49],["T_STRING","getValue",49],"(",")",";",["T_WHITESPACE","\n  ",49],"}",["T_WHITESPACE","\n\n  ",50],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",52],["T_WHITESPACE","\n  ",54],["T_PUBLIC","public",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","setLangcode",55],"(",["T_VARIABLE","$langcode",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","langcode",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$langcode",56],";",["T_WHITESPACE","\n  ",56],"}",["T_WHITESPACE","\n\n  ",57],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",59],["T_WHITESPACE","\n  ",61],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","getLangcode",62],"(",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n    ",62],["T_RETURN","return",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","langcode",63],";",["T_WHITESPACE","\n  ",63],"}",["T_WHITESPACE","\n\n  ",64],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",66],["T_WHITESPACE","\n  ",68],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","getFieldDefinition",69],"(",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n    ",69],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","definition",70],";",["T_WHITESPACE","\n  ",70],"}",["T_WHITESPACE","\n\n  ",71],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",73],["T_WHITESPACE","\n  ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","getSettings",76],"(",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n    ",76],["T_RETURN","return",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","definition",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getSettings",77],"(",")",";",["T_WHITESPACE","\n  ",77],"}",["T_WHITESPACE","\n\n  ",78],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",80],["T_WHITESPACE","\n  ",82],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","getSetting",83],"(",["T_VARIABLE","$setting_name",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n    ",83],["T_RETURN","return",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","definition",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getSetting",84],"(",["T_VARIABLE","$setting_name",84],")",";",["T_WHITESPACE","\n  ",84],"}",["T_WHITESPACE","\n\n  ",85],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",87],["T_WHITESPACE","\n  ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","filterEmptyItems",90],"(",")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","filter",91],"(",["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$item",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n      ",91],["T_RETURN","return",92],["T_WHITESPACE"," ",92],"!",["T_VARIABLE","$item",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","isEmpty",92],"(",")",";",["T_WHITESPACE","\n    ",92],"}",")",";",["T_WHITESPACE","\n    ",93],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],";",["T_WHITESPACE","\n  ",94],"}",["T_WHITESPACE","\n\n  ",95],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   * @todo Revisit the need when all entity types are converted to NG entities.\n   *\/",97],["T_WHITESPACE","\n  ",100],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","getValue",101],"(",["T_VARIABLE","$include_computed",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_STRING","FALSE",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$values",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_ARRAY","array",102],"(",")",";",["T_WHITESPACE","\n    ",102],["T_FOREACH","foreach",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","list",103],["T_WHITESPACE"," ",103],["T_AS","as",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$delta",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$item",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n      ",103],["T_VARIABLE","$values",104],"[",["T_VARIABLE","$delta",104],"]",["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$item",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getValue",104],"(",["T_VARIABLE","$include_computed",104],")",";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n    ",105],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$values",106],";",["T_WHITESPACE","\n  ",106],"}",["T_WHITESPACE","\n\n  ",107],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",109],["T_WHITESPACE","\n  ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","setValue",112],"(",["T_VARIABLE","$values",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$notify",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","TRUE",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n    ",112],["T_COMMENT","\/\/ Support passing in only the value of the first item, either as a literal\n",113],["T_WHITESPACE","    ",114],["T_COMMENT","\/\/ (value of the first property) or as an array of properties.\n",114],["T_WHITESPACE","    ",115],["T_IF","if",115],["T_WHITESPACE"," ",115],"(",["T_ISSET","isset",115],"(",["T_VARIABLE","$values",115],")",["T_WHITESPACE"," ",115],["T_BOOLEAN_AND","&&",115],["T_WHITESPACE"," ",115],"(","!",["T_STRING","is_array",115],"(",["T_VARIABLE","$values",115],")",["T_WHITESPACE"," ",115],["T_BOOLEAN_OR","||",115],["T_WHITESPACE"," ",115],"(","!",["T_EMPTY","empty",115],"(",["T_VARIABLE","$values",115],")",["T_WHITESPACE"," ",115],["T_BOOLEAN_AND","&&",115],["T_WHITESPACE"," ",115],"!",["T_STRING","is_numeric",115],"(",["T_STRING","current",115],"(",["T_STRING","array_keys",115],"(",["T_VARIABLE","$values",115],")",")",")",")",")",")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n      ",115],["T_VARIABLE","$values",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",["T_LNUMBER","0",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$values",116],")",";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n    ",117],["T_STRING","parent",118],["T_DOUBLE_COLON","::",118],["T_STRING","setValue",118],"(",["T_VARIABLE","$values",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$notify",118],")",";",["T_WHITESPACE","\n  ",118],"}",["T_WHITESPACE","\n\n  ",119],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",121],["T_WHITESPACE","\n  ",123],["T_PUBLIC","public",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","__get",124],"(",["T_VARIABLE","$property_name",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n    ",124],["T_COMMENT","\/\/ For empty fields, $entity->field->property is NULL.\n",125],["T_WHITESPACE","    ",126],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$item",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","first",126],"(",")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n      ",126],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$item",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","__get",127],"(",["T_VARIABLE","$property_name",127],")",";",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n  ",128],"}",["T_WHITESPACE","\n\n  ",129],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",131],["T_WHITESPACE","\n  ",133],["T_PUBLIC","public",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","__set",134],"(",["T_VARIABLE","$property_name",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$value",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n    ",134],["T_COMMENT","\/\/ For empty fields, $entity->field->property = $value automatically\n",135],["T_WHITESPACE","    ",136],["T_COMMENT","\/\/ creates the item before assigning the value.\n",136],["T_WHITESPACE","    ",137],["T_VARIABLE","$item",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","first",137],"(",")",["T_WHITESPACE"," ",137],"?",":",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","appendItem",137],"(",")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$item",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","__set",138],"(",["T_VARIABLE","$property_name",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$value",138],")",";",["T_WHITESPACE","\n  ",138],"}",["T_WHITESPACE","\n\n  ",139],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",141],["T_WHITESPACE","\n  ",143],["T_PUBLIC","public",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","__isset",144],"(",["T_VARIABLE","$property_name",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n    ",144],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_VARIABLE","$item",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","first",145],"(",")",")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n      ",145],["T_RETURN","return",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$item",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","__isset",146],"(",["T_VARIABLE","$property_name",146],")",";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n    ",147],["T_RETURN","return",148],["T_WHITESPACE"," ",148],["T_STRING","FALSE",148],";",["T_WHITESPACE","\n  ",148],"}",["T_WHITESPACE","\n\n  ",149],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",151],["T_WHITESPACE","\n  ",153],["T_PUBLIC","public",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","__unset",154],"(",["T_VARIABLE","$property_name",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n    ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$item",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","first",155],"(",")",")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n      ",155],["T_VARIABLE","$item",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","__unset",156],"(",["T_VARIABLE","$property_name",156],")",";",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n  ",157],"}",["T_WHITESPACE","\n\n  ",158],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",160],["T_WHITESPACE","\n  ",162],["T_PUBLIC","public",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","access",163],"(",["T_VARIABLE","$operation",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'view'",163],",",["T_WHITESPACE"," ",163],["T_STRING","AccountInterface",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$account",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_STRING","NULL",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$return_as_object",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_STRING","FALSE",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n    ",163],["T_VARIABLE","$access_control_handler",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_NS_SEPARATOR","\\",164],["T_STRING","Drupal",164],["T_DOUBLE_COLON","::",164],["T_STRING","entityManager",164],"(",")",["T_OBJECT_OPERATOR","->",164],["T_STRING","getAccessControlHandler",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getEntity",164],"(",")",["T_OBJECT_OPERATOR","->",164],["T_STRING","getEntityTypeId",164],"(",")",")",";",["T_WHITESPACE","\n    ",164],["T_RETURN","return",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$access_control_handler",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","fieldAccess",165],"(",["T_VARIABLE","$operation",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getFieldDefinition",165],"(",")",",",["T_WHITESPACE"," ",165],["T_VARIABLE","$account",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$return_as_object",165],")",";",["T_WHITESPACE","\n  ",165],"}",["T_WHITESPACE","\n\n  ",166],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",168],["T_WHITESPACE","\n  ",170],["T_PUBLIC","public",171],["T_WHITESPACE"," ",171],["T_FUNCTION","function",171],["T_WHITESPACE"," ",171],["T_STRING","defaultAccess",171],"(",["T_VARIABLE","$operation",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'view'",171],",",["T_WHITESPACE"," ",171],["T_STRING","AccountInterface",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$account",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_STRING","NULL",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n    ",171],["T_COMMENT","\/\/ Grant access per default.\n",172],["T_WHITESPACE","    ",173],["T_RETURN","return",173],["T_WHITESPACE"," ",173],["T_STRING","AccessResult",173],["T_DOUBLE_COLON","::",173],["T_STRING","allowed",173],"(",")",";",["T_WHITESPACE","\n  ",173],"}",["T_WHITESPACE","\n\n  ",174],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",176],["T_WHITESPACE","\n  ",178],["T_PUBLIC","public",179],["T_WHITESPACE"," ",179],["T_FUNCTION","function",179],["T_WHITESPACE"," ",179],["T_STRING","applyDefaultValue",179],"(",["T_VARIABLE","$notify",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_STRING","TRUE",179],")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n    ",179],["T_IF","if",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$value",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getFieldDefinition",180],"(",")",["T_OBJECT_OPERATOR","->",180],["T_STRING","getDefaultValue",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getEntity",180],"(",")",")",")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n      ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","setValue",181],"(",["T_VARIABLE","$value",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$notify",181],")",";",["T_WHITESPACE","\n    ",181],"}",["T_WHITESPACE","\n    ",182],["T_ELSE","else",183],["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n      ",183],["T_COMMENT","\/\/ Create one field item and give it a chance to apply its defaults.\n",184],["T_WHITESPACE","      ",185],["T_COMMENT","\/\/ Remove it if this ended up doing nothing.\n",185],["T_WHITESPACE","      ",186],["T_COMMENT","\/\/ @todo Having to create an item in case it wants to set a value is\n",186],["T_WHITESPACE","      ",187],["T_COMMENT","\/\/ absurd. Remove that in https:\/\/www.drupal.org\/node\/2356623.\n",187],["T_WHITESPACE","      ",188],["T_VARIABLE","$item",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","first",188],"(",")",["T_WHITESPACE"," ",188],"?",":",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","appendItem",188],"(",")",";",["T_WHITESPACE","\n      ",188],["T_VARIABLE","$item",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","applyDefaultValue",189],"(",["T_STRING","FALSE",189],")",";",["T_WHITESPACE","\n      ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","filterEmptyItems",190],"(",")",";",["T_WHITESPACE","\n    ",190],"}",["T_WHITESPACE","\n    ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],";",["T_WHITESPACE","\n  ",192],"}",["T_WHITESPACE","\n\n  ",193],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",195],["T_WHITESPACE","\n  ",197],["T_PUBLIC","public",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","preSave",198],"(",")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n    ",198],["T_COMMENT","\/\/ Filter out empty items.\n",199],["T_WHITESPACE","    ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","filterEmptyItems",200],"(",")",";",["T_WHITESPACE","\n\n    ",200],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","delegateMethod",202],"(",["T_CONSTANT_ENCAPSED_STRING","'preSave'",202],")",";",["T_WHITESPACE","\n  ",202],"}",["T_WHITESPACE","\n\n  ",203],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",205],["T_WHITESPACE","\n  ",207],["T_PUBLIC","public",208],["T_WHITESPACE"," ",208],["T_FUNCTION","function",208],["T_WHITESPACE"," ",208],["T_STRING","postSave",208],"(",["T_VARIABLE","$update",208],")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n    ",208],["T_VARIABLE","$result",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","delegateMethod",209],"(",["T_CONSTANT_ENCAPSED_STRING","'postSave'",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$update",209],")",";",["T_WHITESPACE","\n    ",209],["T_RETURN","return",210],["T_WHITESPACE"," ",210],["T_BOOL_CAST","(bool)",210],["T_WHITESPACE"," ",210],["T_STRING","array_filter",210],"(",["T_VARIABLE","$result",210],")",";",["T_WHITESPACE","\n  ",210],"}",["T_WHITESPACE","\n\n  ",211],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",213],["T_WHITESPACE","\n  ",215],["T_PUBLIC","public",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","delete",216],"(",")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n    ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","delegateMethod",217],"(",["T_CONSTANT_ENCAPSED_STRING","'delete'",217],")",";",["T_WHITESPACE","\n  ",217],"}",["T_WHITESPACE","\n\n  ",218],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",220],["T_WHITESPACE","\n  ",222],["T_PUBLIC","public",223],["T_WHITESPACE"," ",223],["T_FUNCTION","function",223],["T_WHITESPACE"," ",223],["T_STRING","deleteRevision",223],"(",")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n    ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","delegateMethod",224],"(",["T_CONSTANT_ENCAPSED_STRING","'deleteRevision'",224],")",";",["T_WHITESPACE","\n  ",224],"}",["T_WHITESPACE","\n\n  ",225],["T_DOC_COMMENT","\/**\n   * Calls a method on each FieldItem.\n   *\n   * Any argument passed will be forwarded to the invoked method.\n   *\n   * @param string $method\n   *   The name of the method to be invoked.\n   *\n   * @return array\n   *   An array of results keyed by delta.\n   *\/",227],["T_WHITESPACE","\n  ",237],["T_PROTECTED","protected",238],["T_WHITESPACE"," ",238],["T_FUNCTION","function",238],["T_WHITESPACE"," ",238],["T_STRING","delegateMethod",238],"(",["T_VARIABLE","$method",238],")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n    ",238],["T_VARIABLE","$result",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],"[","]",";",["T_WHITESPACE","\n    ",239],["T_VARIABLE","$args",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_STRING","array_slice",240],"(",["T_STRING","func_get_args",240],"(",")",",",["T_WHITESPACE"," ",240],["T_LNUMBER","1",240],")",";",["T_WHITESPACE","\n    ",240],["T_FOREACH","foreach",241],["T_WHITESPACE"," ",241],"(",["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","list",241],["T_WHITESPACE"," ",241],["T_AS","as",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$delta",241],["T_WHITESPACE"," ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$item",241],")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n      ",241],["T_COMMENT","\/\/ call_user_func_array() is way slower than a direct call so we avoid\n",242],["T_WHITESPACE","      ",243],["T_COMMENT","\/\/ using it if have no parameters.\n",243],["T_WHITESPACE","      ",244],["T_VARIABLE","$result",244],"[",["T_VARIABLE","$delta",244],"]",["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$args",244],["T_WHITESPACE"," ",244],"?",["T_WHITESPACE"," ",244],["T_STRING","call_user_func_array",244],"(","[",["T_VARIABLE","$item",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$method",244],"]",",",["T_WHITESPACE"," ",244],["T_VARIABLE","$args",244],")",["T_WHITESPACE"," ",244],":",["T_WHITESPACE"," ",244],["T_VARIABLE","$item",244],["T_OBJECT_OPERATOR","->",244],"{",["T_VARIABLE","$method",244],"}","(",")",";",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n    ",245],["T_RETURN","return",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$result",246],";",["T_WHITESPACE","\n  ",246],"}",["T_WHITESPACE","\n\n  ",247],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",249],["T_WHITESPACE","\n  ",251],["T_PUBLIC","public",252],["T_WHITESPACE"," ",252],["T_FUNCTION","function",252],["T_WHITESPACE"," ",252],["T_STRING","view",252],"(",["T_VARIABLE","$display_options",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_ARRAY","array",252],"(",")",")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n    ",252],["T_VARIABLE","$view_builder",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_NS_SEPARATOR","\\",253],["T_STRING","Drupal",253],["T_DOUBLE_COLON","::",253],["T_STRING","entityManager",253],"(",")",["T_OBJECT_OPERATOR","->",253],["T_STRING","getViewBuilder",253],"(",["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getEntity",253],"(",")",["T_OBJECT_OPERATOR","->",253],["T_STRING","getEntityTypeId",253],"(",")",")",";",["T_WHITESPACE","\n    ",253],["T_RETURN","return",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$view_builder",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","viewField",254],"(",["T_VARIABLE","$this",254],",",["T_WHITESPACE"," ",254],["T_VARIABLE","$display_options",254],")",";",["T_WHITESPACE","\n  ",254],"}",["T_WHITESPACE","\n\n  ",255],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",257],["T_WHITESPACE","\n  ",259],["T_PUBLIC","public",260],["T_WHITESPACE"," ",260],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],["T_STRING","generateSampleItems",260],"(",["T_VARIABLE","$count",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_LNUMBER","1",260],")",["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n    ",260],["T_VARIABLE","$field_definition",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","getFieldDefinition",261],"(",")",";",["T_WHITESPACE","\n    ",261],["T_VARIABLE","$field_type_class",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_NS_SEPARATOR","\\",262],["T_STRING","Drupal",262],["T_DOUBLE_COLON","::",262],["T_STRING","service",262],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.field.field_type'",262],")",["T_OBJECT_OPERATOR","->",262],["T_STRING","getPluginClass",262],"(",["T_VARIABLE","$field_definition",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getType",262],"(",")",")",";",["T_WHITESPACE","\n    ",262],["T_FOR","for",263],["T_WHITESPACE"," ",263],"(",["T_VARIABLE","$delta",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_LNUMBER","0",263],";",["T_WHITESPACE"," ",263],["T_VARIABLE","$delta",263],["T_WHITESPACE"," ",263],"<",["T_WHITESPACE"," ",263],["T_VARIABLE","$count",263],";",["T_WHITESPACE"," ",263],["T_VARIABLE","$delta",263],["T_INC","++",263],")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n      ",263],["T_VARIABLE","$values",264],"[",["T_VARIABLE","$delta",264],"]",["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_VARIABLE","$field_type_class",264],["T_DOUBLE_COLON","::",264],["T_STRING","generateSampleValue",264],"(",["T_VARIABLE","$field_definition",264],")",";",["T_WHITESPACE","\n    ",264],"}",["T_WHITESPACE","\n    ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","setValue",266],"(",["T_VARIABLE","$values",266],")",";",["T_WHITESPACE","\n  ",266],"}",["T_WHITESPACE","\n\n  ",267],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",269],["T_WHITESPACE","\n  ",271],["T_PUBLIC","public",272],["T_WHITESPACE"," ",272],["T_FUNCTION","function",272],["T_WHITESPACE"," ",272],["T_STRING","getConstraints",272],"(",")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n    ",272],["T_VARIABLE","$constraints",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_STRING","parent",273],["T_DOUBLE_COLON","::",273],["T_STRING","getConstraints",273],"(",")",";",["T_WHITESPACE","\n    ",273],["T_COMMENT","\/\/ Check that the number of values doesn't exceed the field cardinality. For\n",274],["T_WHITESPACE","    ",275],["T_COMMENT","\/\/ form submitted values, this can only happen with 'multiple value'\n",275],["T_WHITESPACE","    ",276],["T_COMMENT","\/\/ widgets.\n",276],["T_WHITESPACE","    ",277],["T_VARIABLE","$cardinality",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","getFieldDefinition",277],"(",")",["T_OBJECT_OPERATOR","->",277],["T_STRING","getFieldStorageDefinition",277],"(",")",["T_OBJECT_OPERATOR","->",277],["T_STRING","getCardinality",277],"(",")",";",["T_WHITESPACE","\n    ",277],["T_IF","if",278],["T_WHITESPACE"," ",278],"(",["T_VARIABLE","$cardinality",278],["T_WHITESPACE"," ",278],["T_IS_NOT_EQUAL","!=",278],["T_WHITESPACE"," ",278],["T_STRING","FieldStorageDefinitionInterface",278],["T_DOUBLE_COLON","::",278],["T_STRING","CARDINALITY_UNLIMITED",278],")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n      ",278],["T_VARIABLE","$constraints",279],"[","]",["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","getTypedDataManager",279],"(",")",["T_WHITESPACE","\n        ",279],["T_OBJECT_OPERATOR","->",280],["T_STRING","getValidationConstraintManager",280],"(",")",["T_WHITESPACE","\n        ",280],["T_OBJECT_OPERATOR","->",281],["T_STRING","create",281],"(",["T_CONSTANT_ENCAPSED_STRING","'Count'",281],",",["T_WHITESPACE"," ",281],["T_ARRAY","array",281],"(",["T_WHITESPACE","\n          ",281],["T_CONSTANT_ENCAPSED_STRING","'max'",282],["T_WHITESPACE"," ",282],["T_DOUBLE_ARROW","=>",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$cardinality",282],",",["T_WHITESPACE","\n          ",282],["T_CONSTANT_ENCAPSED_STRING","'maxMessage'",283],["T_WHITESPACE"," ",283],["T_DOUBLE_ARROW","=>",283],["T_WHITESPACE"," ",283],["T_STRING","t",283],"(",["T_CONSTANT_ENCAPSED_STRING","'%name: this field cannot hold more than @count values.'",283],",",["T_WHITESPACE"," ",283],["T_ARRAY","array",283],"(",["T_CONSTANT_ENCAPSED_STRING","'%name'",283],["T_WHITESPACE"," ",283],["T_DOUBLE_ARROW","=>",283],["T_WHITESPACE"," ",283],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","getFieldDefinition",283],"(",")",["T_OBJECT_OPERATOR","->",283],["T_STRING","getLabel",283],"(",")",",",["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","'@count'",283],["T_WHITESPACE"," ",283],["T_DOUBLE_ARROW","=>",283],["T_WHITESPACE"," ",283],["T_VARIABLE","$cardinality",283],")",")",",",["T_WHITESPACE","\n        ",283],")",")",";",["T_WHITESPACE","\n    ",284],"}",["T_WHITESPACE","\n\n    ",285],["T_RETURN","return",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$constraints",287],";",["T_WHITESPACE","\n  ",287],"}",["T_WHITESPACE","\n\n  ",288],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",290],["T_WHITESPACE","\n  ",292],["T_PUBLIC","public",293],["T_WHITESPACE"," ",293],["T_FUNCTION","function",293],["T_WHITESPACE"," ",293],["T_STRING","defaultValuesForm",293],"(",["T_ARRAY","array",293],["T_WHITESPACE"," ",293],"&",["T_VARIABLE","$form",293],",",["T_WHITESPACE"," ",293],["T_STRING","FormStateInterface",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$form_state",293],")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n    ",293],["T_IF","if",294],["T_WHITESPACE"," ",294],"(",["T_EMPTY","empty",294],"(",["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","getFieldDefinition",294],"(",")",["T_OBJECT_OPERATOR","->",294],["T_STRING","getDefaultValueCallback",294],"(",")",")",")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n      ",294],["T_IF","if",295],["T_WHITESPACE"," ",295],"(",["T_VARIABLE","$widget",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","defaultValueWidget",295],"(",["T_VARIABLE","$form_state",295],")",")",["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n        ",295],["T_COMMENT","\/\/ Place the input in a separate place in the submitted values tree.\n",296],["T_WHITESPACE","        ",297],["T_VARIABLE","$element",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_ARRAY","array",297],"(",["T_CONSTANT_ENCAPSED_STRING","'#parents'",297],["T_WHITESPACE"," ",297],["T_DOUBLE_ARROW","=>",297],["T_WHITESPACE"," ",297],["T_ARRAY","array",297],"(",["T_CONSTANT_ENCAPSED_STRING","'default_value_input'",297],")",")",";",["T_WHITESPACE","\n        ",297],["T_VARIABLE","$element",298],["T_WHITESPACE"," ",298],["T_PLUS_EQUAL","+=",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$widget",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","form",298],"(",["T_VARIABLE","$this",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$element",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$form_state",298],")",";",["T_WHITESPACE","\n\n        ",298],["T_RETURN","return",300],["T_WHITESPACE"," ",300],["T_VARIABLE","$element",300],";",["T_WHITESPACE","\n      ",300],"}",["T_WHITESPACE","\n      ",301],["T_ELSE","else",302],["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n        ",302],["T_RETURN","return",303],["T_WHITESPACE"," ",303],"[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",303],["T_WHITESPACE"," ",303],["T_DOUBLE_ARROW","=>",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","t",303],"(",["T_CONSTANT_ENCAPSED_STRING","'No widget available for: %type.'",303],",",["T_WHITESPACE"," ",303],"[",["T_CONSTANT_ENCAPSED_STRING","'%type'",303],["T_WHITESPACE"," ",303],["T_DOUBLE_ARROW","=>",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","getFieldDefinition",303],"(",")",["T_OBJECT_OPERATOR","->",303],["T_STRING","getType",303],"(",")","]",")","]",";",["T_WHITESPACE","\n      ",303],"}",["T_WHITESPACE","\n    ",304],"}",["T_WHITESPACE","\n  ",305],"}",["T_WHITESPACE","\n\n  ",306],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",308],["T_WHITESPACE","\n  ",310],["T_PUBLIC","public",311],["T_WHITESPACE"," ",311],["T_FUNCTION","function",311],["T_WHITESPACE"," ",311],["T_STRING","defaultValuesFormValidate",311],"(",["T_ARRAY","array",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$element",311],",",["T_WHITESPACE"," ",311],["T_ARRAY","array",311],["T_WHITESPACE"," ",311],"&",["T_VARIABLE","$form",311],",",["T_WHITESPACE"," ",311],["T_STRING","FormStateInterface",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$form_state",311],")",["T_WHITESPACE"," ",311],"{",["T_WHITESPACE","\n    ",311],["T_COMMENT","\/\/ Extract the submitted value, and validate it.\n",312],["T_WHITESPACE","    ",313],["T_IF","if",313],["T_WHITESPACE"," ",313],"(",["T_VARIABLE","$widget",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","defaultValueWidget",313],"(",["T_VARIABLE","$form_state",313],")",")",["T_WHITESPACE"," ",313],"{",["T_WHITESPACE","\n      ",313],["T_VARIABLE","$widget",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","extractFormValues",314],"(",["T_VARIABLE","$this",314],",",["T_WHITESPACE"," ",314],["T_VARIABLE","$element",314],",",["T_WHITESPACE"," ",314],["T_VARIABLE","$form_state",314],")",";",["T_WHITESPACE","\n      ",314],["T_COMMENT","\/\/ Force a non-required field definition.\n",315],["T_WHITESPACE","      ",316],["T_COMMENT","\/\/ @see self::defaultValueWidget().\n",316],["T_WHITESPACE","      ",317],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","getFieldDefinition",317],"(",")",["T_OBJECT_OPERATOR","->",317],["T_STRING","setRequired",317],"(",["T_STRING","FALSE",317],")",";",["T_WHITESPACE","\n      ",317],["T_VARIABLE","$violations",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","validate",318],"(",")",";",["T_WHITESPACE","\n\n      ",318],["T_COMMENT","\/\/ Assign reported errors to the correct form element.\n",320],["T_WHITESPACE","      ",321],["T_IF","if",321],["T_WHITESPACE"," ",321],"(",["T_STRING","count",321],"(",["T_VARIABLE","$violations",321],")",")",["T_WHITESPACE"," ",321],"{",["T_WHITESPACE","\n        ",321],["T_VARIABLE","$widget",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","flagErrors",322],"(",["T_VARIABLE","$this",322],",",["T_WHITESPACE"," ",322],["T_VARIABLE","$violations",322],",",["T_WHITESPACE"," ",322],["T_VARIABLE","$element",322],",",["T_WHITESPACE"," ",322],["T_VARIABLE","$form_state",322],")",";",["T_WHITESPACE","\n      ",322],"}",["T_WHITESPACE","\n    ",323],"}",["T_WHITESPACE","\n  ",324],"}",["T_WHITESPACE","\n\n  ",325],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",327],["T_WHITESPACE","\n  ",329],["T_PUBLIC","public",330],["T_WHITESPACE"," ",330],["T_FUNCTION","function",330],["T_WHITESPACE"," ",330],["T_STRING","defaultValuesFormSubmit",330],"(",["T_ARRAY","array",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$element",330],",",["T_WHITESPACE"," ",330],["T_ARRAY","array",330],["T_WHITESPACE"," ",330],"&",["T_VARIABLE","$form",330],",",["T_WHITESPACE"," ",330],["T_STRING","FormStateInterface",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$form_state",330],")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n    ",330],["T_COMMENT","\/\/ Extract the submitted value, and return it as an array.\n",331],["T_WHITESPACE","    ",332],["T_IF","if",332],["T_WHITESPACE"," ",332],"(",["T_VARIABLE","$widget",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","defaultValueWidget",332],"(",["T_VARIABLE","$form_state",332],")",")",["T_WHITESPACE"," ",332],"{",["T_WHITESPACE","\n      ",332],["T_VARIABLE","$widget",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","extractFormValues",333],"(",["T_VARIABLE","$this",333],",",["T_WHITESPACE"," ",333],["T_VARIABLE","$element",333],",",["T_WHITESPACE"," ",333],["T_VARIABLE","$form_state",333],")",";",["T_WHITESPACE","\n      ",333],["T_RETURN","return",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","getValue",334],"(",")",";",["T_WHITESPACE","\n    ",334],"}",["T_WHITESPACE","\n  ",335],"}",["T_WHITESPACE","\n\n  ",336],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",338],["T_WHITESPACE","\n  ",340],["T_PUBLIC","public",341],["T_WHITESPACE"," ",341],["T_STATIC","static",341],["T_WHITESPACE"," ",341],["T_FUNCTION","function",341],["T_WHITESPACE"," ",341],["T_STRING","processDefaultValue",341],"(",["T_VARIABLE","$default_value",341],",",["T_WHITESPACE"," ",341],["T_STRING","FieldableEntityInterface",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$entity",341],",",["T_WHITESPACE"," ",341],["T_STRING","FieldDefinitionInterface",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$definition",341],")",["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n    ",341],["T_RETURN","return",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$default_value",342],";",["T_WHITESPACE","\n  ",342],"}",["T_WHITESPACE","\n\n  ",343],["T_DOC_COMMENT","\/**\n   * Returns the widget object used in default value form.\n   *\n   * @param \\Drupal\\Core\\Form\\FormStateInterface $form_state\n   *   The form state of the (entire) configuration form.\n   *\n   * @return \\Drupal\\Core\\Field\\WidgetInterface|null\n   *   A Widget object or NULL if no widget is available.\n   *\/",345],["T_WHITESPACE","\n  ",353],["T_PROTECTED","protected",354],["T_WHITESPACE"," ",354],["T_FUNCTION","function",354],["T_WHITESPACE"," ",354],["T_STRING","defaultValueWidget",354],"(",["T_STRING","FormStateInterface",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$form_state",354],")",["T_WHITESPACE"," ",354],"{",["T_WHITESPACE","\n    ",354],["T_IF","if",355],["T_WHITESPACE"," ",355],"(","!",["T_VARIABLE","$form_state",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","has",355],"(",["T_CONSTANT_ENCAPSED_STRING","'default_value_widget'",355],")",")",["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n      ",355],["T_VARIABLE","$entity",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","getEntity",356],"(",")",";",["T_WHITESPACE","\n\n      ",356],["T_COMMENT","\/\/ Force a non-required widget.\n",358],["T_WHITESPACE","      ",359],["T_VARIABLE","$definition",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","getFieldDefinition",359],"(",")",";",["T_WHITESPACE","\n      ",359],["T_VARIABLE","$definition",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","setRequired",360],"(",["T_STRING","FALSE",360],")",";",["T_WHITESPACE","\n      ",360],["T_VARIABLE","$definition",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","setDescription",361],"(",["T_CONSTANT_ENCAPSED_STRING","''",361],")",";",["T_WHITESPACE","\n\n      ",361],["T_COMMENT","\/\/ Use the widget currently configured for the 'default' form mode, or\n",363],["T_WHITESPACE","      ",364],["T_COMMENT","\/\/ fallback to the default widget for the field type.\n",364],["T_WHITESPACE","      ",365],["T_VARIABLE","$entity_form_display",365],["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_STRING","entity_get_form_display",365],"(",["T_VARIABLE","$entity",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","getEntityTypeId",365],"(",")",",",["T_WHITESPACE"," ",365],["T_VARIABLE","$entity",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","bundle",365],"(",")",",",["T_WHITESPACE"," ",365],["T_CONSTANT_ENCAPSED_STRING","'default'",365],")",";",["T_WHITESPACE","\n      ",365],["T_VARIABLE","$widget",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_VARIABLE","$entity_form_display",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","getRenderer",366],"(",["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","getFieldDefinition",366],"(",")",["T_OBJECT_OPERATOR","->",366],["T_STRING","getName",366],"(",")",")",";",["T_WHITESPACE","\n      ",366],["T_IF","if",367],["T_WHITESPACE"," ",367],"(","!",["T_VARIABLE","$widget",367],")",["T_WHITESPACE"," ",367],"{",["T_WHITESPACE","\n        ",367],["T_VARIABLE","$widget",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_NS_SEPARATOR","\\",368],["T_STRING","Drupal",368],["T_DOUBLE_COLON","::",368],["T_STRING","service",368],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.field.widget'",368],")",["T_OBJECT_OPERATOR","->",368],["T_STRING","getInstance",368],"(",["T_ARRAY","array",368],"(",["T_CONSTANT_ENCAPSED_STRING","'field_definition'",368],["T_WHITESPACE"," ",368],["T_DOUBLE_ARROW","=>",368],["T_WHITESPACE"," ",368],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","getFieldDefinition",368],"(",")",")",")",";",["T_WHITESPACE","\n      ",368],"}",["T_WHITESPACE","\n\n      ",369],["T_VARIABLE","$form_state",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","set",371],"(",["T_CONSTANT_ENCAPSED_STRING","'default_value_widget'",371],",",["T_WHITESPACE"," ",371],["T_VARIABLE","$widget",371],")",";",["T_WHITESPACE","\n    ",371],"}",["T_WHITESPACE","\n\n    ",372],["T_RETURN","return",374],["T_WHITESPACE"," ",374],["T_VARIABLE","$form_state",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","get",374],"(",["T_CONSTANT_ENCAPSED_STRING","'default_value_widget'",374],")",";",["T_WHITESPACE","\n  ",374],"}",["T_WHITESPACE","\n\n  ",375],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",377],["T_WHITESPACE","\n  ",379],["T_PUBLIC","public",380],["T_WHITESPACE"," ",380],["T_FUNCTION","function",380],["T_WHITESPACE"," ",380],["T_STRING","equals",380],"(",["T_STRING","FieldItemListInterface",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$list_to_compare",380],")",["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n    ",380],["T_VARIABLE","$columns",381],["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","getFieldDefinition",381],"(",")",["T_OBJECT_OPERATOR","->",381],["T_STRING","getFieldStorageDefinition",381],"(",")",["T_OBJECT_OPERATOR","->",381],["T_STRING","getColumns",381],"(",")",";",["T_WHITESPACE","\n    ",381],["T_VARIABLE","$count1",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_STRING","count",382],"(",["T_VARIABLE","$this",382],")",";",["T_WHITESPACE","\n    ",382],["T_VARIABLE","$count2",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_STRING","count",383],"(",["T_VARIABLE","$list_to_compare",383],")",";",["T_WHITESPACE","\n    ",383],["T_IF","if",384],["T_WHITESPACE"," ",384],"(",["T_VARIABLE","$count1",384],["T_WHITESPACE"," ",384],["T_IS_IDENTICAL","===",384],["T_WHITESPACE"," ",384],["T_LNUMBER","0",384],["T_WHITESPACE"," ",384],["T_BOOLEAN_AND","&&",384],["T_WHITESPACE"," ",384],["T_VARIABLE","$count2",384],["T_WHITESPACE"," ",384],["T_IS_IDENTICAL","===",384],["T_WHITESPACE"," ",384],["T_LNUMBER","0",384],")",["T_WHITESPACE"," ",384],"{",["T_WHITESPACE","\n      ",384],["T_COMMENT","\/\/ Both are empty we can safely assume that it did not change.\n",385],["T_WHITESPACE","      ",386],["T_RETURN","return",386],["T_WHITESPACE"," ",386],["T_STRING","TRUE",386],";",["T_WHITESPACE","\n    ",386],"}",["T_WHITESPACE","\n    ",387],["T_IF","if",388],["T_WHITESPACE"," ",388],"(",["T_VARIABLE","$count1",388],["T_WHITESPACE"," ",388],["T_IS_NOT_IDENTICAL","!==",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$count2",388],")",["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n      ",388],["T_COMMENT","\/\/ One of them is empty but not the other one so the value changed.\n",389],["T_WHITESPACE","      ",390],["T_RETURN","return",390],["T_WHITESPACE"," ",390],["T_STRING","FALSE",390],";",["T_WHITESPACE","\n    ",390],"}",["T_WHITESPACE","\n    ",391],["T_VARIABLE","$value1",392],["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","getValue",392],"(",")",";",["T_WHITESPACE","\n    ",392],["T_VARIABLE","$value2",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_VARIABLE","$list_to_compare",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","getValue",393],"(",")",";",["T_WHITESPACE","\n    ",393],["T_IF","if",394],["T_WHITESPACE"," ",394],"(",["T_VARIABLE","$value1",394],["T_WHITESPACE"," ",394],["T_IS_IDENTICAL","===",394],["T_WHITESPACE"," ",394],["T_VARIABLE","$value2",394],")",["T_WHITESPACE"," ",394],"{",["T_WHITESPACE","\n      ",394],["T_RETURN","return",395],["T_WHITESPACE"," ",395],["T_STRING","TRUE",395],";",["T_WHITESPACE","\n    ",395],"}",["T_WHITESPACE","\n    ",396],["T_COMMENT","\/\/ If the values are not equal ensure a consistent order of field item\n",397],["T_WHITESPACE","    ",398],["T_COMMENT","\/\/ properties and remove properties which will not be saved.\n",398],["T_WHITESPACE","    ",399],["T_VARIABLE","$callback",399],["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_FUNCTION","function",399],["T_WHITESPACE"," ",399],"(","&",["T_VARIABLE","$value",399],")",["T_WHITESPACE"," ",399],["T_USE","use",399],["T_WHITESPACE"," ",399],"(",["T_VARIABLE","$columns",399],")",["T_WHITESPACE"," ",399],"{",["T_WHITESPACE","\n      ",399],["T_IF","if",400],["T_WHITESPACE"," ",400],"(",["T_STRING","is_array",400],"(",["T_VARIABLE","$value",400],")",")",["T_WHITESPACE"," ",400],"{",["T_WHITESPACE","\n        ",400],["T_VARIABLE","$value",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_STRING","array_intersect_key",401],"(",["T_VARIABLE","$value",401],",",["T_WHITESPACE"," ",401],["T_VARIABLE","$columns",401],")",";",["T_WHITESPACE","\n        ",401],["T_STRING","ksort",402],"(",["T_VARIABLE","$value",402],")",";",["T_WHITESPACE","\n      ",402],"}",["T_WHITESPACE","\n    ",403],"}",";",["T_WHITESPACE","\n    ",404],["T_STRING","array_walk",405],"(",["T_VARIABLE","$value1",405],",",["T_WHITESPACE"," ",405],["T_VARIABLE","$callback",405],")",";",["T_WHITESPACE","\n    ",405],["T_STRING","array_walk",406],"(",["T_VARIABLE","$value2",406],",",["T_WHITESPACE"," ",406],["T_VARIABLE","$callback",406],")",";",["T_WHITESPACE","\n\n    ",406],["T_RETURN","return",408],["T_WHITESPACE"," ",408],["T_VARIABLE","$value1",408],["T_WHITESPACE"," ",408],["T_IS_EQUAL","==",408],["T_WHITESPACE"," ",408],["T_VARIABLE","$value2",408],";",["T_WHITESPACE","\n  ",408],"}",["T_WHITESPACE","\n\n",409],"}",["T_WHITESPACE","\n",411]]