[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Field",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Plugin",5],["T_NS_SEPARATOR","\\",5],["T_STRING","DependentPluginInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Plugin",6],["T_NS_SEPARATOR","\\",6],["T_STRING","PluginBase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Base class for the Field API plugins.\n *\n * This class handles lazy replacement of default settings values.\n *\/",8],["T_WHITESPACE","\n",12],["T_ABSTRACT","abstract",13],["T_WHITESPACE"," ",13],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","PluginSettingsBase",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","PluginBase",13],["T_WHITESPACE"," ",13],["T_IMPLEMENTS","implements",13],["T_WHITESPACE"," ",13],["T_STRING","PluginSettingsInterface",13],",",["T_WHITESPACE"," ",13],["T_STRING","DependentPluginInterface",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * The plugin settings.\n   *\n   * @var array\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$settings",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_ARRAY","array",20],"(",")",";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * The plugin settings injected by third party modules.\n   *\n   * @see hooks\n   *\n   * @var array\n   *\/",22],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$thirdPartySettings",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_ARRAY","array",29],"(",")",";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * Whether default settings have been merged into the current $settings.\n   *\n   * @var bool\n   *\/",31],["T_WHITESPACE","\n  ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$defaultSettingsMerged",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","FALSE",36],";",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",38],["T_WHITESPACE","\n  ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_STATIC","static",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","defaultSettings",41],"(",")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n    ",41],["T_RETURN","return",42],["T_WHITESPACE"," ",42],["T_ARRAY","array",42],"(",")",";",["T_WHITESPACE","\n  ",42],"}",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",45],["T_WHITESPACE","\n  ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","getSettings",48],"(",")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n    ",48],["T_COMMENT","\/\/ Merge defaults before returning the array.\n",49],["T_WHITESPACE","    ",50],["T_IF","if",50],["T_WHITESPACE"," ",50],"(","!",["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","defaultSettingsMerged",50],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n      ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","mergeDefaults",51],"(",")",";",["T_WHITESPACE","\n    ",51],"}",["T_WHITESPACE","\n    ",52],["T_RETURN","return",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","settings",53],";",["T_WHITESPACE","\n  ",53],"}",["T_WHITESPACE","\n\n  ",54],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",56],["T_WHITESPACE","\n  ",58],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","getSetting",59],"(",["T_VARIABLE","$key",59],")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n    ",59],["T_COMMENT","\/\/ Merge defaults if we have no value for the key.\n",60],["T_WHITESPACE","    ",61],["T_IF","if",61],["T_WHITESPACE"," ",61],"(","!",["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","defaultSettingsMerged",61],["T_WHITESPACE"," ",61],["T_BOOLEAN_AND","&&",61],["T_WHITESPACE"," ",61],"!",["T_STRING","array_key_exists",61],"(",["T_VARIABLE","$key",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","settings",61],")",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n      ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","mergeDefaults",62],"(",")",";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n    ",63],["T_RETURN","return",64],["T_WHITESPACE"," ",64],["T_ISSET","isset",64],"(",["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","settings",64],"[",["T_VARIABLE","$key",64],"]",")",["T_WHITESPACE"," ",64],"?",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","settings",64],"[",["T_VARIABLE","$key",64],"]",["T_WHITESPACE"," ",64],":",["T_WHITESPACE"," ",64],["T_STRING","NULL",64],";",["T_WHITESPACE","\n  ",64],"}",["T_WHITESPACE","\n\n  ",65],["T_DOC_COMMENT","\/**\n   * Merges default settings values into $settings.\n   *\/",67],["T_WHITESPACE","\n  ",69],["T_PROTECTED","protected",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","mergeDefaults",70],"(",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","settings",71],["T_WHITESPACE"," ",71],["T_PLUS_EQUAL","+=",71],["T_WHITESPACE"," ",71],["T_STATIC","static",71],["T_DOUBLE_COLON","::",71],["T_STRING","defaultSettings",71],"(",")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","defaultSettingsMerged",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","TRUE",72],";",["T_WHITESPACE","\n  ",72],"}",["T_WHITESPACE","\n\n  ",73],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",75],["T_WHITESPACE","\n  ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","setSettings",78],"(",["T_ARRAY","array",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$settings",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","settings",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$settings",79],";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","defaultSettingsMerged",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","FALSE",80],";",["T_WHITESPACE","\n    ",80],["T_RETURN","return",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],";",["T_WHITESPACE","\n  ",81],"}",["T_WHITESPACE","\n\n  ",82],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",84],["T_WHITESPACE","\n  ",86],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","setSetting",87],"(",["T_VARIABLE","$key",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$value",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","settings",88],"[",["T_VARIABLE","$key",88],"]",["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$value",88],";",["T_WHITESPACE","\n    ",88],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],";",["T_WHITESPACE","\n  ",89],"}",["T_WHITESPACE","\n\n  ",90],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",92],["T_WHITESPACE","\n  ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","getThirdPartySettings",95],"(",["T_VARIABLE","$module",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_STRING","NULL",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n    ",95],["T_IF","if",96],["T_WHITESPACE"," ",96],"(",["T_VARIABLE","$module",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n      ",96],["T_RETURN","return",97],["T_WHITESPACE"," ",97],["T_ISSET","isset",97],"(",["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","thirdPartySettings",97],"[",["T_VARIABLE","$module",97],"]",")",["T_WHITESPACE"," ",97],"?",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","thirdPartySettings",97],"[",["T_VARIABLE","$module",97],"]",["T_WHITESPACE"," ",97],":",["T_WHITESPACE"," ",97],"[","]",";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n    ",98],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","thirdPartySettings",99],";",["T_WHITESPACE","\n  ",99],"}",["T_WHITESPACE","\n\n  ",100],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",102],["T_WHITESPACE","\n  ",104],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","getThirdPartySetting",105],"(",["T_VARIABLE","$module",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$key",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$default",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","NULL",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n    ",105],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_ISSET","isset",106],"(",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","thirdPartySettings",106],"[",["T_VARIABLE","$module",106],"]","[",["T_VARIABLE","$key",106],"]",")",["T_WHITESPACE"," ",106],"?",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","thirdPartySettings",106],"[",["T_VARIABLE","$module",106],"]","[",["T_VARIABLE","$key",106],"]",["T_WHITESPACE"," ",106],":",["T_WHITESPACE"," ",106],["T_VARIABLE","$default",106],";",["T_WHITESPACE","\n  ",106],"}",["T_WHITESPACE","\n\n  ",107],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",109],["T_WHITESPACE","\n  ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","setThirdPartySetting",112],"(",["T_VARIABLE","$module",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$key",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$value",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","thirdPartySettings",113],"[",["T_VARIABLE","$module",113],"]","[",["T_VARIABLE","$key",113],"]",["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$value",113],";",["T_WHITESPACE","\n    ",113],["T_RETURN","return",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],";",["T_WHITESPACE","\n  ",114],"}",["T_WHITESPACE","\n\n  ",115],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",117],["T_WHITESPACE","\n  ",119],["T_PUBLIC","public",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","unsetThirdPartySetting",120],"(",["T_VARIABLE","$module",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$key",120],")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n    ",120],["T_UNSET","unset",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","thirdPartySettings",121],"[",["T_VARIABLE","$module",121],"]","[",["T_VARIABLE","$key",121],"]",")",";",["T_WHITESPACE","\n    ",121],["T_COMMENT","\/\/ If the third party is no longer storing any information, completely\n",122],["T_WHITESPACE","    ",123],["T_COMMENT","\/\/ remove the array holding the settings for this module.\n",123],["T_WHITESPACE","    ",124],["T_IF","if",124],["T_WHITESPACE"," ",124],"(",["T_EMPTY","empty",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","thirdPartySettings",124],"[",["T_VARIABLE","$module",124],"]",")",")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n      ",124],["T_UNSET","unset",125],"(",["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","thirdPartySettings",125],"[",["T_VARIABLE","$module",125],"]",")",";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n    ",126],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],";",["T_WHITESPACE","\n  ",127],"}",["T_WHITESPACE","\n\n  ",128],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",130],["T_WHITESPACE","\n  ",132],["T_PUBLIC","public",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","getThirdPartyProviders",133],"(",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n    ",133],["T_RETURN","return",134],["T_WHITESPACE"," ",134],["T_STRING","array_keys",134],"(",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","thirdPartySettings",134],")",";",["T_WHITESPACE","\n  ",134],"}",["T_WHITESPACE","\n\n  ",135],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",137],["T_WHITESPACE","\n  ",139],["T_PUBLIC","public",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","calculateDependencies",140],"(",")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n    ",140],["T_IF","if",141],["T_WHITESPACE"," ",141],"(","!",["T_EMPTY","empty",141],"(",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","thirdPartySettings",141],")",")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n      ",141],["T_COMMENT","\/\/ Create dependencies on any modules providing third party settings.\n",142],["T_WHITESPACE","      ",143],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_ARRAY","array",143],"(",["T_WHITESPACE","\n        ",143],["T_CONSTANT_ENCAPSED_STRING","'module'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_STRING","array_keys",144],"(",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","thirdPartySettings",144],")",["T_WHITESPACE","\n      ",144],")",";",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n    ",146],["T_RETURN","return",147],["T_WHITESPACE"," ",147],["T_ARRAY","array",147],"(",")",";",["T_WHITESPACE","\n  ",147],"}",["T_WHITESPACE","\n\n  ",148],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",150],["T_WHITESPACE","\n  ",152],["T_PUBLIC","public",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","onDependencyRemoval",153],"(",["T_ARRAY","array",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$dependencies",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n    ",153],["T_VARIABLE","$changed",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","FALSE",154],";",["T_WHITESPACE","\n    ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(","!",["T_EMPTY","empty",155],"(",["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","thirdPartySettings",155],")",["T_WHITESPACE"," ",155],["T_BOOLEAN_AND","&&",155],["T_WHITESPACE"," ",155],"!",["T_EMPTY","empty",155],"(",["T_VARIABLE","$dependencies",155],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",155],"]",")",")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n      ",155],["T_VARIABLE","$old_count",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_STRING","count",156],"(",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","thirdPartySettings",156],")",";",["T_WHITESPACE","\n      ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","thirdPartySettings",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_STRING","array_diff_key",157],"(",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","thirdPartySettings",157],",",["T_WHITESPACE"," ",157],["T_STRING","array_flip",157],"(",["T_VARIABLE","$dependencies",157],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",157],"]",")",")",";",["T_WHITESPACE","\n      ",157],["T_VARIABLE","$changed",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$old_count",158],["T_WHITESPACE"," ",158],["T_IS_NOT_EQUAL","!=",158],["T_WHITESPACE"," ",158],["T_STRING","count",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","thirdPartySettings",158],")",";",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n    ",159],["T_RETURN","return",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$changed",160],";",["T_WHITESPACE","\n  ",160],"}",["T_WHITESPACE","\n\n",161],"}",["T_WHITESPACE","\n",163]]