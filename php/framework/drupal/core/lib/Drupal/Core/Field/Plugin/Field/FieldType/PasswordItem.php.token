[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Field",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Field",3],["T_NS_SEPARATOR","\\",3],["T_STRING","FieldType",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","EntityMalformedException",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldStorageDefinitionInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","StringTranslation",7],["T_NS_SEPARATOR","\\",7],["T_STRING","TranslatableMarkup",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","TypedData",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DataDefinition",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Defines the 'password' entity field type.\n *\n * @FieldType(\n *   id = \"password\",\n *   label = @Translation(\"Password\"),\n *   description = @Translation(\"An entity field containing a password value.\"),\n *   no_ui = TRUE,\n * )\n *\/",10],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","PasswordItem",20],["T_WHITESPACE"," ",20],["T_EXTENDS","extends",20],["T_WHITESPACE"," ",20],["T_STRING","StringItem",20],["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",22],["T_WHITESPACE","\n  ",24],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_STATIC","static",25],["T_WHITESPACE"," ",25],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","propertyDefinitions",25],"(",["T_STRING","FieldStorageDefinitionInterface",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$field_definition",25],")",["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n    ",25],["T_VARIABLE","$properties",26],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",26],"]",["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_STRING","DataDefinition",26],["T_DOUBLE_COLON","::",26],["T_STRING","create",26],"(",["T_CONSTANT_ENCAPSED_STRING","'string'",26],")",["T_WHITESPACE","\n      ",26],["T_OBJECT_OPERATOR","->",27],["T_STRING","setLabel",27],"(",["T_NEW","new",27],["T_WHITESPACE"," ",27],["T_STRING","TranslatableMarkup",27],"(",["T_CONSTANT_ENCAPSED_STRING","'The hashed password'",27],")",")",["T_WHITESPACE","\n      ",27],["T_OBJECT_OPERATOR","->",28],["T_STRING","setSetting",28],"(",["T_CONSTANT_ENCAPSED_STRING","'case_sensitive'",28],",",["T_WHITESPACE"," ",28],["T_STRING","TRUE",28],")",";",["T_WHITESPACE","\n    ",28],["T_VARIABLE","$properties",29],"[",["T_CONSTANT_ENCAPSED_STRING","'existing'",29],"]",["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_STRING","DataDefinition",29],["T_DOUBLE_COLON","::",29],["T_STRING","create",29],"(",["T_CONSTANT_ENCAPSED_STRING","'string'",29],")",["T_WHITESPACE","\n      ",29],["T_OBJECT_OPERATOR","->",30],["T_STRING","setLabel",30],"(",["T_NEW","new",30],["T_WHITESPACE"," ",30],["T_STRING","TranslatableMarkup",30],"(",["T_CONSTANT_ENCAPSED_STRING","'Existing password'",30],")",")",";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$properties",31],"[",["T_CONSTANT_ENCAPSED_STRING","'pre_hashed'",31],"]",["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_STRING","DataDefinition",31],["T_DOUBLE_COLON","::",31],["T_STRING","create",31],"(",["T_CONSTANT_ENCAPSED_STRING","'boolean'",31],")",["T_WHITESPACE","\n      ",31],["T_OBJECT_OPERATOR","->",32],["T_STRING","setLabel",32],"(",["T_NEW","new",32],["T_WHITESPACE"," ",32],["T_STRING","TranslatableMarkup",32],"(",["T_CONSTANT_ENCAPSED_STRING","'Determines if a password needs hashing'",32],")",")",";",["T_WHITESPACE","\n\n    ",32],["T_RETURN","return",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$properties",34],";",["T_WHITESPACE","\n  ",34],"}",["T_WHITESPACE","\n\n  ",35],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",37],["T_WHITESPACE","\n  ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","preSave",40],"(",")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n    ",40],["T_STRING","parent",41],["T_DOUBLE_COLON","::",41],["T_STRING","preSave",41],"(",")",";",["T_WHITESPACE","\n\n    ",41],["T_VARIABLE","$entity",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getEntity",43],"(",")",";",["T_WHITESPACE","\n\n    ",43],["T_IF","if",45],["T_WHITESPACE"," ",45],"(",["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","pre_hashed",45],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n      ",45],["T_COMMENT","\/\/ Reset the pre_hashed value since it has now been used.\n",46],["T_WHITESPACE","      ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","pre_hashed",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","FALSE",47],";",["T_WHITESPACE","\n    ",47],"}",["T_WHITESPACE","\n    ",48],["T_ELSEIF","elseif",49],["T_WHITESPACE"," ",49],"(",["T_VARIABLE","$entity",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","isNew",49],"(",")",["T_WHITESPACE"," ",49],["T_BOOLEAN_OR","||",49],["T_WHITESPACE"," ",49],"(",["T_STRING","strlen",49],"(",["T_STRING","trim",49],"(",["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","value",49],")",")",["T_WHITESPACE"," ",49],">",["T_WHITESPACE"," ",49],["T_LNUMBER","0",49],["T_WHITESPACE"," ",49],["T_BOOLEAN_AND","&&",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","value",49],["T_WHITESPACE"," ",49],["T_IS_NOT_EQUAL","!=",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$entity",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","original",49],["T_OBJECT_OPERATOR","->",49],"{",["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getFieldDefinition",49],"(",")",["T_OBJECT_OPERATOR","->",49],["T_STRING","getName",49],"(",")","}",["T_OBJECT_OPERATOR","->",49],["T_STRING","value",49],")",")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n      ",49],["T_COMMENT","\/\/ Allow alternate password hashing schemes.\n",50],["T_WHITESPACE","      ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","value",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Drupal",51],["T_DOUBLE_COLON","::",51],["T_STRING","service",51],"(",["T_CONSTANT_ENCAPSED_STRING","'password'",51],")",["T_OBJECT_OPERATOR","->",51],["T_STRING","hash",51],"(",["T_STRING","trim",51],"(",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","value",51],")",")",";",["T_WHITESPACE","\n      ",51],["T_COMMENT","\/\/ Abort if the hashing failed and returned FALSE.\n",52],["T_WHITESPACE","      ",53],["T_IF","if",53],["T_WHITESPACE"," ",53],"(","!",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","value",53],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n        ",53],["T_THROW","throw",54],["T_WHITESPACE"," ",54],["T_NEW","new",54],["T_WHITESPACE"," ",54],["T_STRING","EntityMalformedException",54],"(",["T_CONSTANT_ENCAPSED_STRING","'The entity does not have a password.'",54],")",";",["T_WHITESPACE","\n      ",54],"}",["T_WHITESPACE","\n    ",55],"}",["T_WHITESPACE","\n\n    ",56],["T_IF","if",58],["T_WHITESPACE"," ",58],"(","!",["T_VARIABLE","$entity",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","isNew",58],"(",")",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n      ",58],["T_COMMENT","\/\/ If the password is empty, that means it was not changed, so use the\n",59],["T_WHITESPACE","      ",60],["T_COMMENT","\/\/ original password.\n",60],["T_WHITESPACE","      ",61],["T_IF","if",61],["T_WHITESPACE"," ",61],"(",["T_EMPTY","empty",61],"(",["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","value",61],")",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","value",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$entity",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","original",62],["T_OBJECT_OPERATOR","->",62],"{",["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getFieldDefinition",62],"(",")",["T_OBJECT_OPERATOR","->",62],["T_STRING","getName",62],"(",")","}",["T_OBJECT_OPERATOR","->",62],["T_STRING","value",62],";",["T_WHITESPACE","\n      ",62],"}",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n    ",64],["T_COMMENT","\/\/ Ensure that the existing password is unset to minimise risks of it\n",65],["T_WHITESPACE","    ",66],["T_COMMENT","\/\/ getting serialized and stored somewhere.\n",66],["T_WHITESPACE","    ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","existing",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","NULL",67],";",["T_WHITESPACE","\n  ",67],"}",["T_WHITESPACE","\n\n  ",68],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",70],["T_WHITESPACE","\n  ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","isEmpty",73],"(",")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n    ",73],["T_COMMENT","\/\/ We cannot use the parent implementation from StringItem as it does not\n",74],["T_WHITESPACE","    ",75],["T_COMMENT","\/\/ consider the additional 'existing' property that PasswordItem contains.\n",75],["T_WHITESPACE","    ",76],["T_VARIABLE","$value",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","get",76],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",76],")",["T_OBJECT_OPERATOR","->",76],["T_STRING","getValue",76],"(",")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$existing",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","get",77],"(",["T_CONSTANT_ENCAPSED_STRING","'existing'",77],")",["T_OBJECT_OPERATOR","->",77],["T_STRING","getValue",77],"(",")",";",["T_WHITESPACE","\n    ",77],["T_RETURN","return",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$value",78],["T_WHITESPACE"," ",78],["T_IS_IDENTICAL","===",78],["T_WHITESPACE"," ",78],["T_STRING","NULL",78],["T_WHITESPACE"," ",78],["T_BOOLEAN_AND","&&",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$existing",78],["T_WHITESPACE"," ",78],["T_IS_IDENTICAL","===",78],["T_WHITESPACE"," ",78],["T_STRING","NULL",78],";",["T_WHITESPACE","\n  ",78],"}",["T_WHITESPACE","\n\n",79],"}",["T_WHITESPACE","\n",81]]