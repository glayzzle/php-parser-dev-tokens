[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Field",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Plugin",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Factory",5],["T_NS_SEPARATOR","\\",5],["T_STRING","DefaultFactory",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Cache",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CacheBackendInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Extension",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ModuleHandlerInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Plugin",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DefaultPluginManager",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Plugin type manager for field formatters.\n *\n * @ingroup field_formatter\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","FormatterPluginManager",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","DefaultPluginManager",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * An array of formatter options for each field type.\n   *\n   * @var array\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$formatterOptions",22],";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * The field type manager to define field.\n   *\n   * @var \\Drupal\\Core\\Field\\FieldTypePluginManagerInterface\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$fieldTypeManager",29],";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * Constructs a FormatterPluginManager object.\n   *\n   * @param \\Traversable $namespaces\n   *   An object that implements \\Traversable which contains the root paths\n   *   keyed by the corresponding namespace to look for plugin implementations.\n   * @param \\Drupal\\Core\\Cache\\CacheBackendInterface $cache_backend\n   *   Cache backend instance to use.\n   * @param \\Drupal\\Core\\Extension\\ModuleHandlerInterface $module_handler\n   *   The module handler.\n   * @param \\Drupal\\Core\\Field\\FieldTypePluginManagerInterface $field_type_manager\n   *   The 'field type' plugin manager.\n   *\/",31],["T_WHITESPACE","\n  ",43],["T_PUBLIC","public",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","__construct",44],"(",["T_NS_SEPARATOR","\\",44],["T_STRING","Traversable",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$namespaces",44],",",["T_WHITESPACE"," ",44],["T_STRING","CacheBackendInterface",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$cache_backend",44],",",["T_WHITESPACE"," ",44],["T_STRING","ModuleHandlerInterface",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$module_handler",44],",",["T_WHITESPACE"," ",44],["T_STRING","FieldTypePluginManagerInterface",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$field_type_manager",44],")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n    ",44],["T_STRING","parent",45],["T_DOUBLE_COLON","::",45],["T_STRING","__construct",45],"(",["T_CONSTANT_ENCAPSED_STRING","'Plugin\/Field\/FieldFormatter'",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$namespaces",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$module_handler",45],",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Field\\FormatterInterface'",45],",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Field\\Annotation\\FieldFormatter'",45],")",";",["T_WHITESPACE","\n\n    ",45],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","setCacheBackend",47],"(",["T_VARIABLE","$cache_backend",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'field_formatter_types_plugins'",47],")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","alterInfo",48],"(",["T_CONSTANT_ENCAPSED_STRING","'field_formatter_info'",48],")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","fieldTypeManager",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$field_type_manager",49],";",["T_WHITESPACE","\n  ",49],"}",["T_WHITESPACE","\n\n  ",50],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",52],["T_WHITESPACE","\n  ",54],["T_PUBLIC","public",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","createInstance",55],"(",["T_VARIABLE","$plugin_id",55],",",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$configuration",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",")",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$plugin_definition",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getDefinition",56],"(",["T_VARIABLE","$plugin_id",56],")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$plugin_class",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","DefaultFactory",57],["T_DOUBLE_COLON","::",57],["T_STRING","getPluginClass",57],"(",["T_VARIABLE","$plugin_id",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$plugin_definition",57],")",";",["T_WHITESPACE","\n\n    ",57],["T_COMMENT","\/\/ @todo This is copied from \\Drupal\\Core\\Plugin\\Factory\\ContainerFactory.\n",59],["T_WHITESPACE","    ",60],["T_COMMENT","\/\/   Find a way to restore sanity to\n",60],["T_WHITESPACE","    ",61],["T_COMMENT","\/\/   \\Drupal\\Core\\Field\\FormatterBase::__construct().\n",61],["T_WHITESPACE","    ",62],["T_COMMENT","\/\/ If the plugin provides a factory method, pass the container to it.\n",62],["T_WHITESPACE","    ",63],["T_IF","if",63],["T_WHITESPACE"," ",63],"(",["T_STRING","is_subclass_of",63],"(",["T_VARIABLE","$plugin_class",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Plugin\\ContainerFactoryPluginInterface'",63],")",")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n      ",63],["T_RETURN","return",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$plugin_class",64],["T_DOUBLE_COLON","::",64],["T_STRING","create",64],"(",["T_NS_SEPARATOR","\\",64],["T_STRING","Drupal",64],["T_DOUBLE_COLON","::",64],["T_STRING","getContainer",64],"(",")",",",["T_WHITESPACE"," ",64],["T_VARIABLE","$configuration",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$plugin_id",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$plugin_definition",64],")",";",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n\n    ",65],["T_RETURN","return",67],["T_WHITESPACE"," ",67],["T_NEW","new",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$plugin_class",67],"(",["T_VARIABLE","$plugin_id",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$plugin_definition",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$configuration",67],"[",["T_CONSTANT_ENCAPSED_STRING","'field_definition'",67],"]",",",["T_WHITESPACE"," ",67],["T_VARIABLE","$configuration",67],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",67],"]",",",["T_WHITESPACE"," ",67],["T_VARIABLE","$configuration",67],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",67],"]",",",["T_WHITESPACE"," ",67],["T_VARIABLE","$configuration",67],"[",["T_CONSTANT_ENCAPSED_STRING","'view_mode'",67],"]",",",["T_WHITESPACE"," ",67],["T_VARIABLE","$configuration",67],"[",["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",67],"]",")",";",["T_WHITESPACE","\n  ",67],"}",["T_WHITESPACE","\n\n  ",68],["T_DOC_COMMENT","\/**\n   * Overrides PluginManagerBase::getInstance().\n   *\n   * @param array $options\n   *   An array with the following key\/value pairs:\n   *   - field_definition: (FieldDefinitionInterface) The field definition.\n   *   - view_mode: (string) The view mode.\n   *   - prepare: (bool, optional) Whether default values should get merged in\n   *     the 'configuration' array. Defaults to TRUE.\n   *   - configuration: (array) the configuration for the formatter. The\n   *     following key value pairs are allowed, and are all optional if\n   *     'prepare' is TRUE:\n   *     - label: (string) Position of the label. The default 'field' theme\n   *       implementation supports the values 'inline', 'above' and 'hidden'.\n   *       Defaults to 'above'.\n   *     - type: (string) The formatter to use. Defaults to the\n   *       'default_formatter' for the field type, The default formatter will\n   *       also be used if the requested formatter is not available.\n   *     - settings: (array) Settings specific to the formatter. Each setting\n   *       defaults to the default value specified in the formatter definition.\n   *     - third_party_settings: (array) Settings provided by other extensions\n   *       through hook_field_formatter_third_party_settings_form().\n   *\n   * @return \\Drupal\\Core\\Field\\FormatterInterface|null\n   *   A formatter object or NULL when plugin is not found.\n   *\/",70],["T_WHITESPACE","\n  ",95],["T_PUBLIC","public",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","getInstance",96],"(",["T_ARRAY","array",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$options",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$configuration",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$options",97],"[",["T_CONSTANT_ENCAPSED_STRING","'configuration'",97],"]",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$field_definition",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$options",98],"[",["T_CONSTANT_ENCAPSED_STRING","'field_definition'",98],"]",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$field_type",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$field_definition",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getType",99],"(",")",";",["T_WHITESPACE","\n\n    ",99],["T_COMMENT","\/\/ Fill in default configuration if needed.\n",101],["T_WHITESPACE","    ",102],["T_IF","if",102],["T_WHITESPACE"," ",102],"(","!",["T_ISSET","isset",102],"(",["T_VARIABLE","$options",102],"[",["T_CONSTANT_ENCAPSED_STRING","'prepare'",102],"]",")",["T_WHITESPACE"," ",102],["T_BOOLEAN_OR","||",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$options",102],"[",["T_CONSTANT_ENCAPSED_STRING","'prepare'",102],"]",["T_WHITESPACE"," ",102],["T_IS_EQUAL","==",102],["T_WHITESPACE"," ",102],["T_STRING","TRUE",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n      ",102],["T_VARIABLE","$configuration",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","prepareConfiguration",103],"(",["T_VARIABLE","$field_type",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$configuration",103],")",";",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n\n    ",104],["T_VARIABLE","$plugin_id",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$configuration",106],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",106],"]",";",["T_WHITESPACE","\n\n    ",106],["T_COMMENT","\/\/ Switch back to default formatter if either:\n",108],["T_WHITESPACE","    ",109],["T_COMMENT","\/\/ - the configuration does not specify a formatter class\n",109],["T_WHITESPACE","    ",110],["T_COMMENT","\/\/ - the field type is not allowed for the formatter\n",110],["T_WHITESPACE","    ",111],["T_COMMENT","\/\/ - the formatter is not applicable to the field definition.\n",111],["T_WHITESPACE","    ",112],["T_VARIABLE","$definition",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getDefinition",112],"(",["T_VARIABLE","$configuration",112],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",112],"]",",",["T_WHITESPACE"," ",112],["T_STRING","FALSE",112],")",";",["T_WHITESPACE","\n    ",112],["T_IF","if",113],["T_WHITESPACE"," ",113],"(","!",["T_ISSET","isset",113],"(",["T_VARIABLE","$definition",113],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",113],"]",")",["T_WHITESPACE"," ",113],["T_BOOLEAN_OR","||",113],["T_WHITESPACE"," ",113],"!",["T_STRING","in_array",113],"(",["T_VARIABLE","$field_type",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$definition",113],"[",["T_CONSTANT_ENCAPSED_STRING","'field_types'",113],"]",")",["T_WHITESPACE"," ",113],["T_BOOLEAN_OR","||",113],["T_WHITESPACE"," ",113],"!",["T_VARIABLE","$definition",113],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",113],"]",["T_DOUBLE_COLON","::",113],["T_STRING","isApplicable",113],"(",["T_VARIABLE","$field_definition",113],")",")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n      ",113],["T_COMMENT","\/\/ Grab the default widget for the field type.\n",114],["T_WHITESPACE","      ",115],["T_VARIABLE","$field_type_definition",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","fieldTypeManager",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getDefinition",115],"(",["T_VARIABLE","$field_type",115],")",";",["T_WHITESPACE","\n      ",115],["T_IF","if",116],["T_WHITESPACE"," ",116],"(",["T_EMPTY","empty",116],"(",["T_VARIABLE","$field_type_definition",116],"[",["T_CONSTANT_ENCAPSED_STRING","'default_formatter'",116],"]",")",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n        ",116],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_STRING","NULL",117],";",["T_WHITESPACE","\n      ",117],"}",["T_WHITESPACE","\n      ",118],["T_VARIABLE","$plugin_id",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$field_type_definition",119],"[",["T_CONSTANT_ENCAPSED_STRING","'default_formatter'",119],"]",";",["T_WHITESPACE","\n    ",119],"}",["T_WHITESPACE","\n\n    ",120],["T_VARIABLE","$configuration",122],["T_WHITESPACE"," ",122],["T_PLUS_EQUAL","+=",122],["T_WHITESPACE"," ",122],["T_ARRAY","array",122],"(",["T_WHITESPACE","\n      ",122],["T_CONSTANT_ENCAPSED_STRING","'field_definition'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$field_definition",123],",",["T_WHITESPACE","\n      ",123],["T_CONSTANT_ENCAPSED_STRING","'view_mode'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$options",124],"[",["T_CONSTANT_ENCAPSED_STRING","'view_mode'",124],"]",",",["T_WHITESPACE","\n    ",124],")",";",["T_WHITESPACE","\n    ",125],["T_RETURN","return",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","createInstance",126],"(",["T_VARIABLE","$plugin_id",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$configuration",126],")",";",["T_WHITESPACE","\n  ",126],"}",["T_WHITESPACE","\n\n  ",127],["T_DOC_COMMENT","\/**\n   * Merges default values for formatter configuration.\n   *\n   * @param string $field_type\n   *   The field type.\n   * @param array $configuration\n   *   An array of formatter configuration.\n   *\n   * @return array\n   *   The display properties with defaults added.\n   *\/",129],["T_WHITESPACE","\n  ",139],["T_PUBLIC","public",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","prepareConfiguration",140],"(",["T_VARIABLE","$field_type",140],",",["T_WHITESPACE"," ",140],["T_ARRAY","array",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$configuration",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n    ",140],["T_COMMENT","\/\/ Fill in defaults for missing properties.\n",141],["T_WHITESPACE","    ",142],["T_VARIABLE","$configuration",142],["T_WHITESPACE"," ",142],["T_PLUS_EQUAL","+=",142],["T_WHITESPACE"," ",142],["T_ARRAY","array",142],"(",["T_WHITESPACE","\n      ",142],["T_CONSTANT_ENCAPSED_STRING","'label'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'above'",143],",",["T_WHITESPACE","\n      ",143],["T_CONSTANT_ENCAPSED_STRING","'settings'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_ARRAY","array",144],"(",")",",",["T_WHITESPACE","\n      ",144],["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_ARRAY","array",145],"(",")",",",["T_WHITESPACE","\n    ",145],")",";",["T_WHITESPACE","\n    ",146],["T_COMMENT","\/\/ If no formatter is specified, use the default formatter.\n",147],["T_WHITESPACE","    ",148],["T_IF","if",148],["T_WHITESPACE"," ",148],"(","!",["T_ISSET","isset",148],"(",["T_VARIABLE","$configuration",148],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",148],"]",")",")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n      ",148],["T_VARIABLE","$field_type",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","fieldTypeManager",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getDefinition",149],"(",["T_VARIABLE","$field_type",149],")",";",["T_WHITESPACE","\n      ",149],["T_VARIABLE","$configuration",150],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",150],"]",["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$field_type",150],"[",["T_CONSTANT_ENCAPSED_STRING","'default_formatter'",150],"]",";",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n    ",151],["T_COMMENT","\/\/ Filter out unknown settings, and fill in defaults for missing settings.\n",152],["T_WHITESPACE","    ",153],["T_VARIABLE","$default_settings",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getDefaultSettings",153],"(",["T_VARIABLE","$configuration",153],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",153],"]",")",";",["T_WHITESPACE","\n    ",153],["T_VARIABLE","$configuration",154],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",154],"]",["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","array_intersect_key",154],"(",["T_VARIABLE","$configuration",154],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",154],"]",",",["T_WHITESPACE"," ",154],["T_VARIABLE","$default_settings",154],")",["T_WHITESPACE"," ",154],"+",["T_WHITESPACE"," ",154],["T_VARIABLE","$default_settings",154],";",["T_WHITESPACE","\n\n    ",154],["T_RETURN","return",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$configuration",156],";",["T_WHITESPACE","\n  ",156],"}",["T_WHITESPACE","\n\n  ",157],["T_DOC_COMMENT","\/**\n   * Returns an array of formatter options for a field type.\n   *\n   * @param string|null $field_type\n   *   (optional) The name of a field type, or NULL to retrieve all formatters.\n   *\n   * @return array\n   *   If no field type is provided, returns a nested array of all formatters,\n   *   keyed by field type.\n   *\/",159],["T_WHITESPACE","\n  ",168],["T_PUBLIC","public",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","getOptions",169],"(",["T_VARIABLE","$field_type",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_STRING","NULL",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n    ",169],["T_IF","if",170],["T_WHITESPACE"," ",170],"(","!",["T_ISSET","isset",170],"(",["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","formatterOptions",170],")",")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n      ",170],["T_VARIABLE","$options",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_ARRAY","array",171],"(",")",";",["T_WHITESPACE","\n      ",171],["T_VARIABLE","$field_types",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","fieldTypeManager",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getDefinitions",172],"(",")",";",["T_WHITESPACE","\n      ",172],["T_VARIABLE","$formatter_types",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getDefinitions",173],"(",")",";",["T_WHITESPACE","\n      ",173],["T_STRING","uasort",174],"(",["T_VARIABLE","$formatter_types",174],",",["T_WHITESPACE"," ",174],["T_ARRAY","array",174],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Component\\Utility\\SortArray'",174],",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'sortByWeightElement'",174],")",")",";",["T_WHITESPACE","\n      ",174],["T_FOREACH","foreach",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$formatter_types",175],["T_WHITESPACE"," ",175],["T_AS","as",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$name",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$formatter_type",175],")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n        ",175],["T_FOREACH","foreach",176],["T_WHITESPACE"," ",176],"(",["T_VARIABLE","$formatter_type",176],"[",["T_CONSTANT_ENCAPSED_STRING","'field_types'",176],"]",["T_WHITESPACE"," ",176],["T_AS","as",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$formatter_field_type",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n          ",176],["T_COMMENT","\/\/ Check that the field type exists.\n",177],["T_WHITESPACE","          ",178],["T_IF","if",178],["T_WHITESPACE"," ",178],"(",["T_ISSET","isset",178],"(",["T_VARIABLE","$field_types",178],"[",["T_VARIABLE","$formatter_field_type",178],"]",")",")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$options",179],"[",["T_VARIABLE","$formatter_field_type",179],"]","[",["T_VARIABLE","$name",179],"]",["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$formatter_type",179],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",179],"]",";",["T_WHITESPACE","\n          ",179],"}",["T_WHITESPACE","\n        ",180],"}",["T_WHITESPACE","\n      ",181],"}",["T_WHITESPACE","\n      ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","formatterOptions",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$options",183],";",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n    ",184],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$field_type",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n      ",185],["T_RETURN","return",186],["T_WHITESPACE"," ",186],"!",["T_EMPTY","empty",186],"(",["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","formatterOptions",186],"[",["T_VARIABLE","$field_type",186],"]",")",["T_WHITESPACE"," ",186],"?",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","formatterOptions",186],"[",["T_VARIABLE","$field_type",186],"]",["T_WHITESPACE"," ",186],":",["T_WHITESPACE"," ",186],["T_ARRAY","array",186],"(",")",";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n    ",187],["T_RETURN","return",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","formatterOptions",188],";",["T_WHITESPACE","\n  ",188],"}",["T_WHITESPACE","\n\n  ",189],["T_DOC_COMMENT","\/**\n   * Returns the default settings of a field formatter.\n   *\n   * @param string $type\n   *   A field formatter type name.\n   *\n   * @return array\n   *   The formatter type's default settings, as provided by the plugin\n   *   definition, or an empty array if type or settings are undefined.\n   *\/",191],["T_WHITESPACE","\n  ",200],["T_PUBLIC","public",201],["T_WHITESPACE"," ",201],["T_FUNCTION","function",201],["T_WHITESPACE"," ",201],["T_STRING","getDefaultSettings",201],"(",["T_VARIABLE","$type",201],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n    ",201],["T_VARIABLE","$plugin_definition",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getDefinition",202],"(",["T_VARIABLE","$type",202],",",["T_WHITESPACE"," ",202],["T_STRING","FALSE",202],")",";",["T_WHITESPACE","\n    ",202],["T_IF","if",203],["T_WHITESPACE"," ",203],"(","!",["T_EMPTY","empty",203],"(",["T_VARIABLE","$plugin_definition",203],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",203],"]",")",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n      ",203],["T_VARIABLE","$plugin_class",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_STRING","DefaultFactory",204],["T_DOUBLE_COLON","::",204],["T_STRING","getPluginClass",204],"(",["T_VARIABLE","$type",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$plugin_definition",204],")",";",["T_WHITESPACE","\n      ",204],["T_RETURN","return",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$plugin_class",205],["T_DOUBLE_COLON","::",205],["T_STRING","defaultSettings",205],"(",")",";",["T_WHITESPACE","\n    ",205],"}",["T_WHITESPACE","\n    ",206],["T_RETURN","return",207],["T_WHITESPACE"," ",207],["T_ARRAY","array",207],"(",")",";",["T_WHITESPACE","\n  ",207],"}",["T_WHITESPACE","\n\n",208],"}",["T_WHITESPACE","\n",210]]