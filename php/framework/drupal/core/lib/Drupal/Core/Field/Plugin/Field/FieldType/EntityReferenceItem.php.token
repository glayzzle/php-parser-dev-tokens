[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Field",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Field",3],["T_NS_SEPARATOR","\\",3],["T_STRING","FieldType",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Html",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],["T_NS_SEPARATOR","\\",6],["T_STRING","NestedArray",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","EntityInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EntityTypeInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","TypedData",9],["T_NS_SEPARATOR","\\",9],["T_STRING","EntityDataDefinition",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Field",10],["T_NS_SEPARATOR","\\",10],["T_STRING","FieldDefinitionInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Field",11],["T_NS_SEPARATOR","\\",11],["T_STRING","FieldItemBase",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Field",12],["T_NS_SEPARATOR","\\",12],["T_STRING","FieldStorageDefinitionInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Core",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Field",13],["T_NS_SEPARATOR","\\",13],["T_STRING","PreconfiguredFieldUiOptionsInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Core",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Form",14],["T_NS_SEPARATOR","\\",14],["T_STRING","FormStateInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Drupal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Core",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Form",15],["T_NS_SEPARATOR","\\",15],["T_STRING","OptGroup",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Drupal",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Core",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Render",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Element",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Drupal",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Core",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Session",17],["T_NS_SEPARATOR","\\",17],["T_STRING","AccountInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Drupal",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Core",18],["T_NS_SEPARATOR","\\",18],["T_STRING","StringTranslation",18],["T_NS_SEPARATOR","\\",18],["T_STRING","TranslatableMarkup",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Drupal",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Core",19],["T_NS_SEPARATOR","\\",19],["T_STRING","TypedData",19],["T_NS_SEPARATOR","\\",19],["T_STRING","DataReferenceDefinition",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Drupal",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Core",20],["T_NS_SEPARATOR","\\",20],["T_STRING","TypedData",20],["T_NS_SEPARATOR","\\",20],["T_STRING","DataReferenceTargetDefinition",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Drupal",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Core",21],["T_NS_SEPARATOR","\\",21],["T_STRING","TypedData",21],["T_NS_SEPARATOR","\\",21],["T_STRING","OptionsProviderInterface",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Drupal",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Core",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Validation",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Plugin",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Validation",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Constraint",22],["T_NS_SEPARATOR","\\",22],["T_STRING","AllowedValuesConstraint",22],";",["T_WHITESPACE","\n\n",22],["T_DOC_COMMENT","\/**\n * Defines the 'entity_reference' entity field type.\n *\n * Supported settings (below the definition's 'settings' key) are:\n * - target_type: The entity type to reference. Required.\n *\n * @FieldType(\n *   id = \"entity_reference\",\n *   label = @Translation(\"Entity reference\"),\n *   description = @Translation(\"An entity field containing an entity reference.\"),\n *   category = @Translation(\"Reference\"),\n *   default_widget = \"entity_reference_autocomplete\",\n *   default_formatter = \"entity_reference_label\",\n *   list_class = \"\\Drupal\\Core\\Field\\EntityReferenceFieldItemList\",\n * )\n *\/",24],["T_WHITESPACE","\n",39],["T_CLASS","class",40],["T_WHITESPACE"," ",40],["T_STRING","EntityReferenceItem",40],["T_WHITESPACE"," ",40],["T_EXTENDS","extends",40],["T_WHITESPACE"," ",40],["T_STRING","FieldItemBase",40],["T_WHITESPACE"," ",40],["T_IMPLEMENTS","implements",40],["T_WHITESPACE"," ",40],["T_STRING","OptionsProviderInterface",40],",",["T_WHITESPACE"," ",40],["T_STRING","PreconfiguredFieldUiOptionsInterface",40],["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n\n  ",40],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",42],["T_WHITESPACE","\n  ",44],["T_PUBLIC","public",45],["T_WHITESPACE"," ",45],["T_STATIC","static",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","defaultStorageSettings",45],"(",")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n    ",45],["T_RETURN","return",46],["T_WHITESPACE"," ",46],["T_ARRAY","array",46],"(",["T_WHITESPACE","\n      ",46],["T_CONSTANT_ENCAPSED_STRING","'target_type'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Drupal",47],["T_DOUBLE_COLON","::",47],["T_STRING","moduleHandler",47],"(",")",["T_OBJECT_OPERATOR","->",47],["T_STRING","moduleExists",47],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",47],")",["T_WHITESPACE"," ",47],"?",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'node'",47],["T_WHITESPACE"," ",47],":",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'user'",47],",",["T_WHITESPACE","\n    ",47],")",["T_WHITESPACE"," ",48],"+",["T_WHITESPACE"," ",48],["T_STRING","parent",48],["T_DOUBLE_COLON","::",48],["T_STRING","defaultStorageSettings",48],"(",")",";",["T_WHITESPACE","\n  ",48],"}",["T_WHITESPACE","\n\n  ",49],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",51],["T_WHITESPACE","\n  ",53],["T_PUBLIC","public",54],["T_WHITESPACE"," ",54],["T_STATIC","static",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","defaultFieldSettings",54],"(",")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n    ",54],["T_RETURN","return",55],["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",["T_WHITESPACE","\n      ",55],["T_CONSTANT_ENCAPSED_STRING","'handler'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'default'",56],",",["T_WHITESPACE","\n      ",56],["T_CONSTANT_ENCAPSED_STRING","'handler_settings'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_ARRAY","array",57],"(",")",",",["T_WHITESPACE","\n    ",57],")",["T_WHITESPACE"," ",58],"+",["T_WHITESPACE"," ",58],["T_STRING","parent",58],["T_DOUBLE_COLON","::",58],["T_STRING","defaultFieldSettings",58],"(",")",";",["T_WHITESPACE","\n  ",58],"}",["T_WHITESPACE","\n\n  ",59],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",61],["T_WHITESPACE","\n  ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_STATIC","static",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","propertyDefinitions",64],"(",["T_STRING","FieldStorageDefinitionInterface",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$field_definition",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$settings",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$field_definition",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getSettings",65],"(",")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$target_type_info",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Drupal",66],["T_DOUBLE_COLON","::",66],["T_STRING","entityManager",66],"(",")",["T_OBJECT_OPERATOR","->",66],["T_STRING","getDefinition",66],"(",["T_VARIABLE","$settings",66],"[",["T_CONSTANT_ENCAPSED_STRING","'target_type'",66],"]",")",";",["T_WHITESPACE","\n\n    ",66],["T_VARIABLE","$target_id_data_type",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'string'",68],";",["T_WHITESPACE","\n    ",68],["T_IF","if",69],["T_WHITESPACE"," ",69],"(",["T_VARIABLE","$target_type_info",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","isSubclassOf",69],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Core\\Entity\\FieldableEntityInterface'",69],")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n      ",69],["T_VARIABLE","$id_definition",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Drupal",70],["T_DOUBLE_COLON","::",70],["T_STRING","entityManager",70],"(",")",["T_OBJECT_OPERATOR","->",70],["T_STRING","getBaseFieldDefinitions",70],"(",["T_VARIABLE","$settings",70],"[",["T_CONSTANT_ENCAPSED_STRING","'target_type'",70],"]",")","[",["T_VARIABLE","$target_type_info",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getKey",70],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",70],")","]",";",["T_WHITESPACE","\n      ",70],["T_IF","if",71],["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$id_definition",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getType",71],"(",")",["T_WHITESPACE"," ",71],["T_IS_IDENTICAL","===",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'integer'",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$target_id_data_type",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'integer'",72],";",["T_WHITESPACE","\n      ",72],"}",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n\n    ",74],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$target_id_data_type",76],["T_WHITESPACE"," ",76],["T_IS_IDENTICAL","===",76],["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'integer'",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n      ",76],["T_VARIABLE","$target_id_definition",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","DataReferenceTargetDefinition",77],["T_DOUBLE_COLON","::",77],["T_STRING","create",77],"(",["T_CONSTANT_ENCAPSED_STRING","'integer'",77],")",["T_WHITESPACE","\n        ",77],["T_OBJECT_OPERATOR","->",78],["T_STRING","setLabel",78],"(",["T_NEW","new",78],["T_WHITESPACE"," ",78],["T_STRING","TranslatableMarkup",78],"(",["T_CONSTANT_ENCAPSED_STRING","'@label ID'",78],",",["T_WHITESPACE"," ",78],"[",["T_CONSTANT_ENCAPSED_STRING","'@label'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$target_type_info",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getLabel",78],"(",")","]",")",")",["T_WHITESPACE","\n        ",78],["T_OBJECT_OPERATOR","->",79],["T_STRING","setSetting",79],"(",["T_CONSTANT_ENCAPSED_STRING","'unsigned'",79],",",["T_WHITESPACE"," ",79],["T_STRING","TRUE",79],")",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n    ",80],["T_ELSE","else",81],["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n      ",81],["T_VARIABLE","$target_id_definition",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","DataReferenceTargetDefinition",82],["T_DOUBLE_COLON","::",82],["T_STRING","create",82],"(",["T_CONSTANT_ENCAPSED_STRING","'string'",82],")",["T_WHITESPACE","\n        ",82],["T_OBJECT_OPERATOR","->",83],["T_STRING","setLabel",83],"(",["T_NEW","new",83],["T_WHITESPACE"," ",83],["T_STRING","TranslatableMarkup",83],"(",["T_CONSTANT_ENCAPSED_STRING","'@label ID'",83],",",["T_WHITESPACE"," ",83],"[",["T_CONSTANT_ENCAPSED_STRING","'@label'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$target_type_info",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getLabel",83],"(",")","]",")",")",";",["T_WHITESPACE","\n    ",83],"}",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$target_id_definition",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","setRequired",85],"(",["T_STRING","TRUE",85],")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$properties",86],"[",["T_CONSTANT_ENCAPSED_STRING","'target_id'",86],"]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$target_id_definition",86],";",["T_WHITESPACE","\n\n    ",86],["T_VARIABLE","$properties",88],"[",["T_CONSTANT_ENCAPSED_STRING","'entity'",88],"]",["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","DataReferenceDefinition",88],["T_DOUBLE_COLON","::",88],["T_STRING","create",88],"(",["T_CONSTANT_ENCAPSED_STRING","'entity'",88],")",["T_WHITESPACE","\n      ",88],["T_OBJECT_OPERATOR","->",89],["T_STRING","setLabel",89],"(",["T_VARIABLE","$target_type_info",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getLabel",89],"(",")",")",["T_WHITESPACE","\n      ",89],["T_OBJECT_OPERATOR","->",90],["T_STRING","setDescription",90],"(",["T_NEW","new",90],["T_WHITESPACE"," ",90],["T_STRING","TranslatableMarkup",90],"(",["T_CONSTANT_ENCAPSED_STRING","'The referenced entity'",90],")",")",["T_WHITESPACE","\n      ",90],["T_COMMENT","\/\/ The entity object is computed out of the entity ID.\n",91],["T_WHITESPACE","      ",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","setComputed",92],"(",["T_STRING","TRUE",92],")",["T_WHITESPACE","\n      ",92],["T_OBJECT_OPERATOR","->",93],["T_STRING","setReadOnly",93],"(",["T_STRING","FALSE",93],")",["T_WHITESPACE","\n      ",93],["T_OBJECT_OPERATOR","->",94],["T_STRING","setTargetDefinition",94],"(",["T_STRING","EntityDataDefinition",94],["T_DOUBLE_COLON","::",94],["T_STRING","create",94],"(",["T_VARIABLE","$settings",94],"[",["T_CONSTANT_ENCAPSED_STRING","'target_type'",94],"]",")",")",["T_WHITESPACE","\n      ",94],["T_COMMENT","\/\/ We can add a constraint for the target entity type. The list of\n",95],["T_WHITESPACE","      ",96],["T_COMMENT","\/\/ referenceable bundles is a field setting, so the corresponding\n",96],["T_WHITESPACE","      ",97],["T_COMMENT","\/\/ constraint is added dynamically in ::getConstraints().\n",97],["T_WHITESPACE","      ",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","addConstraint",98],"(",["T_CONSTANT_ENCAPSED_STRING","'EntityType'",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$settings",98],"[",["T_CONSTANT_ENCAPSED_STRING","'target_type'",98],"]",")",";",["T_WHITESPACE","\n\n    ",98],["T_RETURN","return",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$properties",100],";",["T_WHITESPACE","\n  ",100],"}",["T_WHITESPACE","\n\n  ",101],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",103],["T_WHITESPACE","\n  ",105],["T_PUBLIC","public",106],["T_WHITESPACE"," ",106],["T_STATIC","static",106],["T_WHITESPACE"," ",106],["T_FUNCTION","function",106],["T_WHITESPACE"," ",106],["T_STRING","mainPropertyName",106],"(",")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n    ",106],["T_RETURN","return",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'target_id'",107],";",["T_WHITESPACE","\n  ",107],"}",["T_WHITESPACE","\n\n  ",108],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",110],["T_WHITESPACE","\n  ",112],["T_PUBLIC","public",113],["T_WHITESPACE"," ",113],["T_STATIC","static",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","schema",113],"(",["T_STRING","FieldStorageDefinitionInterface",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$field_definition",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$target_type",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$field_definition",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getSetting",114],"(",["T_CONSTANT_ENCAPSED_STRING","'target_type'",114],")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$target_type_info",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Drupal",115],["T_DOUBLE_COLON","::",115],["T_STRING","entityManager",115],"(",")",["T_OBJECT_OPERATOR","->",115],["T_STRING","getDefinition",115],"(",["T_VARIABLE","$target_type",115],")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$properties",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_STATIC","static",116],["T_DOUBLE_COLON","::",116],["T_STRING","propertyDefinitions",116],"(",["T_VARIABLE","$field_definition",116],")","[",["T_CONSTANT_ENCAPSED_STRING","'target_id'",116],"]",";",["T_WHITESPACE","\n    ",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$target_type_info",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","isSubclassOf",117],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Core\\Entity\\FieldableEntityInterface'",117],")",["T_WHITESPACE"," ",117],["T_BOOLEAN_AND","&&",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$properties",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getDataType",117],"(",")",["T_WHITESPACE"," ",117],["T_IS_IDENTICAL","===",117],["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'integer'",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n      ",117],["T_VARIABLE","$columns",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_ARRAY","array",118],"(",["T_WHITESPACE","\n        ",118],["T_CONSTANT_ENCAPSED_STRING","'target_id'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",["T_WHITESPACE","\n          ",119],["T_CONSTANT_ENCAPSED_STRING","'description'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'The ID of the target entity.'",120],",",["T_WHITESPACE","\n          ",120],["T_CONSTANT_ENCAPSED_STRING","'type'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'int'",121],",",["T_WHITESPACE","\n          ",121],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_STRING","TRUE",122],",",["T_WHITESPACE","\n        ",122],")",",",["T_WHITESPACE","\n      ",123],")",";",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n    ",125],["T_ELSE","else",126],["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n      ",126],["T_VARIABLE","$columns",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_ARRAY","array",127],"(",["T_WHITESPACE","\n        ",127],["T_CONSTANT_ENCAPSED_STRING","'target_id'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_ARRAY","array",128],"(",["T_WHITESPACE","\n          ",128],["T_CONSTANT_ENCAPSED_STRING","'description'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'The ID of the target entity.'",129],",",["T_WHITESPACE","\n          ",129],["T_CONSTANT_ENCAPSED_STRING","'type'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'varchar_ascii'",130],",",["T_WHITESPACE","\n          ",130],["T_COMMENT","\/\/ If the target entities act as bundles for another entity type,\n",131],["T_WHITESPACE","          ",132],["T_COMMENT","\/\/ their IDs should not exceed the maximum length for bundles.\n",132],["T_WHITESPACE","          ",133],["T_CONSTANT_ENCAPSED_STRING","'length'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$target_type_info",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getBundleOf",133],"(",")",["T_WHITESPACE"," ",133],"?",["T_WHITESPACE"," ",133],["T_STRING","EntityTypeInterface",133],["T_DOUBLE_COLON","::",133],["T_STRING","BUNDLE_MAX_LENGTH",133],["T_WHITESPACE"," ",133],":",["T_WHITESPACE"," ",133],["T_LNUMBER","255",133],",",["T_WHITESPACE","\n        ",133],")",",",["T_WHITESPACE","\n      ",134],")",";",["T_WHITESPACE","\n    ",135],"}",["T_WHITESPACE","\n\n    ",136],["T_VARIABLE","$schema",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_ARRAY","array",138],"(",["T_WHITESPACE","\n      ",138],["T_CONSTANT_ENCAPSED_STRING","'columns'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$columns",139],",",["T_WHITESPACE","\n      ",139],["T_CONSTANT_ENCAPSED_STRING","'indexes'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_ARRAY","array",140],"(",["T_WHITESPACE","\n        ",140],["T_CONSTANT_ENCAPSED_STRING","'target_id'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_ARRAY","array",141],"(",["T_CONSTANT_ENCAPSED_STRING","'target_id'",141],")",",",["T_WHITESPACE","\n      ",141],")",",",["T_WHITESPACE","\n    ",142],")",";",["T_WHITESPACE","\n\n    ",143],["T_RETURN","return",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$schema",145],";",["T_WHITESPACE","\n  ",145],"}",["T_WHITESPACE","\n\n  ",146],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",148],["T_WHITESPACE","\n  ",150],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","getConstraints",151],"(",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n    ",151],["T_VARIABLE","$constraints",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING","parent",152],["T_DOUBLE_COLON","::",152],["T_STRING","getConstraints",152],"(",")",";",["T_WHITESPACE","\n    ",152],["T_COMMENT","\/\/ Remove the 'AllowedValuesConstraint' validation constraint because entity\n",153],["T_WHITESPACE","    ",154],["T_COMMENT","\/\/ reference fields already use the 'ValidReference' constraint.\n",154],["T_WHITESPACE","    ",155],["T_FOREACH","foreach",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$constraints",155],["T_WHITESPACE"," ",155],["T_AS","as",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$key",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$constraint",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n      ",155],["T_IF","if",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$constraint",156],["T_WHITESPACE"," ",156],["T_INSTANCEOF","instanceof",156],["T_WHITESPACE"," ",156],["T_STRING","AllowedValuesConstraint",156],")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n        ",156],["T_UNSET","unset",157],"(",["T_VARIABLE","$constraints",157],"[",["T_VARIABLE","$key",157],"]",")",";",["T_WHITESPACE","\n      ",157],"}",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n    ",159],["T_RETURN","return",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$constraints",160],";",["T_WHITESPACE","\n  ",160],"}",["T_WHITESPACE","\n\n  ",161],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",163],["T_WHITESPACE","\n  ",165],["T_PUBLIC","public",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","setValue",166],"(",["T_VARIABLE","$values",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$notify",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_STRING","TRUE",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n    ",166],["T_IF","if",167],["T_WHITESPACE"," ",167],"(",["T_ISSET","isset",167],"(",["T_VARIABLE","$values",167],")",["T_WHITESPACE"," ",167],["T_BOOLEAN_AND","&&",167],["T_WHITESPACE"," ",167],"!",["T_STRING","is_array",167],"(",["T_VARIABLE","$values",167],")",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n      ",167],["T_COMMENT","\/\/ If either a scalar or an object was passed as the value for the item,\n",168],["T_WHITESPACE","      ",169],["T_COMMENT","\/\/ assign it to the 'entity' property since that works for both cases.\n",169],["T_WHITESPACE","      ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","set",170],"(",["T_CONSTANT_ENCAPSED_STRING","'entity'",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$values",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$notify",170],")",";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n    ",171],["T_ELSE","else",172],["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n      ",172],["T_STRING","parent",173],["T_DOUBLE_COLON","::",173],["T_STRING","setValue",173],"(",["T_VARIABLE","$values",173],",",["T_WHITESPACE"," ",173],["T_STRING","FALSE",173],")",";",["T_WHITESPACE","\n      ",173],["T_COMMENT","\/\/ Support setting the field item with only one property, but make sure\n",174],["T_WHITESPACE","      ",175],["T_COMMENT","\/\/ values stay in sync if only property is passed.\n",175],["T_WHITESPACE","      ",176],["T_COMMENT","\/\/ NULL is a valid value, so we use array_key_exists().\n",176],["T_WHITESPACE","      ",177],["T_IF","if",177],["T_WHITESPACE"," ",177],"(",["T_STRING","is_array",177],"(",["T_VARIABLE","$values",177],")",["T_WHITESPACE"," ",177],["T_BOOLEAN_AND","&&",177],["T_WHITESPACE"," ",177],["T_STRING","array_key_exists",177],"(",["T_CONSTANT_ENCAPSED_STRING","'target_id'",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$values",177],")",["T_WHITESPACE"," ",177],["T_BOOLEAN_AND","&&",177],["T_WHITESPACE"," ",177],"!",["T_ISSET","isset",177],"(",["T_VARIABLE","$values",177],"[",["T_CONSTANT_ENCAPSED_STRING","'entity'",177],"]",")",")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","onChange",178],"(",["T_CONSTANT_ENCAPSED_STRING","'target_id'",178],",",["T_WHITESPACE"," ",178],["T_STRING","FALSE",178],")",";",["T_WHITESPACE","\n      ",178],"}",["T_WHITESPACE","\n      ",179],["T_ELSEIF","elseif",180],["T_WHITESPACE"," ",180],"(",["T_STRING","is_array",180],"(",["T_VARIABLE","$values",180],")",["T_WHITESPACE"," ",180],["T_BOOLEAN_AND","&&",180],["T_WHITESPACE"," ",180],"!",["T_STRING","array_key_exists",180],"(",["T_CONSTANT_ENCAPSED_STRING","'target_id'",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$values",180],")",["T_WHITESPACE"," ",180],["T_BOOLEAN_AND","&&",180],["T_WHITESPACE"," ",180],["T_ISSET","isset",180],"(",["T_VARIABLE","$values",180],"[",["T_CONSTANT_ENCAPSED_STRING","'entity'",180],"]",")",")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","onChange",181],"(",["T_CONSTANT_ENCAPSED_STRING","'entity'",181],",",["T_WHITESPACE"," ",181],["T_STRING","FALSE",181],")",";",["T_WHITESPACE","\n      ",181],"}",["T_WHITESPACE","\n      ",182],["T_ELSEIF","elseif",183],["T_WHITESPACE"," ",183],"(",["T_STRING","is_array",183],"(",["T_VARIABLE","$values",183],")",["T_WHITESPACE"," ",183],["T_BOOLEAN_AND","&&",183],["T_WHITESPACE"," ",183],["T_STRING","array_key_exists",183],"(",["T_CONSTANT_ENCAPSED_STRING","'target_id'",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$values",183],")",["T_WHITESPACE"," ",183],["T_BOOLEAN_AND","&&",183],["T_WHITESPACE"," ",183],["T_ISSET","isset",183],"(",["T_VARIABLE","$values",183],"[",["T_CONSTANT_ENCAPSED_STRING","'entity'",183],"]",")",")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n        ",183],["T_COMMENT","\/\/ If both properties are passed, verify the passed values match. The\n",184],["T_WHITESPACE","        ",185],["T_COMMENT","\/\/ only exception we allow is when we have a new entity: in this case\n",185],["T_WHITESPACE","        ",186],["T_COMMENT","\/\/ its actual id and target_id will be different, due to the new entity\n",186],["T_WHITESPACE","        ",187],["T_COMMENT","\/\/ marker.\n",187],["T_WHITESPACE","        ",188],["T_VARIABLE","$entity_id",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","get",188],"(",["T_CONSTANT_ENCAPSED_STRING","'entity'",188],")",["T_OBJECT_OPERATOR","->",188],["T_STRING","getTargetIdentifier",188],"(",")",";",["T_WHITESPACE","\n        ",188],["T_COMMENT","\/\/ If the entity has been saved and we're trying to set both the\n",189],["T_WHITESPACE","        ",190],["T_COMMENT","\/\/ target_id and the entity values with a non-null target ID, then the\n",190],["T_WHITESPACE","        ",191],["T_COMMENT","\/\/ value for target_id should match the ID of the entity value.\n",191],["T_WHITESPACE","        ",192],["T_IF","if",192],["T_WHITESPACE"," ",192],"(","!",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","entity",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","isNew",192],"(",")",["T_WHITESPACE"," ",192],["T_BOOLEAN_AND","&&",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$values",192],"[",["T_CONSTANT_ENCAPSED_STRING","'target_id'",192],"]",["T_WHITESPACE"," ",192],["T_IS_NOT_IDENTICAL","!==",192],["T_WHITESPACE"," ",192],["T_STRING","NULL",192],["T_WHITESPACE"," ",192],["T_BOOLEAN_AND","&&",192],["T_WHITESPACE"," ",192],"(",["T_VARIABLE","$entity_id",192],["T_WHITESPACE"," ",192],["T_IS_NOT_IDENTICAL","!==",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$values",192],"[",["T_CONSTANT_ENCAPSED_STRING","'target_id'",192],"]",")",")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n          ",192],["T_THROW","throw",193],["T_WHITESPACE"," ",193],["T_NEW","new",193],["T_WHITESPACE"," ",193],["T_NS_SEPARATOR","\\",193],["T_STRING","InvalidArgumentException",193],"(",["T_CONSTANT_ENCAPSED_STRING","'The target id and entity passed to the entity reference item do not match.'",193],")",";",["T_WHITESPACE","\n        ",193],"}",["T_WHITESPACE","\n      ",194],"}",["T_WHITESPACE","\n      ",195],["T_COMMENT","\/\/ Notify the parent if necessary.\n",196],["T_WHITESPACE","      ",197],["T_IF","if",197],["T_WHITESPACE"," ",197],"(",["T_VARIABLE","$notify",197],["T_WHITESPACE"," ",197],["T_BOOLEAN_AND","&&",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","parent",197],")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","parent",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","onChange",198],"(",["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getName",198],"(",")",")",";",["T_WHITESPACE","\n      ",198],"}",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n\n  ",200],"}",["T_WHITESPACE","\n\n  ",202],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",204],["T_WHITESPACE","\n  ",206],["T_PUBLIC","public",207],["T_WHITESPACE"," ",207],["T_FUNCTION","function",207],["T_WHITESPACE"," ",207],["T_STRING","getValue",207],"(",")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n    ",207],["T_VARIABLE","$values",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_STRING","parent",208],["T_DOUBLE_COLON","::",208],["T_STRING","getValue",208],"(",")",";",["T_WHITESPACE","\n\n    ",208],["T_COMMENT","\/\/ If there is an unsaved entity, return it as part of the field item values\n",210],["T_WHITESPACE","    ",211],["T_COMMENT","\/\/ to ensure idempotency of getValue() \/ setValue().\n",211],["T_WHITESPACE","    ",212],["T_IF","if",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","hasNewEntity",212],"(",")",")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n      ",212],["T_VARIABLE","$values",213],"[",["T_CONSTANT_ENCAPSED_STRING","'entity'",213],"]",["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","entity",213],";",["T_WHITESPACE","\n    ",213],"}",["T_WHITESPACE","\n    ",214],["T_RETURN","return",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$values",215],";",["T_WHITESPACE","\n  ",215],"}",["T_WHITESPACE","\n\n  ",216],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",218],["T_WHITESPACE","\n  ",220],["T_PUBLIC","public",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","onChange",221],"(",["T_VARIABLE","$property_name",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$notify",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_STRING","TRUE",221],")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n    ",221],["T_COMMENT","\/\/ Make sure that the target ID and the target property stay in sync.\n",222],["T_WHITESPACE","    ",223],["T_IF","if",223],["T_WHITESPACE"," ",223],"(",["T_VARIABLE","$property_name",223],["T_WHITESPACE"," ",223],["T_IS_EQUAL","==",223],["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'entity'",223],")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n      ",223],["T_VARIABLE","$property",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","get",224],"(",["T_CONSTANT_ENCAPSED_STRING","'entity'",224],")",";",["T_WHITESPACE","\n      ",224],["T_VARIABLE","$target_id",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$property",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","isTargetNew",225],"(",")",["T_WHITESPACE"," ",225],"?",["T_WHITESPACE"," ",225],["T_STRING","NULL",225],["T_WHITESPACE"," ",225],":",["T_WHITESPACE"," ",225],["T_VARIABLE","$property",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","getTargetIdentifier",225],"(",")",";",["T_WHITESPACE","\n      ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","writePropertyValue",226],"(",["T_CONSTANT_ENCAPSED_STRING","'target_id'",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$target_id",226],")",";",["T_WHITESPACE","\n    ",226],"}",["T_WHITESPACE","\n    ",227],["T_ELSEIF","elseif",228],["T_WHITESPACE"," ",228],"(",["T_VARIABLE","$property_name",228],["T_WHITESPACE"," ",228],["T_IS_EQUAL","==",228],["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","'target_id'",228],")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n      ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","writePropertyValue",229],"(",["T_CONSTANT_ENCAPSED_STRING","'entity'",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","target_id",229],")",";",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n    ",230],["T_STRING","parent",231],["T_DOUBLE_COLON","::",231],["T_STRING","onChange",231],"(",["T_VARIABLE","$property_name",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$notify",231],")",";",["T_WHITESPACE","\n  ",231],"}",["T_WHITESPACE","\n\n  ",232],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",234],["T_WHITESPACE","\n  ",236],["T_PUBLIC","public",237],["T_WHITESPACE"," ",237],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","isEmpty",237],"(",")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n    ",237],["T_COMMENT","\/\/ Avoid loading the entity by first checking the 'target_id'.\n",238],["T_WHITESPACE","    ",239],["T_IF","if",239],["T_WHITESPACE"," ",239],"(",["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","target_id",239],["T_WHITESPACE"," ",239],["T_IS_NOT_IDENTICAL","!==",239],["T_WHITESPACE"," ",239],["T_STRING","NULL",239],")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n      ",239],["T_RETURN","return",240],["T_WHITESPACE"," ",240],["T_STRING","FALSE",240],";",["T_WHITESPACE","\n    ",240],"}",["T_WHITESPACE","\n    ",241],["T_IF","if",242],["T_WHITESPACE"," ",242],"(",["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","entity",242],["T_WHITESPACE"," ",242],["T_BOOLEAN_AND","&&",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","entity",242],["T_WHITESPACE"," ",242],["T_INSTANCEOF","instanceof",242],["T_WHITESPACE"," ",242],["T_STRING","EntityInterface",242],")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n      ",242],["T_RETURN","return",243],["T_WHITESPACE"," ",243],["T_STRING","FALSE",243],";",["T_WHITESPACE","\n    ",243],"}",["T_WHITESPACE","\n    ",244],["T_RETURN","return",245],["T_WHITESPACE"," ",245],["T_STRING","TRUE",245],";",["T_WHITESPACE","\n  ",245],"}",["T_WHITESPACE","\n\n  ",246],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",248],["T_WHITESPACE","\n  ",250],["T_PUBLIC","public",251],["T_WHITESPACE"," ",251],["T_FUNCTION","function",251],["T_WHITESPACE"," ",251],["T_STRING","preSave",251],"(",")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n    ",251],["T_IF","if",252],["T_WHITESPACE"," ",252],"(",["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","hasNewEntity",252],"(",")",")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n      ",252],["T_COMMENT","\/\/ Save the entity if it has not already been saved by some other code.\n",253],["T_WHITESPACE","      ",254],["T_IF","if",254],["T_WHITESPACE"," ",254],"(",["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","entity",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","isNew",254],"(",")",")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","entity",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","save",255],"(",")",";",["T_WHITESPACE","\n      ",255],"}",["T_WHITESPACE","\n      ",256],["T_COMMENT","\/\/ Make sure the parent knows we are updating this property so it can\n",257],["T_WHITESPACE","      ",258],["T_COMMENT","\/\/ react properly.\n",258],["T_WHITESPACE","      ",259],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","target_id",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","entity",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","id",259],"(",")",";",["T_WHITESPACE","\n    ",259],"}",["T_WHITESPACE","\n    ",260],["T_IF","if",261],["T_WHITESPACE"," ",261],"(","!",["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","isEmpty",261],"(",")",["T_WHITESPACE"," ",261],["T_BOOLEAN_AND","&&",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","target_id",261],["T_WHITESPACE"," ",261],["T_IS_IDENTICAL","===",261],["T_WHITESPACE"," ",261],["T_STRING","NULL",261],")",["T_WHITESPACE"," ",261],"{",["T_WHITESPACE","\n      ",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","target_id",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","entity",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","id",262],"(",")",";",["T_WHITESPACE","\n    ",262],"}",["T_WHITESPACE","\n  ",263],"}",["T_WHITESPACE","\n\n  ",264],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",266],["T_WHITESPACE","\n  ",268],["T_PUBLIC","public",269],["T_WHITESPACE"," ",269],["T_STATIC","static",269],["T_WHITESPACE"," ",269],["T_FUNCTION","function",269],["T_WHITESPACE"," ",269],["T_STRING","generateSampleValue",269],"(",["T_STRING","FieldDefinitionInterface",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$field_definition",269],")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n    ",269],["T_VARIABLE","$manager",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_NS_SEPARATOR","\\",270],["T_STRING","Drupal",270],["T_DOUBLE_COLON","::",270],["T_STRING","service",270],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.entity_reference_selection'",270],")",";",["T_WHITESPACE","\n\n    ",270],["T_COMMENT","\/\/ Instead of calling $manager->getSelectionHandler($field_definition)\n",272],["T_WHITESPACE","    ",273],["T_COMMENT","\/\/ replicate the behavior to be able to override the sorting settings.\n",273],["T_WHITESPACE","    ",274],["T_VARIABLE","$options",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_ARRAY","array",274],"(",["T_WHITESPACE","\n      ",274],["T_CONSTANT_ENCAPSED_STRING","'target_type'",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$field_definition",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getFieldStorageDefinition",275],"(",")",["T_OBJECT_OPERATOR","->",275],["T_STRING","getSetting",275],"(",["T_CONSTANT_ENCAPSED_STRING","'target_type'",275],")",",",["T_WHITESPACE","\n      ",275],["T_CONSTANT_ENCAPSED_STRING","'handler'",276],["T_WHITESPACE"," ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$field_definition",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","getSetting",276],"(",["T_CONSTANT_ENCAPSED_STRING","'handler'",276],")",",",["T_WHITESPACE","\n      ",276],["T_CONSTANT_ENCAPSED_STRING","'handler_settings'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$field_definition",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","getSetting",277],"(",["T_CONSTANT_ENCAPSED_STRING","'handler_settings'",277],")",["T_WHITESPACE"," ",277],"?",":",["T_WHITESPACE"," ",277],["T_ARRAY","array",277],"(",")",",",["T_WHITESPACE","\n      ",277],["T_CONSTANT_ENCAPSED_STRING","'entity'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_STRING","NULL",278],",",["T_WHITESPACE","\n    ",278],")",";",["T_WHITESPACE","\n\n    ",279],["T_VARIABLE","$entity_type",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_NS_SEPARATOR","\\",281],["T_STRING","Drupal",281],["T_DOUBLE_COLON","::",281],["T_STRING","entityManager",281],"(",")",["T_OBJECT_OPERATOR","->",281],["T_STRING","getDefinition",281],"(",["T_VARIABLE","$options",281],"[",["T_CONSTANT_ENCAPSED_STRING","'target_type'",281],"]",")",";",["T_WHITESPACE","\n    ",281],["T_VARIABLE","$options",282],"[",["T_CONSTANT_ENCAPSED_STRING","'handler_settings'",282],"]","[",["T_CONSTANT_ENCAPSED_STRING","'sort'",282],"]",["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],"[",["T_WHITESPACE","\n      ",282],["T_CONSTANT_ENCAPSED_STRING","'field'",283],["T_WHITESPACE"," ",283],["T_DOUBLE_ARROW","=>",283],["T_WHITESPACE"," ",283],["T_VARIABLE","$entity_type",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","getKey",283],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",283],")",",",["T_WHITESPACE","\n      ",283],["T_CONSTANT_ENCAPSED_STRING","'direction'",284],["T_WHITESPACE"," ",284],["T_DOUBLE_ARROW","=>",284],["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'DESC'",284],",",["T_WHITESPACE","\n    ",284],"]",";",["T_WHITESPACE","\n    ",285],["T_VARIABLE","$selection_handler",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_VARIABLE","$manager",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","getInstance",286],"(",["T_VARIABLE","$options",286],")",";",["T_WHITESPACE","\n\n    ",286],["T_COMMENT","\/\/ Select a random number of references between the last 50 referenceable\n",288],["T_WHITESPACE","    ",289],["T_COMMENT","\/\/ entities created.\n",289],["T_WHITESPACE","    ",290],["T_IF","if",290],["T_WHITESPACE"," ",290],"(",["T_VARIABLE","$referenceable",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$selection_handler",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","getReferenceableEntities",290],"(",["T_STRING","NULL",290],",",["T_WHITESPACE"," ",290],["T_CONSTANT_ENCAPSED_STRING","'CONTAINS'",290],",",["T_WHITESPACE"," ",290],["T_LNUMBER","50",290],")",")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n      ",290],["T_VARIABLE","$group",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_STRING","array_rand",291],"(",["T_VARIABLE","$referenceable",291],")",";",["T_WHITESPACE","\n      ",291],["T_VARIABLE","$values",292],"[",["T_CONSTANT_ENCAPSED_STRING","'target_id'",292],"]",["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_STRING","array_rand",292],"(",["T_VARIABLE","$referenceable",292],"[",["T_VARIABLE","$group",292],"]",")",";",["T_WHITESPACE","\n      ",292],["T_RETURN","return",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$values",293],";",["T_WHITESPACE","\n    ",293],"}",["T_WHITESPACE","\n  ",294],"}",["T_WHITESPACE","\n\n  ",295],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",297],["T_WHITESPACE","\n  ",299],["T_PUBLIC","public",300],["T_WHITESPACE"," ",300],["T_FUNCTION","function",300],["T_WHITESPACE"," ",300],["T_STRING","storageSettingsForm",300],"(",["T_ARRAY","array",300],["T_WHITESPACE"," ",300],"&",["T_VARIABLE","$form",300],",",["T_WHITESPACE"," ",300],["T_STRING","FormStateInterface",300],["T_WHITESPACE"," ",300],["T_VARIABLE","$form_state",300],",",["T_WHITESPACE"," ",300],["T_VARIABLE","$has_data",300],")",["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n    ",300],["T_VARIABLE","$element",301],"[",["T_CONSTANT_ENCAPSED_STRING","'target_type'",301],"]",["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_ARRAY","array",301],"(",["T_WHITESPACE","\n      ",301],["T_CONSTANT_ENCAPSED_STRING","'#type'",302],["T_WHITESPACE"," ",302],["T_DOUBLE_ARROW","=>",302],["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","'select'",302],",",["T_WHITESPACE","\n      ",302],["T_CONSTANT_ENCAPSED_STRING","'#title'",303],["T_WHITESPACE"," ",303],["T_DOUBLE_ARROW","=>",303],["T_WHITESPACE"," ",303],["T_STRING","t",303],"(",["T_CONSTANT_ENCAPSED_STRING","'Type of item to reference'",303],")",",",["T_WHITESPACE","\n      ",303],["T_CONSTANT_ENCAPSED_STRING","'#options'",304],["T_WHITESPACE"," ",304],["T_DOUBLE_ARROW","=>",304],["T_WHITESPACE"," ",304],["T_NS_SEPARATOR","\\",304],["T_STRING","Drupal",304],["T_DOUBLE_COLON","::",304],["T_STRING","entityManager",304],"(",")",["T_OBJECT_OPERATOR","->",304],["T_STRING","getEntityTypeLabels",304],"(",["T_STRING","TRUE",304],")",",",["T_WHITESPACE","\n      ",304],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",305],["T_WHITESPACE"," ",305],["T_DOUBLE_ARROW","=>",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","getSetting",305],"(",["T_CONSTANT_ENCAPSED_STRING","'target_type'",305],")",",",["T_WHITESPACE","\n      ",305],["T_CONSTANT_ENCAPSED_STRING","'#required'",306],["T_WHITESPACE"," ",306],["T_DOUBLE_ARROW","=>",306],["T_WHITESPACE"," ",306],["T_STRING","TRUE",306],",",["T_WHITESPACE","\n      ",306],["T_CONSTANT_ENCAPSED_STRING","'#disabled'",307],["T_WHITESPACE"," ",307],["T_DOUBLE_ARROW","=>",307],["T_WHITESPACE"," ",307],["T_VARIABLE","$has_data",307],",",["T_WHITESPACE","\n      ",307],["T_CONSTANT_ENCAPSED_STRING","'#size'",308],["T_WHITESPACE"," ",308],["T_DOUBLE_ARROW","=>",308],["T_WHITESPACE"," ",308],["T_LNUMBER","1",308],",",["T_WHITESPACE","\n    ",308],")",";",["T_WHITESPACE","\n\n    ",309],["T_RETURN","return",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$element",311],";",["T_WHITESPACE","\n  ",311],"}",["T_WHITESPACE","\n\n  ",312],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",314],["T_WHITESPACE","\n  ",316],["T_PUBLIC","public",317],["T_WHITESPACE"," ",317],["T_FUNCTION","function",317],["T_WHITESPACE"," ",317],["T_STRING","fieldSettingsForm",317],"(",["T_ARRAY","array",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$form",317],",",["T_WHITESPACE"," ",317],["T_STRING","FormStateInterface",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$form_state",317],")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n    ",317],["T_VARIABLE","$field",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_VARIABLE","$form_state",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","getFormObject",318],"(",")",["T_OBJECT_OPERATOR","->",318],["T_STRING","getEntity",318],"(",")",";",["T_WHITESPACE","\n\n    ",318],["T_COMMENT","\/\/ Get all selection plugins for this entity type.\n",320],["T_WHITESPACE","    ",321],["T_VARIABLE","$selection_plugins",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_NS_SEPARATOR","\\",321],["T_STRING","Drupal",321],["T_DOUBLE_COLON","::",321],["T_STRING","service",321],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.entity_reference_selection'",321],")",["T_OBJECT_OPERATOR","->",321],["T_STRING","getSelectionGroups",321],"(",["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","getSetting",321],"(",["T_CONSTANT_ENCAPSED_STRING","'target_type'",321],")",")",";",["T_WHITESPACE","\n    ",321],["T_VARIABLE","$handlers_options",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_ARRAY","array",322],"(",")",";",["T_WHITESPACE","\n    ",322],["T_FOREACH","foreach",323],["T_WHITESPACE"," ",323],"(",["T_STRING","array_keys",323],"(",["T_VARIABLE","$selection_plugins",323],")",["T_WHITESPACE"," ",323],["T_AS","as",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$selection_group_id",323],")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n      ",323],["T_COMMENT","\/\/ We only display base plugins (e.g. 'default', 'views', ...) and not\n",324],["T_WHITESPACE","      ",325],["T_COMMENT","\/\/ entity type specific plugins (e.g. 'default:node', 'default:user',\n",325],["T_WHITESPACE","      ",326],["T_COMMENT","\/\/ ...).\n",326],["T_WHITESPACE","      ",327],["T_IF","if",327],["T_WHITESPACE"," ",327],"(",["T_STRING","array_key_exists",327],"(",["T_VARIABLE","$selection_group_id",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$selection_plugins",327],"[",["T_VARIABLE","$selection_group_id",327],"]",")",")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n        ",327],["T_VARIABLE","$handlers_options",328],"[",["T_VARIABLE","$selection_group_id",328],"]",["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_STRING","Html",328],["T_DOUBLE_COLON","::",328],["T_STRING","escape",328],"(",["T_VARIABLE","$selection_plugins",328],"[",["T_VARIABLE","$selection_group_id",328],"]","[",["T_VARIABLE","$selection_group_id",328],"]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",328],"]",")",";",["T_WHITESPACE","\n      ",328],"}",["T_WHITESPACE","\n      ",329],["T_ELSEIF","elseif",330],["T_WHITESPACE"," ",330],"(",["T_STRING","array_key_exists",330],"(",["T_VARIABLE","$selection_group_id",330],["T_WHITESPACE"," ",330],".",["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","':'",330],["T_WHITESPACE"," ",330],".",["T_WHITESPACE"," ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","getSetting",330],"(",["T_CONSTANT_ENCAPSED_STRING","'target_type'",330],")",",",["T_WHITESPACE"," ",330],["T_VARIABLE","$selection_plugins",330],"[",["T_VARIABLE","$selection_group_id",330],"]",")",")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n        ",330],["T_VARIABLE","$selection_group_plugin",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_VARIABLE","$selection_group_id",331],["T_WHITESPACE"," ",331],".",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","':'",331],["T_WHITESPACE"," ",331],".",["T_WHITESPACE"," ",331],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getSetting",331],"(",["T_CONSTANT_ENCAPSED_STRING","'target_type'",331],")",";",["T_WHITESPACE","\n        ",331],["T_VARIABLE","$handlers_options",332],"[",["T_VARIABLE","$selection_group_plugin",332],"]",["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_STRING","Html",332],["T_DOUBLE_COLON","::",332],["T_STRING","escape",332],"(",["T_VARIABLE","$selection_plugins",332],"[",["T_VARIABLE","$selection_group_id",332],"]","[",["T_VARIABLE","$selection_group_plugin",332],"]","[",["T_CONSTANT_ENCAPSED_STRING","'base_plugin_label'",332],"]",")",";",["T_WHITESPACE","\n      ",332],"}",["T_WHITESPACE","\n    ",333],"}",["T_WHITESPACE","\n\n    ",334],["T_VARIABLE","$form",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_ARRAY","array",336],"(",["T_WHITESPACE","\n      ",336],["T_CONSTANT_ENCAPSED_STRING","'#type'",337],["T_WHITESPACE"," ",337],["T_DOUBLE_ARROW","=>",337],["T_WHITESPACE"," ",337],["T_CONSTANT_ENCAPSED_STRING","'container'",337],",",["T_WHITESPACE","\n      ",337],["T_CONSTANT_ENCAPSED_STRING","'#process'",338],["T_WHITESPACE"," ",338],["T_DOUBLE_ARROW","=>",338],["T_WHITESPACE"," ",338],["T_ARRAY","array",338],"(",["T_ARRAY","array",338],"(",["T_STRING","get_class",338],"(",["T_VARIABLE","$this",338],")",",",["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","'fieldSettingsAjaxProcess'",338],")",")",",",["T_WHITESPACE","\n      ",338],["T_CONSTANT_ENCAPSED_STRING","'#element_validate'",339],["T_WHITESPACE"," ",339],["T_DOUBLE_ARROW","=>",339],["T_WHITESPACE"," ",339],["T_ARRAY","array",339],"(",["T_ARRAY","array",339],"(",["T_STRING","get_class",339],"(",["T_VARIABLE","$this",339],")",",",["T_WHITESPACE"," ",339],["T_CONSTANT_ENCAPSED_STRING","'fieldSettingsFormValidate'",339],")",")",",",["T_WHITESPACE","\n\n    ",339],")",";",["T_WHITESPACE","\n    ",341],["T_VARIABLE","$form",342],"[",["T_CONSTANT_ENCAPSED_STRING","'handler'",342],"]",["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_ARRAY","array",342],"(",["T_WHITESPACE","\n      ",342],["T_CONSTANT_ENCAPSED_STRING","'#type'",343],["T_WHITESPACE"," ",343],["T_DOUBLE_ARROW","=>",343],["T_WHITESPACE"," ",343],["T_CONSTANT_ENCAPSED_STRING","'details'",343],",",["T_WHITESPACE","\n      ",343],["T_CONSTANT_ENCAPSED_STRING","'#title'",344],["T_WHITESPACE"," ",344],["T_DOUBLE_ARROW","=>",344],["T_WHITESPACE"," ",344],["T_STRING","t",344],"(",["T_CONSTANT_ENCAPSED_STRING","'Reference type'",344],")",",",["T_WHITESPACE","\n      ",344],["T_CONSTANT_ENCAPSED_STRING","'#open'",345],["T_WHITESPACE"," ",345],["T_DOUBLE_ARROW","=>",345],["T_WHITESPACE"," ",345],["T_STRING","TRUE",345],",",["T_WHITESPACE","\n      ",345],["T_CONSTANT_ENCAPSED_STRING","'#tree'",346],["T_WHITESPACE"," ",346],["T_DOUBLE_ARROW","=>",346],["T_WHITESPACE"," ",346],["T_STRING","TRUE",346],",",["T_WHITESPACE","\n      ",346],["T_CONSTANT_ENCAPSED_STRING","'#process'",347],["T_WHITESPACE"," ",347],["T_DOUBLE_ARROW","=>",347],["T_WHITESPACE"," ",347],["T_ARRAY","array",347],"(",["T_ARRAY","array",347],"(",["T_STRING","get_class",347],"(",["T_VARIABLE","$this",347],")",",",["T_WHITESPACE"," ",347],["T_CONSTANT_ENCAPSED_STRING","'formProcessMergeParent'",347],")",")",",",["T_WHITESPACE","\n    ",347],")",";",["T_WHITESPACE","\n\n    ",348],["T_VARIABLE","$form",350],"[",["T_CONSTANT_ENCAPSED_STRING","'handler'",350],"]","[",["T_CONSTANT_ENCAPSED_STRING","'handler'",350],"]",["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_ARRAY","array",350],"(",["T_WHITESPACE","\n      ",350],["T_CONSTANT_ENCAPSED_STRING","'#type'",351],["T_WHITESPACE"," ",351],["T_DOUBLE_ARROW","=>",351],["T_WHITESPACE"," ",351],["T_CONSTANT_ENCAPSED_STRING","'select'",351],",",["T_WHITESPACE","\n      ",351],["T_CONSTANT_ENCAPSED_STRING","'#title'",352],["T_WHITESPACE"," ",352],["T_DOUBLE_ARROW","=>",352],["T_WHITESPACE"," ",352],["T_STRING","t",352],"(",["T_CONSTANT_ENCAPSED_STRING","'Reference method'",352],")",",",["T_WHITESPACE","\n      ",352],["T_CONSTANT_ENCAPSED_STRING","'#options'",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$handlers_options",353],",",["T_WHITESPACE","\n      ",353],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",354],["T_WHITESPACE"," ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$field",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","getSetting",354],"(",["T_CONSTANT_ENCAPSED_STRING","'handler'",354],")",",",["T_WHITESPACE","\n      ",354],["T_CONSTANT_ENCAPSED_STRING","'#required'",355],["T_WHITESPACE"," ",355],["T_DOUBLE_ARROW","=>",355],["T_WHITESPACE"," ",355],["T_STRING","TRUE",355],",",["T_WHITESPACE","\n      ",355],["T_CONSTANT_ENCAPSED_STRING","'#ajax'",356],["T_WHITESPACE"," ",356],["T_DOUBLE_ARROW","=>",356],["T_WHITESPACE"," ",356],["T_STRING","TRUE",356],",",["T_WHITESPACE","\n      ",356],["T_CONSTANT_ENCAPSED_STRING","'#limit_validation_errors'",357],["T_WHITESPACE"," ",357],["T_DOUBLE_ARROW","=>",357],["T_WHITESPACE"," ",357],["T_ARRAY","array",357],"(",")",",",["T_WHITESPACE","\n    ",357],")",";",["T_WHITESPACE","\n    ",358],["T_VARIABLE","$form",359],"[",["T_CONSTANT_ENCAPSED_STRING","'handler'",359],"]","[",["T_CONSTANT_ENCAPSED_STRING","'handler_submit'",359],"]",["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_ARRAY","array",359],"(",["T_WHITESPACE","\n      ",359],["T_CONSTANT_ENCAPSED_STRING","'#type'",360],["T_WHITESPACE"," ",360],["T_DOUBLE_ARROW","=>",360],["T_WHITESPACE"," ",360],["T_CONSTANT_ENCAPSED_STRING","'submit'",360],",",["T_WHITESPACE","\n      ",360],["T_CONSTANT_ENCAPSED_STRING","'#value'",361],["T_WHITESPACE"," ",361],["T_DOUBLE_ARROW","=>",361],["T_WHITESPACE"," ",361],["T_STRING","t",361],"(",["T_CONSTANT_ENCAPSED_STRING","'Change handler'",361],")",",",["T_WHITESPACE","\n      ",361],["T_CONSTANT_ENCAPSED_STRING","'#limit_validation_errors'",362],["T_WHITESPACE"," ",362],["T_DOUBLE_ARROW","=>",362],["T_WHITESPACE"," ",362],["T_ARRAY","array",362],"(",")",",",["T_WHITESPACE","\n      ",362],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",363],["T_WHITESPACE"," ",363],["T_DOUBLE_ARROW","=>",363],["T_WHITESPACE"," ",363],["T_ARRAY","array",363],"(",["T_WHITESPACE","\n        ",363],["T_CONSTANT_ENCAPSED_STRING","'class'",364],["T_WHITESPACE"," ",364],["T_DOUBLE_ARROW","=>",364],["T_WHITESPACE"," ",364],["T_ARRAY","array",364],"(",["T_CONSTANT_ENCAPSED_STRING","'js-hide'",364],")",",",["T_WHITESPACE","\n      ",364],")",",",["T_WHITESPACE","\n      ",365],["T_CONSTANT_ENCAPSED_STRING","'#submit'",366],["T_WHITESPACE"," ",366],["T_DOUBLE_ARROW","=>",366],["T_WHITESPACE"," ",366],["T_ARRAY","array",366],"(",["T_ARRAY","array",366],"(",["T_STRING","get_class",366],"(",["T_VARIABLE","$this",366],")",",",["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'settingsAjaxSubmit'",366],")",")",",",["T_WHITESPACE","\n    ",366],")",";",["T_WHITESPACE","\n\n    ",367],["T_VARIABLE","$form",369],"[",["T_CONSTANT_ENCAPSED_STRING","'handler'",369],"]","[",["T_CONSTANT_ENCAPSED_STRING","'handler_settings'",369],"]",["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_ARRAY","array",369],"(",["T_WHITESPACE","\n      ",369],["T_CONSTANT_ENCAPSED_STRING","'#type'",370],["T_WHITESPACE"," ",370],["T_DOUBLE_ARROW","=>",370],["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'container'",370],",",["T_WHITESPACE","\n      ",370],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",371],["T_WHITESPACE"," ",371],["T_DOUBLE_ARROW","=>",371],["T_WHITESPACE"," ",371],["T_ARRAY","array",371],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",371],["T_WHITESPACE"," ",371],["T_DOUBLE_ARROW","=>",371],["T_WHITESPACE"," ",371],["T_ARRAY","array",371],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_reference-settings'",371],")",")",",",["T_WHITESPACE","\n    ",371],")",";",["T_WHITESPACE","\n\n    ",372],["T_VARIABLE","$handler",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_NS_SEPARATOR","\\",374],["T_STRING","Drupal",374],["T_DOUBLE_COLON","::",374],["T_STRING","service",374],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.entity_reference_selection'",374],")",["T_OBJECT_OPERATOR","->",374],["T_STRING","getSelectionHandler",374],"(",["T_VARIABLE","$field",374],")",";",["T_WHITESPACE","\n    ",374],["T_VARIABLE","$form",375],"[",["T_CONSTANT_ENCAPSED_STRING","'handler'",375],"]","[",["T_CONSTANT_ENCAPSED_STRING","'handler_settings'",375],"]",["T_WHITESPACE"," ",375],["T_PLUS_EQUAL","+=",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$handler",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","buildConfigurationForm",375],"(",["T_ARRAY","array",375],"(",")",",",["T_WHITESPACE"," ",375],["T_VARIABLE","$form_state",375],")",";",["T_WHITESPACE","\n\n    ",375],["T_RETURN","return",377],["T_WHITESPACE"," ",377],["T_VARIABLE","$form",377],";",["T_WHITESPACE","\n  ",377],"}",["T_WHITESPACE","\n\n  ",378],["T_DOC_COMMENT","\/**\n   * Form element validation handler; Invokes selection plugin's validation.\n   *\n   * @param array $form\n   *   The form where the settings form is being included in.\n   * @param \\Drupal\\Core\\Form\\FormStateInterface $form_state\n   *   The form state of the (entire) configuration form.\n   *\/",380],["T_WHITESPACE","\n  ",387],["T_PUBLIC","public",388],["T_WHITESPACE"," ",388],["T_STATIC","static",388],["T_WHITESPACE"," ",388],["T_FUNCTION","function",388],["T_WHITESPACE"," ",388],["T_STRING","fieldSettingsFormValidate",388],"(",["T_ARRAY","array",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$form",388],",",["T_WHITESPACE"," ",388],["T_STRING","FormStateInterface",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$form_state",388],")",["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n    ",388],["T_VARIABLE","$field",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_VARIABLE","$form_state",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","getFormObject",389],"(",")",["T_OBJECT_OPERATOR","->",389],["T_STRING","getEntity",389],"(",")",";",["T_WHITESPACE","\n    ",389],["T_VARIABLE","$handler",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_NS_SEPARATOR","\\",390],["T_STRING","Drupal",390],["T_DOUBLE_COLON","::",390],["T_STRING","service",390],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.entity_reference_selection'",390],")",["T_OBJECT_OPERATOR","->",390],["T_STRING","getSelectionHandler",390],"(",["T_VARIABLE","$field",390],")",";",["T_WHITESPACE","\n    ",390],["T_VARIABLE","$handler",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","validateConfigurationForm",391],"(",["T_VARIABLE","$form",391],",",["T_WHITESPACE"," ",391],["T_VARIABLE","$form_state",391],")",";",["T_WHITESPACE","\n  ",391],"}",["T_WHITESPACE","\n\n  ",392],["T_DOC_COMMENT","\/**\n   * Determines whether the item holds an unsaved entity.\n   *\n   * This is notably used for \"autocreate\" widgets, and more generally to\n   * support referencing freshly created entities (they will get saved\n   * automatically as the hosting entity gets saved).\n   *\n   * @return bool\n   *   TRUE if the item holds an unsaved entity.\n   *\/",394],["T_WHITESPACE","\n  ",403],["T_PUBLIC","public",404],["T_WHITESPACE"," ",404],["T_FUNCTION","function",404],["T_WHITESPACE"," ",404],["T_STRING","hasNewEntity",404],"(",")",["T_WHITESPACE"," ",404],"{",["T_WHITESPACE","\n    ",404],["T_RETURN","return",405],["T_WHITESPACE"," ",405],"!",["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","isEmpty",405],"(",")",["T_WHITESPACE"," ",405],["T_BOOLEAN_AND","&&",405],["T_WHITESPACE"," ",405],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","target_id",405],["T_WHITESPACE"," ",405],["T_IS_IDENTICAL","===",405],["T_WHITESPACE"," ",405],["T_STRING","NULL",405],["T_WHITESPACE"," ",405],["T_BOOLEAN_AND","&&",405],["T_WHITESPACE"," ",405],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","entity",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","isNew",405],"(",")",";",["T_WHITESPACE","\n  ",405],"}",["T_WHITESPACE","\n\n  ",406],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",408],["T_WHITESPACE","\n  ",410],["T_PUBLIC","public",411],["T_WHITESPACE"," ",411],["T_STATIC","static",411],["T_WHITESPACE"," ",411],["T_FUNCTION","function",411],["T_WHITESPACE"," ",411],["T_STRING","calculateDependencies",411],"(",["T_STRING","FieldDefinitionInterface",411],["T_WHITESPACE"," ",411],["T_VARIABLE","$field_definition",411],")",["T_WHITESPACE"," ",411],"{",["T_WHITESPACE","\n    ",411],["T_VARIABLE","$dependencies",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_STRING","parent",412],["T_DOUBLE_COLON","::",412],["T_STRING","calculateDependencies",412],"(",["T_VARIABLE","$field_definition",412],")",";",["T_WHITESPACE","\n    ",412],["T_VARIABLE","$manager",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_NS_SEPARATOR","\\",413],["T_STRING","Drupal",413],["T_DOUBLE_COLON","::",413],["T_STRING","entityManager",413],"(",")",";",["T_WHITESPACE","\n    ",413],["T_VARIABLE","$target_entity_type",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_VARIABLE","$manager",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","getDefinition",414],"(",["T_VARIABLE","$field_definition",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","getFieldStorageDefinition",414],"(",")",["T_OBJECT_OPERATOR","->",414],["T_STRING","getSetting",414],"(",["T_CONSTANT_ENCAPSED_STRING","'target_type'",414],")",")",";",["T_WHITESPACE","\n\n    ",414],["T_COMMENT","\/\/ Depend on default values entity types configurations.\n",416],["T_WHITESPACE","    ",417],["T_IF","if",417],["T_WHITESPACE"," ",417],"(",["T_VARIABLE","$default_value",417],["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_VARIABLE","$field_definition",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","getDefaultValueLiteral",417],"(",")",")",["T_WHITESPACE"," ",417],"{",["T_WHITESPACE","\n      ",417],["T_FOREACH","foreach",418],["T_WHITESPACE"," ",418],"(",["T_VARIABLE","$default_value",418],["T_WHITESPACE"," ",418],["T_AS","as",418],["T_WHITESPACE"," ",418],["T_VARIABLE","$value",418],")",["T_WHITESPACE"," ",418],"{",["T_WHITESPACE","\n        ",418],["T_IF","if",419],["T_WHITESPACE"," ",419],"(",["T_STRING","is_array",419],"(",["T_VARIABLE","$value",419],")",["T_WHITESPACE"," ",419],["T_BOOLEAN_AND","&&",419],["T_WHITESPACE"," ",419],["T_ISSET","isset",419],"(",["T_VARIABLE","$value",419],"[",["T_CONSTANT_ENCAPSED_STRING","'target_uuid'",419],"]",")",")",["T_WHITESPACE"," ",419],"{",["T_WHITESPACE","\n          ",419],["T_VARIABLE","$entity",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_NS_SEPARATOR","\\",420],["T_STRING","Drupal",420],["T_DOUBLE_COLON","::",420],["T_STRING","entityManager",420],"(",")",["T_OBJECT_OPERATOR","->",420],["T_STRING","loadEntityByUuid",420],"(",["T_VARIABLE","$target_entity_type",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","id",420],"(",")",",",["T_WHITESPACE"," ",420],["T_VARIABLE","$value",420],"[",["T_CONSTANT_ENCAPSED_STRING","'target_uuid'",420],"]",")",";",["T_WHITESPACE","\n          ",420],["T_COMMENT","\/\/ If the entity does not exist do not create the dependency.\n",421],["T_WHITESPACE","          ",422],["T_COMMENT","\/\/ @see \\Drupal\\Core\\Field\\EntityReferenceFieldItemList::processDefaultValue()\n",422],["T_WHITESPACE","          ",423],["T_IF","if",423],["T_WHITESPACE"," ",423],"(",["T_VARIABLE","$entity",423],")",["T_WHITESPACE"," ",423],"{",["T_WHITESPACE","\n            ",423],["T_VARIABLE","$dependencies",424],"[",["T_VARIABLE","$target_entity_type",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","getConfigDependencyKey",424],"(",")","]","[","]",["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_VARIABLE","$entity",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","getConfigDependencyName",424],"(",")",";",["T_WHITESPACE","\n          ",424],"}",["T_WHITESPACE","\n        ",425],"}",["T_WHITESPACE","\n      ",426],"}",["T_WHITESPACE","\n    ",427],"}",["T_WHITESPACE","\n\n    ",428],["T_COMMENT","\/\/ Depend on target bundle configurations. Dependencies for 'target_bundles'\n",430],["T_WHITESPACE","    ",431],["T_COMMENT","\/\/ also covers the 'auto_create_bundle' setting, if any, because its value\n",431],["T_WHITESPACE","    ",432],["T_COMMENT","\/\/ is included in the 'target_bundles' list.\n",432],["T_WHITESPACE","    ",433],["T_VARIABLE","$handler",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_VARIABLE","$field_definition",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","getSetting",433],"(",["T_CONSTANT_ENCAPSED_STRING","'handler_settings'",433],")",";",["T_WHITESPACE","\n    ",433],["T_IF","if",434],["T_WHITESPACE"," ",434],"(","!",["T_EMPTY","empty",434],"(",["T_VARIABLE","$handler",434],"[",["T_CONSTANT_ENCAPSED_STRING","'target_bundles'",434],"]",")",")",["T_WHITESPACE"," ",434],"{",["T_WHITESPACE","\n      ",434],["T_IF","if",435],["T_WHITESPACE"," ",435],"(",["T_VARIABLE","$bundle_entity_type_id",435],["T_WHITESPACE"," ",435],"=",["T_WHITESPACE"," ",435],["T_VARIABLE","$target_entity_type",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","getBundleEntityType",435],"(",")",")",["T_WHITESPACE"," ",435],"{",["T_WHITESPACE","\n        ",435],["T_IF","if",436],["T_WHITESPACE"," ",436],"(",["T_VARIABLE","$storage",436],["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],["T_VARIABLE","$manager",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","getStorage",436],"(",["T_VARIABLE","$bundle_entity_type_id",436],")",")",["T_WHITESPACE"," ",436],"{",["T_WHITESPACE","\n          ",436],["T_FOREACH","foreach",437],["T_WHITESPACE"," ",437],"(",["T_VARIABLE","$storage",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","loadMultiple",437],"(",["T_VARIABLE","$handler",437],"[",["T_CONSTANT_ENCAPSED_STRING","'target_bundles'",437],"]",")",["T_WHITESPACE"," ",437],["T_AS","as",437],["T_WHITESPACE"," ",437],["T_VARIABLE","$bundle",437],")",["T_WHITESPACE"," ",437],"{",["T_WHITESPACE","\n            ",437],["T_VARIABLE","$dependencies",438],"[",["T_VARIABLE","$bundle",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","getConfigDependencyKey",438],"(",")","]","[","]",["T_WHITESPACE"," ",438],"=",["T_WHITESPACE"," ",438],["T_VARIABLE","$bundle",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","getConfigDependencyName",438],"(",")",";",["T_WHITESPACE","\n          ",438],"}",["T_WHITESPACE","\n        ",439],"}",["T_WHITESPACE","\n      ",440],"}",["T_WHITESPACE","\n    ",441],"}",["T_WHITESPACE","\n\n    ",442],["T_RETURN","return",444],["T_WHITESPACE"," ",444],["T_VARIABLE","$dependencies",444],";",["T_WHITESPACE","\n  ",444],"}",["T_WHITESPACE","\n\n  ",445],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",447],["T_WHITESPACE","\n  ",449],["T_PUBLIC","public",450],["T_WHITESPACE"," ",450],["T_STATIC","static",450],["T_WHITESPACE"," ",450],["T_FUNCTION","function",450],["T_WHITESPACE"," ",450],["T_STRING","calculateStorageDependencies",450],"(",["T_STRING","FieldStorageDefinitionInterface",450],["T_WHITESPACE"," ",450],["T_VARIABLE","$field_definition",450],")",["T_WHITESPACE"," ",450],"{",["T_WHITESPACE","\n    ",450],["T_VARIABLE","$dependencies",451],["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_STRING","parent",451],["T_DOUBLE_COLON","::",451],["T_STRING","calculateStorageDependencies",451],"(",["T_VARIABLE","$field_definition",451],")",";",["T_WHITESPACE","\n    ",451],["T_VARIABLE","$target_entity_type",452],["T_WHITESPACE"," ",452],"=",["T_WHITESPACE"," ",452],["T_NS_SEPARATOR","\\",452],["T_STRING","Drupal",452],["T_DOUBLE_COLON","::",452],["T_STRING","entityManager",452],"(",")",["T_OBJECT_OPERATOR","->",452],["T_STRING","getDefinition",452],"(",["T_VARIABLE","$field_definition",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","getSetting",452],"(",["T_CONSTANT_ENCAPSED_STRING","'target_type'",452],")",")",";",["T_WHITESPACE","\n    ",452],["T_VARIABLE","$dependencies",453],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",453],"]","[","]",["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_VARIABLE","$target_entity_type",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","getProvider",453],"(",")",";",["T_WHITESPACE","\n    ",453],["T_RETURN","return",454],["T_WHITESPACE"," ",454],["T_VARIABLE","$dependencies",454],";",["T_WHITESPACE","\n  ",454],"}",["T_WHITESPACE","\n\n  ",455],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",457],["T_WHITESPACE","\n  ",459],["T_PUBLIC","public",460],["T_WHITESPACE"," ",460],["T_STATIC","static",460],["T_WHITESPACE"," ",460],["T_FUNCTION","function",460],["T_WHITESPACE"," ",460],["T_STRING","onDependencyRemoval",460],"(",["T_STRING","FieldDefinitionInterface",460],["T_WHITESPACE"," ",460],["T_VARIABLE","$field_definition",460],",",["T_WHITESPACE"," ",460],["T_ARRAY","array",460],["T_WHITESPACE"," ",460],["T_VARIABLE","$dependencies",460],")",["T_WHITESPACE"," ",460],"{",["T_WHITESPACE","\n    ",460],["T_VARIABLE","$changed",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_STRING","parent",461],["T_DOUBLE_COLON","::",461],["T_STRING","onDependencyRemoval",461],"(",["T_VARIABLE","$field_definition",461],",",["T_WHITESPACE"," ",461],["T_VARIABLE","$dependencies",461],")",";",["T_WHITESPACE","\n    ",461],["T_VARIABLE","$entity_manager",462],["T_WHITESPACE"," ",462],"=",["T_WHITESPACE"," ",462],["T_NS_SEPARATOR","\\",462],["T_STRING","Drupal",462],["T_DOUBLE_COLON","::",462],["T_STRING","entityManager",462],"(",")",";",["T_WHITESPACE","\n    ",462],["T_VARIABLE","$target_entity_type",463],["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_VARIABLE","$entity_manager",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","getDefinition",463],"(",["T_VARIABLE","$field_definition",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","getFieldStorageDefinition",463],"(",")",["T_OBJECT_OPERATOR","->",463],["T_STRING","getSetting",463],"(",["T_CONSTANT_ENCAPSED_STRING","'target_type'",463],")",")",";",["T_WHITESPACE","\n\n    ",463],["T_COMMENT","\/\/ Try to update the default value config dependency, if possible.\n",465],["T_WHITESPACE","    ",466],["T_IF","if",466],["T_WHITESPACE"," ",466],"(",["T_VARIABLE","$default_value",466],["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_VARIABLE","$field_definition",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","getDefaultValueLiteral",466],"(",")",")",["T_WHITESPACE"," ",466],"{",["T_WHITESPACE","\n      ",466],["T_FOREACH","foreach",467],["T_WHITESPACE"," ",467],"(",["T_VARIABLE","$default_value",467],["T_WHITESPACE"," ",467],["T_AS","as",467],["T_WHITESPACE"," ",467],["T_VARIABLE","$key",467],["T_WHITESPACE"," ",467],["T_DOUBLE_ARROW","=>",467],["T_WHITESPACE"," ",467],["T_VARIABLE","$value",467],")",["T_WHITESPACE"," ",467],"{",["T_WHITESPACE","\n        ",467],["T_IF","if",468],["T_WHITESPACE"," ",468],"(",["T_STRING","is_array",468],"(",["T_VARIABLE","$value",468],")",["T_WHITESPACE"," ",468],["T_BOOLEAN_AND","&&",468],["T_WHITESPACE"," ",468],["T_ISSET","isset",468],"(",["T_VARIABLE","$value",468],"[",["T_CONSTANT_ENCAPSED_STRING","'target_uuid'",468],"]",")",")",["T_WHITESPACE"," ",468],"{",["T_WHITESPACE","\n          ",468],["T_VARIABLE","$entity",469],["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_VARIABLE","$entity_manager",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","loadEntityByUuid",469],"(",["T_VARIABLE","$target_entity_type",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","id",469],"(",")",",",["T_WHITESPACE"," ",469],["T_VARIABLE","$value",469],"[",["T_CONSTANT_ENCAPSED_STRING","'target_uuid'",469],"]",")",";",["T_WHITESPACE","\n          ",469],["T_COMMENT","\/\/ @see \\Drupal\\Core\\Field\\EntityReferenceFieldItemList::processDefaultValue()\n",470],["T_WHITESPACE","          ",471],["T_IF","if",471],["T_WHITESPACE"," ",471],"(",["T_VARIABLE","$entity",471],["T_WHITESPACE"," ",471],["T_BOOLEAN_AND","&&",471],["T_WHITESPACE"," ",471],["T_ISSET","isset",471],"(",["T_VARIABLE","$dependencies",471],"[",["T_VARIABLE","$entity",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","getConfigDependencyKey",471],"(",")","]","[",["T_VARIABLE","$entity",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","getConfigDependencyName",471],"(",")","]",")",")",["T_WHITESPACE"," ",471],"{",["T_WHITESPACE","\n            ",471],["T_UNSET","unset",472],"(",["T_VARIABLE","$default_value",472],"[",["T_VARIABLE","$key",472],"]",")",";",["T_WHITESPACE","\n            ",472],["T_VARIABLE","$changed",473],["T_WHITESPACE"," ",473],"=",["T_WHITESPACE"," ",473],["T_STRING","TRUE",473],";",["T_WHITESPACE","\n          ",473],"}",["T_WHITESPACE","\n        ",474],"}",["T_WHITESPACE","\n      ",475],"}",["T_WHITESPACE","\n      ",476],["T_IF","if",477],["T_WHITESPACE"," ",477],"(",["T_VARIABLE","$changed",477],")",["T_WHITESPACE"," ",477],"{",["T_WHITESPACE","\n        ",477],["T_VARIABLE","$field_definition",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","setDefaultValue",478],"(",["T_VARIABLE","$default_value",478],")",";",["T_WHITESPACE","\n      ",478],"}",["T_WHITESPACE","\n    ",479],"}",["T_WHITESPACE","\n\n    ",480],["T_COMMENT","\/\/ Update the 'target_bundles' handler setting if a bundle config dependency\n",482],["T_WHITESPACE","    ",483],["T_COMMENT","\/\/ has been removed.\n",483],["T_WHITESPACE","    ",484],["T_VARIABLE","$bundles_changed",484],["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_STRING","FALSE",484],";",["T_WHITESPACE","\n    ",484],["T_VARIABLE","$handler_settings",485],["T_WHITESPACE"," ",485],"=",["T_WHITESPACE"," ",485],["T_VARIABLE","$field_definition",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","getSetting",485],"(",["T_CONSTANT_ENCAPSED_STRING","'handler_settings'",485],")",";",["T_WHITESPACE","\n    ",485],["T_IF","if",486],["T_WHITESPACE"," ",486],"(","!",["T_EMPTY","empty",486],"(",["T_VARIABLE","$handler_settings",486],"[",["T_CONSTANT_ENCAPSED_STRING","'target_bundles'",486],"]",")",")",["T_WHITESPACE"," ",486],"{",["T_WHITESPACE","\n      ",486],["T_IF","if",487],["T_WHITESPACE"," ",487],"(",["T_VARIABLE","$bundle_entity_type_id",487],["T_WHITESPACE"," ",487],"=",["T_WHITESPACE"," ",487],["T_VARIABLE","$target_entity_type",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","getBundleEntityType",487],"(",")",")",["T_WHITESPACE"," ",487],"{",["T_WHITESPACE","\n        ",487],["T_IF","if",488],["T_WHITESPACE"," ",488],"(",["T_VARIABLE","$storage",488],["T_WHITESPACE"," ",488],"=",["T_WHITESPACE"," ",488],["T_VARIABLE","$entity_manager",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","getStorage",488],"(",["T_VARIABLE","$bundle_entity_type_id",488],")",")",["T_WHITESPACE"," ",488],"{",["T_WHITESPACE","\n          ",488],["T_FOREACH","foreach",489],["T_WHITESPACE"," ",489],"(",["T_VARIABLE","$storage",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","loadMultiple",489],"(",["T_VARIABLE","$handler_settings",489],"[",["T_CONSTANT_ENCAPSED_STRING","'target_bundles'",489],"]",")",["T_WHITESPACE"," ",489],["T_AS","as",489],["T_WHITESPACE"," ",489],["T_VARIABLE","$bundle",489],")",["T_WHITESPACE"," ",489],"{",["T_WHITESPACE","\n            ",489],["T_IF","if",490],["T_WHITESPACE"," ",490],"(",["T_ISSET","isset",490],"(",["T_VARIABLE","$dependencies",490],"[",["T_VARIABLE","$bundle",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","getConfigDependencyKey",490],"(",")","]","[",["T_VARIABLE","$bundle",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","getConfigDependencyName",490],"(",")","]",")",")",["T_WHITESPACE"," ",490],"{",["T_WHITESPACE","\n              ",490],["T_UNSET","unset",491],"(",["T_VARIABLE","$handler_settings",491],"[",["T_CONSTANT_ENCAPSED_STRING","'target_bundles'",491],"]","[",["T_VARIABLE","$bundle",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","id",491],"(",")","]",")",";",["T_WHITESPACE","\n\n              ",491],["T_COMMENT","\/\/ If this bundle is also used in the 'auto_create_bundle'\n",493],["T_WHITESPACE","              ",494],["T_COMMENT","\/\/ setting, disable the auto-creation feature completely.\n",494],["T_WHITESPACE","              ",495],["T_VARIABLE","$auto_create_bundle",495],["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],"!",["T_EMPTY","empty",495],"(",["T_VARIABLE","$handler_settings",495],"[",["T_CONSTANT_ENCAPSED_STRING","'auto_create_bundle'",495],"]",")",["T_WHITESPACE"," ",495],"?",["T_WHITESPACE"," ",495],["T_VARIABLE","$handler_settings",495],"[",["T_CONSTANT_ENCAPSED_STRING","'auto_create_bundle'",495],"]",["T_WHITESPACE"," ",495],":",["T_WHITESPACE"," ",495],["T_STRING","FALSE",495],";",["T_WHITESPACE","\n              ",495],["T_IF","if",496],["T_WHITESPACE"," ",496],"(",["T_VARIABLE","$auto_create_bundle",496],["T_WHITESPACE"," ",496],["T_BOOLEAN_AND","&&",496],["T_WHITESPACE"," ",496],["T_VARIABLE","$auto_create_bundle",496],["T_WHITESPACE"," ",496],["T_IS_EQUAL","==",496],["T_WHITESPACE"," ",496],["T_VARIABLE","$bundle",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","id",496],"(",")",")",["T_WHITESPACE"," ",496],"{",["T_WHITESPACE","\n                ",496],["T_VARIABLE","$handler_settings",497],"[",["T_CONSTANT_ENCAPSED_STRING","'auto_create'",497],"]",["T_WHITESPACE"," ",497],"=",["T_WHITESPACE"," ",497],["T_STRING","NULL",497],";",["T_WHITESPACE","\n                ",497],["T_VARIABLE","$handler_settings",498],"[",["T_CONSTANT_ENCAPSED_STRING","'auto_create_bundle'",498],"]",["T_WHITESPACE"," ",498],"=",["T_WHITESPACE"," ",498],["T_STRING","NULL",498],";",["T_WHITESPACE","\n              ",498],"}",["T_WHITESPACE","\n\n              ",499],["T_VARIABLE","$bundles_changed",501],["T_WHITESPACE"," ",501],"=",["T_WHITESPACE"," ",501],["T_STRING","TRUE",501],";",["T_WHITESPACE","\n\n              ",501],["T_COMMENT","\/\/ In case we deleted the only target bundle allowed by the field\n",503],["T_WHITESPACE","              ",504],["T_COMMENT","\/\/ we have to log a critical message because the field will not\n",504],["T_WHITESPACE","              ",505],["T_COMMENT","\/\/ function correctly anymore.\n",505],["T_WHITESPACE","              ",506],["T_IF","if",506],["T_WHITESPACE"," ",506],"(",["T_VARIABLE","$handler_settings",506],"[",["T_CONSTANT_ENCAPSED_STRING","'target_bundles'",506],"]",["T_WHITESPACE"," ",506],["T_IS_IDENTICAL","===",506],["T_WHITESPACE"," ",506],"[","]",")",["T_WHITESPACE"," ",506],"{",["T_WHITESPACE","\n                ",506],["T_NS_SEPARATOR","\\",507],["T_STRING","Drupal",507],["T_DOUBLE_COLON","::",507],["T_STRING","logger",507],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_reference'",507],")",["T_OBJECT_OPERATOR","->",507],["T_STRING","critical",507],"(",["T_CONSTANT_ENCAPSED_STRING","'The %target_bundle bundle (entity type: %target_entity_type) was deleted. As a result, the %field_name entity reference field (entity_type: %entity_type, bundle: %bundle) no longer has any valid bundle it can reference. The field is not working correctly anymore and has to be adjusted.'",507],",",["T_WHITESPACE"," ",507],"[",["T_WHITESPACE","\n                  ",507],["T_CONSTANT_ENCAPSED_STRING","'%target_bundle'",508],["T_WHITESPACE"," ",508],["T_DOUBLE_ARROW","=>",508],["T_WHITESPACE"," ",508],["T_VARIABLE","$bundle",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","label",508],"(",")",",",["T_WHITESPACE","\n                  ",508],["T_CONSTANT_ENCAPSED_STRING","'%target_entity_type'",509],["T_WHITESPACE"," ",509],["T_DOUBLE_ARROW","=>",509],["T_WHITESPACE"," ",509],["T_VARIABLE","$bundle",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","getEntityType",509],"(",")",["T_OBJECT_OPERATOR","->",509],["T_STRING","getBundleOf",509],"(",")",",",["T_WHITESPACE","\n                  ",509],["T_CONSTANT_ENCAPSED_STRING","'%field_name'",510],["T_WHITESPACE"," ",510],["T_DOUBLE_ARROW","=>",510],["T_WHITESPACE"," ",510],["T_VARIABLE","$field_definition",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","getName",510],"(",")",",",["T_WHITESPACE","\n                  ",510],["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",511],["T_WHITESPACE"," ",511],["T_DOUBLE_ARROW","=>",511],["T_WHITESPACE"," ",511],["T_VARIABLE","$field_definition",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","getTargetEntityTypeId",511],"(",")",",",["T_WHITESPACE","\n                  ",511],["T_CONSTANT_ENCAPSED_STRING","'%bundle'",512],["T_WHITESPACE"," ",512],["T_DOUBLE_ARROW","=>",512],["T_WHITESPACE"," ",512],["T_VARIABLE","$field_definition",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","getTargetBundle",512],"(",")",["T_WHITESPACE","\n                ",512],"]",")",";",["T_WHITESPACE","\n              ",513],"}",["T_WHITESPACE","\n            ",514],"}",["T_WHITESPACE","\n          ",515],"}",["T_WHITESPACE","\n        ",516],"}",["T_WHITESPACE","\n      ",517],"}",["T_WHITESPACE","\n    ",518],"}",["T_WHITESPACE","\n    ",519],["T_IF","if",520],["T_WHITESPACE"," ",520],"(",["T_VARIABLE","$bundles_changed",520],")",["T_WHITESPACE"," ",520],"{",["T_WHITESPACE","\n      ",520],["T_VARIABLE","$field_definition",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","setSetting",521],"(",["T_CONSTANT_ENCAPSED_STRING","'handler_settings'",521],",",["T_WHITESPACE"," ",521],["T_VARIABLE","$handler_settings",521],")",";",["T_WHITESPACE","\n    ",521],"}",["T_WHITESPACE","\n    ",522],["T_VARIABLE","$changed",523],["T_WHITESPACE"," ",523],["T_OR_EQUAL","|=",523],["T_WHITESPACE"," ",523],["T_VARIABLE","$bundles_changed",523],";",["T_WHITESPACE","\n\n    ",523],["T_RETURN","return",525],["T_WHITESPACE"," ",525],["T_VARIABLE","$changed",525],";",["T_WHITESPACE","\n  ",525],"}",["T_WHITESPACE","\n\n  ",526],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",528],["T_WHITESPACE","\n  ",530],["T_PUBLIC","public",531],["T_WHITESPACE"," ",531],["T_FUNCTION","function",531],["T_WHITESPACE"," ",531],["T_STRING","getPossibleValues",531],"(",["T_STRING","AccountInterface",531],["T_WHITESPACE"," ",531],["T_VARIABLE","$account",531],["T_WHITESPACE"," ",531],"=",["T_WHITESPACE"," ",531],["T_STRING","NULL",531],")",["T_WHITESPACE"," ",531],"{",["T_WHITESPACE","\n    ",531],["T_RETURN","return",532],["T_WHITESPACE"," ",532],["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","getSettableValues",532],"(",["T_VARIABLE","$account",532],")",";",["T_WHITESPACE","\n  ",532],"}",["T_WHITESPACE","\n\n  ",533],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",535],["T_WHITESPACE","\n  ",537],["T_PUBLIC","public",538],["T_WHITESPACE"," ",538],["T_FUNCTION","function",538],["T_WHITESPACE"," ",538],["T_STRING","getPossibleOptions",538],"(",["T_STRING","AccountInterface",538],["T_WHITESPACE"," ",538],["T_VARIABLE","$account",538],["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_STRING","NULL",538],")",["T_WHITESPACE"," ",538],"{",["T_WHITESPACE","\n    ",538],["T_RETURN","return",539],["T_WHITESPACE"," ",539],["T_VARIABLE","$this",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","getSettableOptions",539],"(",["T_VARIABLE","$account",539],")",";",["T_WHITESPACE","\n  ",539],"}",["T_WHITESPACE","\n\n  ",540],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",542],["T_WHITESPACE","\n  ",544],["T_PUBLIC","public",545],["T_WHITESPACE"," ",545],["T_FUNCTION","function",545],["T_WHITESPACE"," ",545],["T_STRING","getSettableValues",545],"(",["T_STRING","AccountInterface",545],["T_WHITESPACE"," ",545],["T_VARIABLE","$account",545],["T_WHITESPACE"," ",545],"=",["T_WHITESPACE"," ",545],["T_STRING","NULL",545],")",["T_WHITESPACE"," ",545],"{",["T_WHITESPACE","\n    ",545],["T_COMMENT","\/\/ Flatten options first, because \"settable options\" may contain group\n",546],["T_WHITESPACE","    ",547],["T_COMMENT","\/\/ arrays.\n",547],["T_WHITESPACE","    ",548],["T_VARIABLE","$flatten_options",548],["T_WHITESPACE"," ",548],"=",["T_WHITESPACE"," ",548],["T_STRING","OptGroup",548],["T_DOUBLE_COLON","::",548],["T_STRING","flattenOptions",548],"(",["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","getSettableOptions",548],"(",["T_VARIABLE","$account",548],")",")",";",["T_WHITESPACE","\n    ",548],["T_RETURN","return",549],["T_WHITESPACE"," ",549],["T_STRING","array_keys",549],"(",["T_VARIABLE","$flatten_options",549],")",";",["T_WHITESPACE","\n  ",549],"}",["T_WHITESPACE","\n\n  ",550],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",552],["T_WHITESPACE","\n  ",554],["T_PUBLIC","public",555],["T_WHITESPACE"," ",555],["T_FUNCTION","function",555],["T_WHITESPACE"," ",555],["T_STRING","getSettableOptions",555],"(",["T_STRING","AccountInterface",555],["T_WHITESPACE"," ",555],["T_VARIABLE","$account",555],["T_WHITESPACE"," ",555],"=",["T_WHITESPACE"," ",555],["T_STRING","NULL",555],")",["T_WHITESPACE"," ",555],"{",["T_WHITESPACE","\n    ",555],["T_VARIABLE","$field_definition",556],["T_WHITESPACE"," ",556],"=",["T_WHITESPACE"," ",556],["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","getFieldDefinition",556],"(",")",";",["T_WHITESPACE","\n    ",556],["T_IF","if",557],["T_WHITESPACE"," ",557],"(","!",["T_VARIABLE","$options",557],["T_WHITESPACE"," ",557],"=",["T_WHITESPACE"," ",557],["T_NS_SEPARATOR","\\",557],["T_STRING","Drupal",557],["T_DOUBLE_COLON","::",557],["T_STRING","service",557],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.entity_reference_selection'",557],")",["T_OBJECT_OPERATOR","->",557],["T_STRING","getSelectionHandler",557],"(",["T_VARIABLE","$field_definition",557],",",["T_WHITESPACE"," ",557],["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","getEntity",557],"(",")",")",["T_OBJECT_OPERATOR","->",557],["T_STRING","getReferenceableEntities",557],"(",")",")",["T_WHITESPACE"," ",557],"{",["T_WHITESPACE","\n      ",557],["T_RETURN","return",558],["T_WHITESPACE"," ",558],["T_ARRAY","array",558],"(",")",";",["T_WHITESPACE","\n    ",558],"}",["T_WHITESPACE","\n\n    ",559],["T_COMMENT","\/\/ Rebuild the array by changing the bundle key into the bundle label.\n",561],["T_WHITESPACE","    ",562],["T_VARIABLE","$target_type",562],["T_WHITESPACE"," ",562],"=",["T_WHITESPACE"," ",562],["T_VARIABLE","$field_definition",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","getSetting",562],"(",["T_CONSTANT_ENCAPSED_STRING","'target_type'",562],")",";",["T_WHITESPACE","\n    ",562],["T_VARIABLE","$bundles",563],["T_WHITESPACE"," ",563],"=",["T_WHITESPACE"," ",563],["T_NS_SEPARATOR","\\",563],["T_STRING","Drupal",563],["T_DOUBLE_COLON","::",563],["T_STRING","entityManager",563],"(",")",["T_OBJECT_OPERATOR","->",563],["T_STRING","getBundleInfo",563],"(",["T_VARIABLE","$target_type",563],")",";",["T_WHITESPACE","\n\n    ",563],["T_VARIABLE","$return",565],["T_WHITESPACE"," ",565],"=",["T_WHITESPACE"," ",565],["T_ARRAY","array",565],"(",")",";",["T_WHITESPACE","\n    ",565],["T_FOREACH","foreach",566],["T_WHITESPACE"," ",566],"(",["T_VARIABLE","$options",566],["T_WHITESPACE"," ",566],["T_AS","as",566],["T_WHITESPACE"," ",566],["T_VARIABLE","$bundle",566],["T_WHITESPACE"," ",566],["T_DOUBLE_ARROW","=>",566],["T_WHITESPACE"," ",566],["T_VARIABLE","$entity_ids",566],")",["T_WHITESPACE"," ",566],"{",["T_WHITESPACE","\n      ",566],["T_COMMENT","\/\/ The label does not need sanitizing since it is used as an optgroup\n",567],["T_WHITESPACE","      ",568],["T_COMMENT","\/\/ which is only supported by select elements and auto-escaped.\n",568],["T_WHITESPACE","      ",569],["T_VARIABLE","$bundle_label",569],["T_WHITESPACE"," ",569],"=",["T_WHITESPACE"," ",569],["T_STRING_CAST","(string)",569],["T_WHITESPACE"," ",569],["T_VARIABLE","$bundles",569],"[",["T_VARIABLE","$bundle",569],"]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",569],"]",";",["T_WHITESPACE","\n      ",569],["T_VARIABLE","$return",570],"[",["T_VARIABLE","$bundle_label",570],"]",["T_WHITESPACE"," ",570],"=",["T_WHITESPACE"," ",570],["T_VARIABLE","$entity_ids",570],";",["T_WHITESPACE","\n    ",570],"}",["T_WHITESPACE","\n\n    ",571],["T_RETURN","return",573],["T_WHITESPACE"," ",573],["T_STRING","count",573],"(",["T_VARIABLE","$return",573],")",["T_WHITESPACE"," ",573],["T_IS_EQUAL","==",573],["T_WHITESPACE"," ",573],["T_LNUMBER","1",573],["T_WHITESPACE"," ",573],"?",["T_WHITESPACE"," ",573],["T_STRING","reset",573],"(",["T_VARIABLE","$return",573],")",["T_WHITESPACE"," ",573],":",["T_WHITESPACE"," ",573],["T_VARIABLE","$return",573],";",["T_WHITESPACE","\n  ",573],"}",["T_WHITESPACE","\n\n  ",574],["T_DOC_COMMENT","\/**\n   * Render API callback: Processes the field settings form and allows access to\n   * the form state.\n   *\n   * @see static::fieldSettingsForm()\n   *\/",576],["T_WHITESPACE","\n  ",581],["T_PUBLIC","public",582],["T_WHITESPACE"," ",582],["T_STATIC","static",582],["T_WHITESPACE"," ",582],["T_FUNCTION","function",582],["T_WHITESPACE"," ",582],["T_STRING","fieldSettingsAjaxProcess",582],"(",["T_VARIABLE","$form",582],",",["T_WHITESPACE"," ",582],["T_STRING","FormStateInterface",582],["T_WHITESPACE"," ",582],["T_VARIABLE","$form_state",582],")",["T_WHITESPACE"," ",582],"{",["T_WHITESPACE","\n    ",582],["T_STATIC","static",583],["T_DOUBLE_COLON","::",583],["T_STRING","fieldSettingsAjaxProcessElement",583],"(",["T_VARIABLE","$form",583],",",["T_WHITESPACE"," ",583],["T_VARIABLE","$form",583],")",";",["T_WHITESPACE","\n    ",583],["T_RETURN","return",584],["T_WHITESPACE"," ",584],["T_VARIABLE","$form",584],";",["T_WHITESPACE","\n  ",584],"}",["T_WHITESPACE","\n\n  ",585],["T_DOC_COMMENT","\/**\n   * Adds entity_reference specific properties to AJAX form elements from the\n   * field settings form.\n   *\n   * @see static::fieldSettingsAjaxProcess()\n   *\/",587],["T_WHITESPACE","\n  ",592],["T_PUBLIC","public",593],["T_WHITESPACE"," ",593],["T_STATIC","static",593],["T_WHITESPACE"," ",593],["T_FUNCTION","function",593],["T_WHITESPACE"," ",593],["T_STRING","fieldSettingsAjaxProcessElement",593],"(","&",["T_VARIABLE","$element",593],",",["T_WHITESPACE"," ",593],["T_VARIABLE","$main_form",593],")",["T_WHITESPACE"," ",593],"{",["T_WHITESPACE","\n    ",593],["T_IF","if",594],["T_WHITESPACE"," ",594],"(","!",["T_EMPTY","empty",594],"(",["T_VARIABLE","$element",594],"[",["T_CONSTANT_ENCAPSED_STRING","'#ajax'",594],"]",")",")",["T_WHITESPACE"," ",594],"{",["T_WHITESPACE","\n      ",594],["T_VARIABLE","$element",595],"[",["T_CONSTANT_ENCAPSED_STRING","'#ajax'",595],"]",["T_WHITESPACE"," ",595],"=",["T_WHITESPACE"," ",595],["T_ARRAY","array",595],"(",["T_WHITESPACE","\n        ",595],["T_CONSTANT_ENCAPSED_STRING","'callback'",596],["T_WHITESPACE"," ",596],["T_DOUBLE_ARROW","=>",596],["T_WHITESPACE"," ",596],["T_ARRAY","array",596],"(",["T_STRING","get_called_class",596],"(",")",",",["T_WHITESPACE"," ",596],["T_CONSTANT_ENCAPSED_STRING","'settingsAjax'",596],")",",",["T_WHITESPACE","\n        ",596],["T_CONSTANT_ENCAPSED_STRING","'wrapper'",597],["T_WHITESPACE"," ",597],["T_DOUBLE_ARROW","=>",597],["T_WHITESPACE"," ",597],["T_VARIABLE","$main_form",597],"[",["T_CONSTANT_ENCAPSED_STRING","'#id'",597],"]",",",["T_WHITESPACE","\n        ",597],["T_CONSTANT_ENCAPSED_STRING","'element'",598],["T_WHITESPACE"," ",598],["T_DOUBLE_ARROW","=>",598],["T_WHITESPACE"," ",598],["T_VARIABLE","$main_form",598],"[",["T_CONSTANT_ENCAPSED_STRING","'#array_parents'",598],"]",",",["T_WHITESPACE","\n      ",598],")",";",["T_WHITESPACE","\n    ",599],"}",["T_WHITESPACE","\n\n    ",600],["T_FOREACH","foreach",602],["T_WHITESPACE"," ",602],"(",["T_STRING","Element",602],["T_DOUBLE_COLON","::",602],["T_STRING","children",602],"(",["T_VARIABLE","$element",602],")",["T_WHITESPACE"," ",602],["T_AS","as",602],["T_WHITESPACE"," ",602],["T_VARIABLE","$key",602],")",["T_WHITESPACE"," ",602],"{",["T_WHITESPACE","\n      ",602],["T_STATIC","static",603],["T_DOUBLE_COLON","::",603],["T_STRING","fieldSettingsAjaxProcessElement",603],"(",["T_VARIABLE","$element",603],"[",["T_VARIABLE","$key",603],"]",",",["T_WHITESPACE"," ",603],["T_VARIABLE","$main_form",603],")",";",["T_WHITESPACE","\n    ",603],"}",["T_WHITESPACE","\n  ",604],"}",["T_WHITESPACE","\n\n  ",605],["T_DOC_COMMENT","\/**\n   * Render API callback: Moves entity_reference specific Form API elements\n   * (i.e. 'handler_settings') up a level for easier processing by the\n   * validation and submission handlers.\n   *\n   * @see _entity_reference_field_settings_process()\n   *\/",607],["T_WHITESPACE","\n  ",613],["T_PUBLIC","public",614],["T_WHITESPACE"," ",614],["T_STATIC","static",614],["T_WHITESPACE"," ",614],["T_FUNCTION","function",614],["T_WHITESPACE"," ",614],["T_STRING","formProcessMergeParent",614],"(",["T_VARIABLE","$element",614],")",["T_WHITESPACE"," ",614],"{",["T_WHITESPACE","\n    ",614],["T_VARIABLE","$parents",615],["T_WHITESPACE"," ",615],"=",["T_WHITESPACE"," ",615],["T_VARIABLE","$element",615],"[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",615],"]",";",["T_WHITESPACE","\n    ",615],["T_STRING","array_pop",616],"(",["T_VARIABLE","$parents",616],")",";",["T_WHITESPACE","\n    ",616],["T_VARIABLE","$element",617],"[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",617],"]",["T_WHITESPACE"," ",617],"=",["T_WHITESPACE"," ",617],["T_VARIABLE","$parents",617],";",["T_WHITESPACE","\n    ",617],["T_RETURN","return",618],["T_WHITESPACE"," ",618],["T_VARIABLE","$element",618],";",["T_WHITESPACE","\n  ",618],"}",["T_WHITESPACE","\n\n  ",619],["T_DOC_COMMENT","\/**\n   * Ajax callback for the handler settings form.\n   *\n   * @see static::fieldSettingsForm()\n   *\/",621],["T_WHITESPACE","\n  ",625],["T_PUBLIC","public",626],["T_WHITESPACE"," ",626],["T_STATIC","static",626],["T_WHITESPACE"," ",626],["T_FUNCTION","function",626],["T_WHITESPACE"," ",626],["T_STRING","settingsAjax",626],"(",["T_VARIABLE","$form",626],",",["T_WHITESPACE"," ",626],["T_STRING","FormStateInterface",626],["T_WHITESPACE"," ",626],["T_VARIABLE","$form_state",626],")",["T_WHITESPACE"," ",626],"{",["T_WHITESPACE","\n    ",626],["T_RETURN","return",627],["T_WHITESPACE"," ",627],["T_STRING","NestedArray",627],["T_DOUBLE_COLON","::",627],["T_STRING","getValue",627],"(",["T_VARIABLE","$form",627],",",["T_WHITESPACE"," ",627],["T_VARIABLE","$form_state",627],["T_OBJECT_OPERATOR","->",627],["T_STRING","getTriggeringElement",627],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","'#ajax'",627],"]","[",["T_CONSTANT_ENCAPSED_STRING","'element'",627],"]",")",";",["T_WHITESPACE","\n  ",627],"}",["T_WHITESPACE","\n\n  ",628],["T_DOC_COMMENT","\/**\n   * Submit handler for the non-JS case.\n   *\n   * @see static::fieldSettingsForm()\n   *\/",630],["T_WHITESPACE","\n  ",634],["T_PUBLIC","public",635],["T_WHITESPACE"," ",635],["T_STATIC","static",635],["T_WHITESPACE"," ",635],["T_FUNCTION","function",635],["T_WHITESPACE"," ",635],["T_STRING","settingsAjaxSubmit",635],"(",["T_VARIABLE","$form",635],",",["T_WHITESPACE"," ",635],["T_STRING","FormStateInterface",635],["T_WHITESPACE"," ",635],["T_VARIABLE","$form_state",635],")",["T_WHITESPACE"," ",635],"{",["T_WHITESPACE","\n    ",635],["T_VARIABLE","$form_state",636],["T_OBJECT_OPERATOR","->",636],["T_STRING","setRebuild",636],"(",")",";",["T_WHITESPACE","\n  ",636],"}",["T_WHITESPACE","\n\n  ",637],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",639],["T_WHITESPACE","\n  ",641],["T_PUBLIC","public",642],["T_WHITESPACE"," ",642],["T_STATIC","static",642],["T_WHITESPACE"," ",642],["T_FUNCTION","function",642],["T_WHITESPACE"," ",642],["T_STRING","getPreconfiguredOptions",642],"(",")",["T_WHITESPACE"," ",642],"{",["T_WHITESPACE","\n    ",642],["T_VARIABLE","$options",643],["T_WHITESPACE"," ",643],"=",["T_WHITESPACE"," ",643],["T_ARRAY","array",643],"(",")",";",["T_WHITESPACE","\n\n    ",643],["T_COMMENT","\/\/ Add all the commonly referenced entity types as distinct pre-configured\n",645],["T_WHITESPACE","    ",646],["T_COMMENT","\/\/ options.\n",646],["T_WHITESPACE","    ",647],["T_VARIABLE","$entity_types",647],["T_WHITESPACE"," ",647],"=",["T_WHITESPACE"," ",647],["T_NS_SEPARATOR","\\",647],["T_STRING","Drupal",647],["T_DOUBLE_COLON","::",647],["T_STRING","entityManager",647],"(",")",["T_OBJECT_OPERATOR","->",647],["T_STRING","getDefinitions",647],"(",")",";",["T_WHITESPACE","\n    ",647],["T_VARIABLE","$common_references",648],["T_WHITESPACE"," ",648],"=",["T_WHITESPACE"," ",648],["T_STRING","array_filter",648],"(",["T_VARIABLE","$entity_types",648],",",["T_WHITESPACE"," ",648],["T_FUNCTION","function",648],["T_WHITESPACE"," ",648],"(",["T_STRING","EntityTypeInterface",648],["T_WHITESPACE"," ",648],["T_VARIABLE","$entity_type",648],")",["T_WHITESPACE"," ",648],"{",["T_WHITESPACE","\n      ",648],["T_RETURN","return",649],["T_WHITESPACE"," ",649],["T_VARIABLE","$entity_type",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","isCommonReferenceTarget",649],"(",")",";",["T_WHITESPACE","\n    ",649],"}",")",";",["T_WHITESPACE","\n\n    ",650],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Entity\\EntityTypeInterface $entity_type *\/",652],["T_WHITESPACE","\n    ",652],["T_FOREACH","foreach",653],["T_WHITESPACE"," ",653],"(",["T_VARIABLE","$common_references",653],["T_WHITESPACE"," ",653],["T_AS","as",653],["T_WHITESPACE"," ",653],["T_VARIABLE","$entity_type",653],")",["T_WHITESPACE"," ",653],"{",["T_WHITESPACE","\n      ",653],["T_VARIABLE","$options",654],"[",["T_VARIABLE","$entity_type",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","id",654],"(",")","]",["T_WHITESPACE"," ",654],"=",["T_WHITESPACE"," ",654],"[",["T_WHITESPACE","\n        ",654],["T_CONSTANT_ENCAPSED_STRING","'label'",655],["T_WHITESPACE"," ",655],["T_DOUBLE_ARROW","=>",655],["T_WHITESPACE"," ",655],["T_VARIABLE","$entity_type",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","getLabel",655],"(",")",",",["T_WHITESPACE","\n        ",655],["T_CONSTANT_ENCAPSED_STRING","'field_storage_config'",656],["T_WHITESPACE"," ",656],["T_DOUBLE_ARROW","=>",656],["T_WHITESPACE"," ",656],"[",["T_WHITESPACE","\n          ",656],["T_CONSTANT_ENCAPSED_STRING","'settings'",657],["T_WHITESPACE"," ",657],["T_DOUBLE_ARROW","=>",657],["T_WHITESPACE"," ",657],"[",["T_WHITESPACE","\n            ",657],["T_CONSTANT_ENCAPSED_STRING","'target_type'",658],["T_WHITESPACE"," ",658],["T_DOUBLE_ARROW","=>",658],["T_WHITESPACE"," ",658],["T_VARIABLE","$entity_type",658],["T_OBJECT_OPERATOR","->",658],["T_STRING","id",658],"(",")",",",["T_WHITESPACE","\n          ",658],"]",["T_WHITESPACE","\n        ",659],"]",["T_WHITESPACE","\n      ",660],"]",";",["T_WHITESPACE","\n    ",661],"}",["T_WHITESPACE","\n\n    ",662],["T_RETURN","return",664],["T_WHITESPACE"," ",664],["T_VARIABLE","$options",664],";",["T_WHITESPACE","\n  ",664],"}",["T_WHITESPACE","\n\n",665],"}",["T_WHITESPACE","\n",667]]