[["T_OPEN_TAG","<?php\n",1],["T_COMMENT","\/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership. The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License. You may obtain a copy of the License at\n *\n *   http:\/\/www.apache.org\/licenses\/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n *\n * @package thrift.transport\n *\/",2],["T_WHITESPACE","\n\n",21],["T_NAMESPACE","namespace",23],["T_WHITESPACE"," ",23],["T_STRING","Thrift",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Transport",23],";",["T_WHITESPACE","\n\n",23],["T_USE","use",25],["T_WHITESPACE"," ",25],["T_STRING","Thrift",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Transport",25],["T_NS_SEPARATOR","\\",25],["T_STRING","TTransport",25],";",["T_WHITESPACE","\n",25],["T_USE","use",26],["T_WHITESPACE"," ",26],["T_STRING","Thrift",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Exception",26],["T_NS_SEPARATOR","\\",26],["T_STRING","TException",26],";",["T_WHITESPACE","\n",26],["T_USE","use",27],["T_WHITESPACE"," ",27],["T_STRING","Thrift",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Exception",27],["T_NS_SEPARATOR","\\",27],["T_STRING","TTransportException",27],";",["T_WHITESPACE","\n",27],["T_USE","use",28],["T_WHITESPACE"," ",28],["T_STRING","Thrift",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Factory",28],["T_NS_SEPARATOR","\\",28],["T_STRING","TStringFuncFactory",28],";",["T_WHITESPACE","\n\n",28],["T_DOC_COMMENT","\/**\n * Sockets implementation of the TTransport interface.\n *\n * @package thrift.transport\n *\/",30],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","TSocket",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","TTransport",35],["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n\n  ",35],["T_DOC_COMMENT","\/**\n   * Handle to PHP socket\n   *\n   * @var resource\n   *\/",37],["T_WHITESPACE","\n  ",41],["T_PRIVATE","private",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$handle_",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","null",42],";",["T_WHITESPACE","\n\n  ",42],["T_DOC_COMMENT","\/**\n   * Remote hostname\n   *\n   * @var string\n   *\/",44],["T_WHITESPACE","\n  ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$host_",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'localhost'",49],";",["T_WHITESPACE","\n\n  ",49],["T_DOC_COMMENT","\/**\n   * Remote port\n   *\n   * @var int\n   *\/",51],["T_WHITESPACE","\n  ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$port_",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'9090'",56],";",["T_WHITESPACE","\n\n  ",56],["T_DOC_COMMENT","\/**\n   * Send timeout in seconds.\n   *\n   * Combined with sendTimeoutUsec this is used for send timeouts.\n   *\n   * @var int\n   *\/",58],["T_WHITESPACE","\n  ",64],["T_PRIVATE","private",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$sendTimeoutSec_",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_LNUMBER","0",65],";",["T_WHITESPACE","\n\n  ",65],["T_DOC_COMMENT","\/**\n   * Send timeout in microseconds.\n   *\n   * Combined with sendTimeoutSec this is used for send timeouts.\n   *\n   * @var int\n   *\/",67],["T_WHITESPACE","\n  ",73],["T_PRIVATE","private",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$sendTimeoutUsec_",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_LNUMBER","100000",74],";",["T_WHITESPACE","\n\n  ",74],["T_DOC_COMMENT","\/**\n   * Recv timeout in seconds\n   *\n   * Combined with recvTimeoutUsec this is used for recv timeouts.\n   *\n   * @var int\n   *\/",76],["T_WHITESPACE","\n  ",82],["T_PRIVATE","private",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$recvTimeoutSec_",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_LNUMBER","0",83],";",["T_WHITESPACE","\n\n  ",83],["T_DOC_COMMENT","\/**\n   * Recv timeout in microseconds\n   *\n   * Combined with recvTimeoutSec this is used for recv timeouts.\n   *\n   * @var int\n   *\/",85],["T_WHITESPACE","\n  ",91],["T_PRIVATE","private",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$recvTimeoutUsec_",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_LNUMBER","750000",92],";",["T_WHITESPACE","\n\n  ",92],["T_DOC_COMMENT","\/**\n   * Persistent socket or plain?\n   *\n   * @var bool\n   *\/",94],["T_WHITESPACE","\n  ",98],["T_PROTECTED","protected",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$persist_",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","FALSE",99],";",["T_WHITESPACE","\n\n  ",99],["T_DOC_COMMENT","\/**\n   * Debugging on?\n   *\n   * @var bool\n   *\/",101],["T_WHITESPACE","\n  ",105],["T_PROTECTED","protected",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$debug_",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","FALSE",106],";",["T_WHITESPACE","\n\n  ",106],["T_DOC_COMMENT","\/**\n   * Debug handler\n   *\n   * @var mixed\n   *\/",108],["T_WHITESPACE","\n  ",112],["T_PROTECTED","protected",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$debugHandler_",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","null",113],";",["T_WHITESPACE","\n\n  ",113],["T_DOC_COMMENT","\/**\n   * Socket constructor\n   *\n   * @param string $host         Remote hostname\n   * @param int    $port         Remote port\n   * @param bool   $persist      Whether to use a persistent socket\n   * @param string $debugHandler Function to call for error logging\n   *\/",115],["T_WHITESPACE","\n  ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","__construct",123],"(",["T_VARIABLE","$host",123],"=",["T_CONSTANT_ENCAPSED_STRING","'localhost'",123],",",["T_WHITESPACE","\n                              ",123],["T_VARIABLE","$port",124],"=",["T_LNUMBER","9090",124],",",["T_WHITESPACE","\n                              ",124],["T_VARIABLE","$persist",125],"=",["T_STRING","FALSE",125],",",["T_WHITESPACE","\n                              ",125],["T_VARIABLE","$debugHandler",126],"=",["T_STRING","null",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","host_",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$host",127],";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","port_",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$port",128],";",["T_WHITESPACE","\n    ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","persist_",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$persist",129],";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","debugHandler_",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$debugHandler",130],["T_WHITESPACE"," ",130],"?",["T_WHITESPACE"," ",130],["T_VARIABLE","$debugHandler",130],["T_WHITESPACE"," ",130],":",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'error_log'",130],";",["T_WHITESPACE","\n  ",130],"}",["T_WHITESPACE","\n\n  ",131],["T_DOC_COMMENT","\/**\n   * @param resource $handle\n   * @return void\n   *\/",133],["T_WHITESPACE","\n  ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","setHandle",137],"(",["T_VARIABLE","$handle",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","handle_",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$handle",138],";",["T_WHITESPACE","\n  ",138],"}",["T_WHITESPACE","\n\n  ",139],["T_DOC_COMMENT","\/**\n   * Sets the send timeout.\n   *\n   * @param int $timeout  Timeout in milliseconds.\n   *\/",141],["T_WHITESPACE","\n  ",145],["T_PUBLIC","public",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","setSendTimeout",146],"(",["T_VARIABLE","$timeout",146],")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n    ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","sendTimeoutSec_",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","floor",147],"(",["T_VARIABLE","$timeout",147],["T_WHITESPACE"," ",147],"\/",["T_WHITESPACE"," ",147],["T_LNUMBER","1000",147],")",";",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","sendTimeoutUsec_",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE","\n            ",148],"(",["T_VARIABLE","$timeout",149],["T_WHITESPACE"," ",149],"-",["T_WHITESPACE"," ",149],"(",["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","sendTimeoutSec_",149],["T_WHITESPACE"," ",149],"*",["T_WHITESPACE"," ",149],["T_LNUMBER","1000",149],")",")",["T_WHITESPACE"," ",149],"*",["T_WHITESPACE"," ",149],["T_LNUMBER","1000",149],";",["T_WHITESPACE","\n  ",149],"}",["T_WHITESPACE","\n\n  ",150],["T_DOC_COMMENT","\/**\n   * Sets the receive timeout.\n   *\n   * @param int $timeout  Timeout in milliseconds.\n   *\/",152],["T_WHITESPACE","\n  ",156],["T_PUBLIC","public",157],["T_WHITESPACE"," ",157],["T_FUNCTION","function",157],["T_WHITESPACE"," ",157],["T_STRING","setRecvTimeout",157],"(",["T_VARIABLE","$timeout",157],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","recvTimeoutSec_",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","floor",158],"(",["T_VARIABLE","$timeout",158],["T_WHITESPACE"," ",158],"\/",["T_WHITESPACE"," ",158],["T_LNUMBER","1000",158],")",";",["T_WHITESPACE","\n    ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","recvTimeoutUsec_",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE","\n            ",159],"(",["T_VARIABLE","$timeout",160],["T_WHITESPACE"," ",160],"-",["T_WHITESPACE"," ",160],"(",["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","recvTimeoutSec_",160],["T_WHITESPACE"," ",160],"*",["T_WHITESPACE"," ",160],["T_LNUMBER","1000",160],")",")",["T_WHITESPACE"," ",160],"*",["T_WHITESPACE"," ",160],["T_LNUMBER","1000",160],";",["T_WHITESPACE","\n  ",160],"}",["T_WHITESPACE","\n\n  ",161],["T_DOC_COMMENT","\/**\n   * Sets debugging output on or off\n   *\n   * @param bool $debug\n   *\/",163],["T_WHITESPACE","\n  ",167],["T_PUBLIC","public",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","setDebug",168],"(",["T_VARIABLE","$debug",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n    ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","debug_",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$debug",169],";",["T_WHITESPACE","\n  ",169],"}",["T_WHITESPACE","\n\n  ",170],["T_DOC_COMMENT","\/**\n   * Get the host that this socket is connected to\n   *\n   * @return string host\n   *\/",172],["T_WHITESPACE","\n  ",176],["T_PUBLIC","public",177],["T_WHITESPACE"," ",177],["T_FUNCTION","function",177],["T_WHITESPACE"," ",177],["T_STRING","getHost",177],"(",")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n    ",177],["T_RETURN","return",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","host_",178],";",["T_WHITESPACE","\n  ",178],"}",["T_WHITESPACE","\n\n  ",179],["T_DOC_COMMENT","\/**\n   * Get the remote port that this socket is connected to\n   *\n   * @return int port\n   *\/",181],["T_WHITESPACE","\n  ",185],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","getPort",186],"(",")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n    ",186],["T_RETURN","return",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","port_",187],";",["T_WHITESPACE","\n  ",187],"}",["T_WHITESPACE","\n\n  ",188],["T_DOC_COMMENT","\/**\n   * Tests whether this is open\n   *\n   * @return bool true if the socket is open\n   *\/",190],["T_WHITESPACE","\n  ",194],["T_PUBLIC","public",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","isOpen",195],"(",")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n    ",195],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_STRING","is_resource",196],"(",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","handle_",196],")",";",["T_WHITESPACE","\n  ",196],"}",["T_WHITESPACE","\n\n  ",197],["T_DOC_COMMENT","\/**\n   * Connects the socket.\n   *\/",199],["T_WHITESPACE","\n  ",201],["T_PUBLIC","public",202],["T_WHITESPACE"," ",202],["T_FUNCTION","function",202],["T_WHITESPACE"," ",202],["T_STRING","open",202],"(",")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n    ",202],["T_IF","if",203],["T_WHITESPACE"," ",203],"(",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","isOpen",203],"(",")",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n      ",203],["T_THROW","throw",204],["T_WHITESPACE"," ",204],["T_NEW","new",204],["T_WHITESPACE"," ",204],["T_STRING","TTransportException",204],"(",["T_CONSTANT_ENCAPSED_STRING","'Socket already connected'",204],",",["T_WHITESPACE"," ",204],["T_STRING","TTransportException",204],["T_DOUBLE_COLON","::",204],["T_STRING","ALREADY_OPEN",204],")",";",["T_WHITESPACE","\n    ",204],"}",["T_WHITESPACE","\n\n    ",205],["T_IF","if",207],["T_WHITESPACE"," ",207],"(",["T_EMPTY","empty",207],"(",["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","host_",207],")",")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n      ",207],["T_THROW","throw",208],["T_WHITESPACE"," ",208],["T_NEW","new",208],["T_WHITESPACE"," ",208],["T_STRING","TTransportException",208],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot open null host'",208],",",["T_WHITESPACE"," ",208],["T_STRING","TTransportException",208],["T_DOUBLE_COLON","::",208],["T_STRING","NOT_OPEN",208],")",";",["T_WHITESPACE","\n    ",208],"}",["T_WHITESPACE","\n\n    ",209],["T_IF","if",211],["T_WHITESPACE"," ",211],"(",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","port_",211],["T_WHITESPACE"," ",211],["T_IS_SMALLER_OR_EQUAL","<=",211],["T_WHITESPACE"," ",211],["T_LNUMBER","0",211],")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n      ",211],["T_THROW","throw",212],["T_WHITESPACE"," ",212],["T_NEW","new",212],["T_WHITESPACE"," ",212],["T_STRING","TTransportException",212],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot open without port'",212],",",["T_WHITESPACE"," ",212],["T_STRING","TTransportException",212],["T_DOUBLE_COLON","::",212],["T_STRING","NOT_OPEN",212],")",";",["T_WHITESPACE","\n    ",212],"}",["T_WHITESPACE","\n\n    ",213],["T_IF","if",215],["T_WHITESPACE"," ",215],"(",["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","persist_",215],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n      ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","handle_",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],"@",["T_STRING","pfsockopen",216],"(",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","host_",216],",",["T_WHITESPACE","\n                                   ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","port_",217],",",["T_WHITESPACE","\n                                   ",217],["T_VARIABLE","$errno",218],",",["T_WHITESPACE","\n                                   ",218],["T_VARIABLE","$errstr",219],",",["T_WHITESPACE","\n                                   ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","sendTimeoutSec_",220],["T_WHITESPACE"," ",220],"+",["T_WHITESPACE"," ",220],"(",["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","sendTimeoutUsec_",220],["T_WHITESPACE"," ",220],"\/",["T_WHITESPACE"," ",220],["T_LNUMBER","1000000",220],")",")",";",["T_WHITESPACE","\n    ",220],"}",["T_WHITESPACE"," ",221],["T_ELSE","else",221],["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n      ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","handle_",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],"@",["T_STRING","fsockopen",222],"(",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","host_",222],",",["T_WHITESPACE","\n                                  ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","port_",223],",",["T_WHITESPACE","\n                                  ",223],["T_VARIABLE","$errno",224],",",["T_WHITESPACE","\n                                  ",224],["T_VARIABLE","$errstr",225],",",["T_WHITESPACE","\n                                  ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","sendTimeoutSec_",226],["T_WHITESPACE"," ",226],"+",["T_WHITESPACE"," ",226],"(",["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","sendTimeoutUsec_",226],["T_WHITESPACE"," ",226],"\/",["T_WHITESPACE"," ",226],["T_LNUMBER","1000000",226],")",")",";",["T_WHITESPACE","\n    ",226],"}",["T_WHITESPACE","\n\n    ",227],["T_COMMENT","\/\/ Connect failed?\n",229],["T_WHITESPACE","    ",230],["T_IF","if",230],["T_WHITESPACE"," ",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","handle_",230],["T_WHITESPACE"," ",230],["T_IS_IDENTICAL","===",230],["T_WHITESPACE"," ",230],["T_STRING","FALSE",230],")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n      ",230],["T_VARIABLE","$error",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'TSocket: Could not connect to '",231],".",["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","host_",231],".",["T_CONSTANT_ENCAPSED_STRING","':'",231],".",["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","port_",231],".",["T_CONSTANT_ENCAPSED_STRING","' ('",231],".",["T_VARIABLE","$errstr",231],".",["T_CONSTANT_ENCAPSED_STRING","' ['",231],".",["T_VARIABLE","$errno",231],".",["T_CONSTANT_ENCAPSED_STRING","'])'",231],";",["T_WHITESPACE","\n      ",231],["T_IF","if",232],["T_WHITESPACE"," ",232],"(",["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","debug_",232],")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n        ",232],["T_STRING","call_user_func",233],"(",["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","debugHandler_",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$error",233],")",";",["T_WHITESPACE","\n      ",233],"}",["T_WHITESPACE","\n      ",234],["T_THROW","throw",235],["T_WHITESPACE"," ",235],["T_NEW","new",235],["T_WHITESPACE"," ",235],["T_STRING","TException",235],"(",["T_VARIABLE","$error",235],")",";",["T_WHITESPACE","\n    ",235],"}",["T_WHITESPACE","\n  ",236],"}",["T_WHITESPACE","\n\n  ",237],["T_DOC_COMMENT","\/**\n   * Closes the socket.\n   *\/",239],["T_WHITESPACE","\n  ",241],["T_PUBLIC","public",242],["T_WHITESPACE"," ",242],["T_FUNCTION","function",242],["T_WHITESPACE"," ",242],["T_STRING","close",242],"(",")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n    ",242],["T_IF","if",243],["T_WHITESPACE"," ",243],"(","!",["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","persist_",243],")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n      ",243],"@",["T_STRING","fclose",244],"(",["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","handle_",244],")",";",["T_WHITESPACE","\n      ",244],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","handle_",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_STRING","null",245],";",["T_WHITESPACE","\n    ",245],"}",["T_WHITESPACE","\n  ",246],"}",["T_WHITESPACE","\n\n  ",247],["T_DOC_COMMENT","\/**\n   * Read from the socket at most $len bytes.\n   *\n   * This method will not wait for all the requested data, it will return as\n   * soon as any data is received.\n   *\n   * @param int $len Maximum number of bytes to read.\n   * @return string Binary data\n   *\/",249],["T_WHITESPACE","\n  ",257],["T_PUBLIC","public",258],["T_WHITESPACE"," ",258],["T_FUNCTION","function",258],["T_WHITESPACE"," ",258],["T_STRING","read",258],"(",["T_VARIABLE","$len",258],")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n    ",258],["T_VARIABLE","$null",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_STRING","null",259],";",["T_WHITESPACE","\n    ",259],["T_VARIABLE","$read",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_ARRAY","array",260],"(",["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","handle_",260],")",";",["T_WHITESPACE","\n    ",260],["T_VARIABLE","$readable",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],"@",["T_STRING","stream_select",261],"(",["T_VARIABLE","$read",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$null",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$null",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","recvTimeoutSec_",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","recvTimeoutUsec_",261],")",";",["T_WHITESPACE","\n\n    ",261],["T_IF","if",263],["T_WHITESPACE"," ",263],"(",["T_VARIABLE","$readable",263],["T_WHITESPACE"," ",263],">",["T_WHITESPACE"," ",263],["T_LNUMBER","0",263],")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n      ",263],["T_VARIABLE","$data",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],"@",["T_STRING","stream_socket_recvfrom",264],"(",["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","handle_",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$len",264],")",";",["T_WHITESPACE","\n      ",264],["T_IF","if",265],["T_WHITESPACE"," ",265],"(",["T_VARIABLE","$data",265],["T_WHITESPACE"," ",265],["T_IS_IDENTICAL","===",265],["T_WHITESPACE"," ",265],["T_STRING","false",265],")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n          ",265],["T_THROW","throw",266],["T_WHITESPACE"," ",266],["T_NEW","new",266],["T_WHITESPACE"," ",266],["T_STRING","TTransportException",266],"(",["T_CONSTANT_ENCAPSED_STRING","'TSocket: Could not read '",266],".",["T_VARIABLE","$len",266],".",["T_CONSTANT_ENCAPSED_STRING","' bytes from '",266],".",["T_WHITESPACE","\n                               ",266],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","host_",267],".",["T_CONSTANT_ENCAPSED_STRING","':'",267],".",["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","port_",267],")",";",["T_WHITESPACE","\n      ",267],"}",["T_WHITESPACE"," ",268],["T_ELSEIF","elseif",268],"(",["T_VARIABLE","$data",268],["T_WHITESPACE"," ",268],["T_IS_EQUAL","==",268],["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","''",268],["T_WHITESPACE"," ",268],["T_BOOLEAN_AND","&&",268],["T_WHITESPACE"," ",268],["T_STRING","feof",268],"(",["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","handle_",268],")",")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n          ",268],["T_THROW","throw",269],["T_WHITESPACE"," ",269],["T_NEW","new",269],["T_WHITESPACE"," ",269],["T_STRING","TTransportException",269],"(",["T_CONSTANT_ENCAPSED_STRING","'TSocket read 0 bytes'",269],")",";",["T_WHITESPACE","\n        ",269],"}",["T_WHITESPACE","\n\n      ",270],["T_RETURN","return",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$data",272],";",["T_WHITESPACE","\n    ",272],"}",["T_WHITESPACE"," ",273],["T_ELSE","else",273],["T_WHITESPACE"," ",273],["T_IF","if",273],["T_WHITESPACE"," ",273],"(",["T_VARIABLE","$readable",273],["T_WHITESPACE"," ",273],["T_IS_IDENTICAL","===",273],["T_WHITESPACE"," ",273],["T_LNUMBER","0",273],")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n        ",273],["T_THROW","throw",274],["T_WHITESPACE"," ",274],["T_NEW","new",274],["T_WHITESPACE"," ",274],["T_STRING","TTransportException",274],"(",["T_CONSTANT_ENCAPSED_STRING","'TSocket: timed out reading '",274],".",["T_VARIABLE","$len",274],".",["T_CONSTANT_ENCAPSED_STRING","' bytes from '",274],".",["T_WHITESPACE","\n                             ",274],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","host_",275],".",["T_CONSTANT_ENCAPSED_STRING","':'",275],".",["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","port_",275],")",";",["T_WHITESPACE","\n      ",275],"}",["T_WHITESPACE"," ",276],["T_ELSE","else",276],["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n        ",276],["T_THROW","throw",277],["T_WHITESPACE"," ",277],["T_NEW","new",277],["T_WHITESPACE"," ",277],["T_STRING","TTransportException",277],"(",["T_CONSTANT_ENCAPSED_STRING","'TSocket: Could not read '",277],".",["T_VARIABLE","$len",277],".",["T_CONSTANT_ENCAPSED_STRING","' bytes from '",277],".",["T_WHITESPACE","\n                             ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","host_",278],".",["T_CONSTANT_ENCAPSED_STRING","':'",278],".",["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","port_",278],")",";",["T_WHITESPACE","\n      ",278],"}",["T_WHITESPACE","\n    ",279],"}",["T_WHITESPACE","\n\n  ",280],["T_DOC_COMMENT","\/**\n   * Write to the socket.\n   *\n   * @param string $buf The data to write\n   *\/",282],["T_WHITESPACE","\n  ",286],["T_PUBLIC","public",287],["T_WHITESPACE"," ",287],["T_FUNCTION","function",287],["T_WHITESPACE"," ",287],["T_STRING","write",287],"(",["T_VARIABLE","$buf",287],")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n    ",287],["T_VARIABLE","$null",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_STRING","null",288],";",["T_WHITESPACE","\n    ",288],["T_VARIABLE","$write",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_ARRAY","array",289],"(",["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","handle_",289],")",";",["T_WHITESPACE","\n\n    ",289],["T_COMMENT","\/\/ keep writing until all the data has been written\n",291],["T_WHITESPACE","    ",292],["T_WHILE","while",292],["T_WHITESPACE"," ",292],"(",["T_STRING","TStringFuncFactory",292],["T_DOUBLE_COLON","::",292],["T_STRING","create",292],"(",")",["T_OBJECT_OPERATOR","->",292],["T_STRING","strlen",292],"(",["T_VARIABLE","$buf",292],")",["T_WHITESPACE"," ",292],">",["T_WHITESPACE"," ",292],["T_LNUMBER","0",292],")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n      ",292],["T_COMMENT","\/\/ wait for stream to become available for writing\n",293],["T_WHITESPACE","      ",294],["T_VARIABLE","$writable",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],"@",["T_STRING","stream_select",294],"(",["T_VARIABLE","$null",294],",",["T_WHITESPACE"," ",294],["T_VARIABLE","$write",294],",",["T_WHITESPACE"," ",294],["T_VARIABLE","$null",294],",",["T_WHITESPACE"," ",294],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","sendTimeoutSec_",294],",",["T_WHITESPACE"," ",294],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","sendTimeoutUsec_",294],")",";",["T_WHITESPACE","\n      ",294],["T_IF","if",295],["T_WHITESPACE"," ",295],"(",["T_VARIABLE","$writable",295],["T_WHITESPACE"," ",295],">",["T_WHITESPACE"," ",295],["T_LNUMBER","0",295],")",["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n        ",295],["T_COMMENT","\/\/ write buffer to stream\n",296],["T_WHITESPACE","        ",297],["T_VARIABLE","$written",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],"@",["T_STRING","stream_socket_sendto",297],"(",["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","handle_",297],",",["T_WHITESPACE"," ",297],["T_VARIABLE","$buf",297],")",";",["T_WHITESPACE","\n        ",297],["T_IF","if",298],["T_WHITESPACE"," ",298],"(",["T_VARIABLE","$written",298],["T_WHITESPACE"," ",298],["T_IS_IDENTICAL","===",298],["T_WHITESPACE"," ",298],"-",["T_LNUMBER","1",298],["T_WHITESPACE"," ",298],["T_BOOLEAN_OR","||",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$written",298],["T_WHITESPACE"," ",298],["T_IS_IDENTICAL","===",298],["T_WHITESPACE"," ",298],["T_STRING","false",298],")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n          ",298],["T_THROW","throw",299],["T_WHITESPACE"," ",299],["T_NEW","new",299],["T_WHITESPACE"," ",299],["T_STRING","TTransportException",299],"(",["T_CONSTANT_ENCAPSED_STRING","'TSocket: Could not write '",299],".",["T_STRING","TStringFuncFactory",299],["T_DOUBLE_COLON","::",299],["T_STRING","create",299],"(",")",["T_OBJECT_OPERATOR","->",299],["T_STRING","strlen",299],"(",["T_VARIABLE","$buf",299],")",".",["T_CONSTANT_ENCAPSED_STRING","' bytes '",299],".",["T_WHITESPACE","\n                                   ",299],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","host_",300],".",["T_CONSTANT_ENCAPSED_STRING","':'",300],".",["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","port_",300],")",";",["T_WHITESPACE","\n        ",300],"}",["T_WHITESPACE","\n        ",301],["T_COMMENT","\/\/ determine how much of the buffer is left to write\n",302],["T_WHITESPACE","        ",303],["T_VARIABLE","$buf",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_STRING","TStringFuncFactory",303],["T_DOUBLE_COLON","::",303],["T_STRING","create",303],"(",")",["T_OBJECT_OPERATOR","->",303],["T_STRING","substr",303],"(",["T_VARIABLE","$buf",303],",",["T_WHITESPACE"," ",303],["T_VARIABLE","$written",303],")",";",["T_WHITESPACE","\n      ",303],"}",["T_WHITESPACE"," ",304],["T_ELSE","else",304],["T_WHITESPACE"," ",304],["T_IF","if",304],["T_WHITESPACE"," ",304],"(",["T_VARIABLE","$writable",304],["T_WHITESPACE"," ",304],["T_IS_IDENTICAL","===",304],["T_WHITESPACE"," ",304],["T_LNUMBER","0",304],")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n          ",304],["T_THROW","throw",305],["T_WHITESPACE"," ",305],["T_NEW","new",305],["T_WHITESPACE"," ",305],["T_STRING","TTransportException",305],"(",["T_CONSTANT_ENCAPSED_STRING","'TSocket: timed out writing '",305],".",["T_STRING","TStringFuncFactory",305],["T_DOUBLE_COLON","::",305],["T_STRING","create",305],"(",")",["T_OBJECT_OPERATOR","->",305],["T_STRING","strlen",305],"(",["T_VARIABLE","$buf",305],")",".",["T_CONSTANT_ENCAPSED_STRING","' bytes from '",305],".",["T_WHITESPACE","\n                               ",305],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","host_",306],".",["T_CONSTANT_ENCAPSED_STRING","':'",306],".",["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","port_",306],")",";",["T_WHITESPACE","\n        ",306],"}",["T_WHITESPACE"," ",307],["T_ELSE","else",307],["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n            ",307],["T_THROW","throw",308],["T_WHITESPACE"," ",308],["T_NEW","new",308],["T_WHITESPACE"," ",308],["T_STRING","TTransportException",308],"(",["T_CONSTANT_ENCAPSED_STRING","'TSocket: Could not write '",308],".",["T_STRING","TStringFuncFactory",308],["T_DOUBLE_COLON","::",308],["T_STRING","create",308],"(",")",["T_OBJECT_OPERATOR","->",308],["T_STRING","strlen",308],"(",["T_VARIABLE","$buf",308],")",".",["T_CONSTANT_ENCAPSED_STRING","' bytes '",308],".",["T_WHITESPACE","\n                                 ",308],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","host_",309],".",["T_CONSTANT_ENCAPSED_STRING","':'",309],".",["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","port_",309],")",";",["T_WHITESPACE","\n        ",309],"}",["T_WHITESPACE","\n      ",310],"}",["T_WHITESPACE","\n    ",311],"}",["T_WHITESPACE","\n\n  ",312],["T_DOC_COMMENT","\/**\n   * Flush output to the socket.\n   *\n   * Since read(), readAll() and write() operate on the sockets directly,\n   * this is a no-op\n   *\n   * If you wish to have flushable buffering behaviour, wrap this TSocket\n   * in a TBufferedTransport.\n   *\/",314],["T_WHITESPACE","\n  ",322],["T_PUBLIC","public",323],["T_WHITESPACE"," ",323],["T_FUNCTION","function",323],["T_WHITESPACE"," ",323],["T_STRING","flush",323],"(",")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n    ",323],["T_COMMENT","\/\/ no-op\n",324],["T_WHITESPACE","    ",325],"}",["T_WHITESPACE","\n  ",325],"}",["T_WHITESPACE","\n",326]]