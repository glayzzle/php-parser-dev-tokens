[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Thrift",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Server",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Thrift",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Server",5],["T_NS_SEPARATOR","\\",5],["T_STRING","TServerTransport",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Thrift",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Transport",6],["T_NS_SEPARATOR","\\",6],["T_STRING","TSocket",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Socket implementation of a server agent.\n *\n * @package thrift.transport\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","TServerSocket",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","TServerTransport",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * Handle for the listener socket\n   *\n   * @var resource\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PRIVATE","private",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$listener_",20],";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * Port for the listener to listen on\n   *\n   * @var int\n   *\/",22],["T_WHITESPACE","\n  ",26],["T_PRIVATE","private",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$port_",27],";",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * Timeout when listening for a new client\n   *\n   * @var int\n   *\/",29],["T_WHITESPACE","\n  ",33],["T_PRIVATE","private",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$acceptTimeout_",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_LNUMBER","30000",34],";",["T_WHITESPACE","\n\n  ",34],["T_DOC_COMMENT","\/**\n   * Host to listen on\n   *\n   * @var string\n   *\/",36],["T_WHITESPACE","\n  ",40],["T_PRIVATE","private",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$host_",41],";",["T_WHITESPACE","\n\n  ",41],["T_DOC_COMMENT","\/**\n   * ServerSocket constructor\n   *\n   * @param string $host        Host to listen on\n   * @param int $port           Port to listen on\n   * @return void\n   *\/",43],["T_WHITESPACE","\n  ",49],["T_PUBLIC","public",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","__construct",50],"(",["T_VARIABLE","$host",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'localhost'",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$port",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_LNUMBER","9090",50],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","host_",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$host",51],";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","port_",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$port",52],";",["T_WHITESPACE","\n  ",52],"}",["T_WHITESPACE","\n\n  ",53],["T_DOC_COMMENT","\/**\n   * Sets the accept timeout\n   *\n   * @param int $acceptTimeout\n   * @return void\n   *\/",55],["T_WHITESPACE","\n  ",60],["T_PUBLIC","public",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","setAcceptTimeout",61],"(",["T_VARIABLE","$acceptTimeout",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","acceptTimeout_",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$acceptTimeout",62],";",["T_WHITESPACE","\n  ",62],"}",["T_WHITESPACE","\n\n  ",63],["T_DOC_COMMENT","\/**\n   * Opens a new socket server handle\n   *\n   * @return void\n   *\/",65],["T_WHITESPACE","\n  ",69],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","listen",70],"(",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","listener_",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","stream_socket_server",71],"(",["T_CONSTANT_ENCAPSED_STRING","'tcp:\/\/'",71],["T_WHITESPACE"," ",71],".",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","host_",71],["T_WHITESPACE"," ",71],".",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","':'",71],["T_WHITESPACE"," ",71],".",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","port_",71],")",";",["T_WHITESPACE","\n  ",71],"}",["T_WHITESPACE","\n\n  ",72],["T_DOC_COMMENT","\/**\n   * Closes the socket server handle\n   *\n   * @return void\n   *\/",74],["T_WHITESPACE","\n  ",78],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","close",79],"(",")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n    ",79],"@",["T_STRING","fclose",80],"(",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","listener_",80],")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","listener_",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","null",81],";",["T_WHITESPACE","\n  ",81],"}",["T_WHITESPACE","\n\n  ",82],["T_DOC_COMMENT","\/**\n   * Implementation of accept. If not client is accepted in the given time\n   *\n   * @return TSocket\n   *\/",84],["T_WHITESPACE","\n  ",88],["T_PROTECTED","protected",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","acceptImpl",89],"(",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$handle",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],"@",["T_STRING","stream_socket_accept",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","listener_",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","acceptTimeout_",90],["T_WHITESPACE"," ",90],"\/",["T_WHITESPACE"," ",90],["T_DNUMBER","1000.0",90],")",";",["T_WHITESPACE","\n    ",90],["T_IF","if",91],"(","!",["T_VARIABLE","$handle",91],")",["T_WHITESPACE"," ",91],["T_RETURN","return",91],["T_WHITESPACE"," ",91],["T_STRING","null",91],";",["T_WHITESPACE","\n\n    ",91],["T_VARIABLE","$socket",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_NEW","new",93],["T_WHITESPACE"," ",93],["T_STRING","TSocket",93],"(",")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$socket",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","setHandle",94],"(",["T_VARIABLE","$handle",94],")",";",["T_WHITESPACE","\n\n    ",94],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$socket",96],";",["T_WHITESPACE","\n  ",96],"}",["T_WHITESPACE","\n",97],"}",["T_WHITESPACE","\n",98]]