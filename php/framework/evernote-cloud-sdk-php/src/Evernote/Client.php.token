[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Evernote",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Psr",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Log",5],["T_NS_SEPARATOR","\\",5],["T_STRING","NullLogger",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Psr",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Log",6],["T_NS_SEPARATOR","\\",6],["T_STRING","LoggerInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","EDAM",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Error",7],["T_NS_SEPARATOR","\\",7],["T_STRING","EDAMNotFoundException",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","EDAM",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Error",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EDAMSystemException",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","EDAM",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Error",9],["T_NS_SEPARATOR","\\",9],["T_STRING","EDAMUserException",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","EDAM",10],["T_NS_SEPARATOR","\\",10],["T_STRING","NoteStore",10],["T_NS_SEPARATOR","\\",10],["T_STRING","NoteFilter",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","EDAM",11],["T_NS_SEPARATOR","\\",11],["T_STRING","NoteStore",11],["T_NS_SEPARATOR","\\",11],["T_STRING","NotesMetadataResultSpec",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","EDAM",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Types",12],["T_NS_SEPARATOR","\\",12],["T_STRING","LinkedNotebook",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","EDAM",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Types",13],["T_NS_SEPARATOR","\\",13],["T_STRING","NoteSortOrder",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Evernote",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Exception",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ExceptionFactory",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Evernote",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Exception",15],["T_NS_SEPARATOR","\\",15],["T_STRING","PermissionDeniedException",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Evernote",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Model",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Note",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Evernote",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Notebook",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Evernote",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Model",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Search",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Evernote",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Model",19],["T_NS_SEPARATOR","\\",19],["T_STRING","SearchResult",19],";",["T_WHITESPACE","\n\n",19],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","Client",21],["T_WHITESPACE","\n",21],"{",["T_WHITESPACE","\n    ",22],["T_DOC_COMMENT","\/** @var  \\Evernote\\AdvancedClient *\/",23],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$advancedClient",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/** @var  string *\/",26],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$token",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/** @var  boolean *\/",29],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$sandbox",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/** @var  boolean *\/",32],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$china",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/** @var  \\EDAM\\NoteStore\\NoteStoreClient *\/",35],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$userNoteStore",36],";",["T_WHITESPACE","\n\n    ",36],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$isBusinessUser",38],";",["T_WHITESPACE","\n\n\n    ",38],["T_DOC_COMMENT","\/** @var  \\EDAM\\NoteStore\\NoteStoreClient *\/",41],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$businessNoteStore",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/** @var  string *\/",44],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$businessToken",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/** @var  \\EDAM\\UserStore\\AuthenticationResult *\/",47],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$businessAuth",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/** @var \\Psr\\Log\\LoggerInterface *\/",50],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$logger",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Personal scope for the getNote and getNotebook methods\n     *\/",53],["T_WHITESPACE","\n    ",55],["T_CONST","const",56],["T_WHITESPACE"," ",56],["T_STRING","PERSONAL_SCOPE",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_LNUMBER","1",56],";",["T_WHITESPACE","\n    ",56],["T_DOC_COMMENT","\/**\n     * Linked scope for the getNote and getNotebook methods\n     *\/",57],["T_WHITESPACE","\n    ",59],["T_CONST","const",60],["T_WHITESPACE"," ",60],["T_STRING","LINKED_SCOPE",60],["T_WHITESPACE","   ",60],"=",["T_WHITESPACE"," ",60],["T_LNUMBER","2",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     *  Only used if specifying an explicit notebook instead.\n     *\/",62],["T_WHITESPACE","\n    ",64],["T_CONST","const",65],["T_WHITESPACE"," ",65],["T_STRING","SEARCH_SCOPE_NONE",65],["T_WHITESPACE","            ",65],"=",["T_WHITESPACE"," ",65],["T_LNUMBER","0",65],";",["T_WHITESPACE","\n    ",65],["T_DOC_COMMENT","\/**\n     *  Search among all personal notebooks.\n     *\/",66],["T_WHITESPACE","\n    ",68],["T_CONST","const",69],["T_WHITESPACE"," ",69],["T_STRING","SEARCH_SCOPE_PERSONAL",69],["T_WHITESPACE","        ",69],"=",["T_WHITESPACE"," ",69],["T_LNUMBER","1",69],";",["T_WHITESPACE"," ",69],["T_COMMENT","\/\/ 1 << 0\n",69],["T_WHITESPACE","    ",70],["T_DOC_COMMENT","\/**\n     *  Search among all notebooks shared to the user by others.\n     *\/",70],["T_WHITESPACE","\n    ",72],["T_CONST","const",73],["T_WHITESPACE"," ",73],["T_STRING","SEARCH_SCOPE_PERSONAL_LINKED",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_LNUMBER","2",73],";",["T_WHITESPACE"," ",73],["T_COMMENT","\/\/ 1 << 1\n",73],["T_WHITESPACE","    ",74],["T_DOC_COMMENT","\/**\n     *  Search among all business notebooks the user has joined.\n     *\/",74],["T_WHITESPACE","\n    ",76],["T_CONST","const",77],["T_WHITESPACE"," ",77],["T_STRING","SEARCH_SCOPE_BUSINESS",77],["T_WHITESPACE","        ",77],"=",["T_WHITESPACE"," ",77],["T_LNUMBER","4",77],";",["T_WHITESPACE"," ",77],["T_COMMENT","\/\/ 1 << 2\n",77],["T_WHITESPACE","\n    ",78],["T_DOC_COMMENT","\/**\n     *  Use this if your app uses an \"App Notebook\". (any other set flags will be ignored.)\n     *\/",79],["T_WHITESPACE","\n    ",81],["T_CONST","const",82],["T_WHITESPACE"," ",82],["T_STRING","SEARCH_SCOPE_APP_NOTEBOOK",82],["T_WHITESPACE","    ",82],"=",["T_WHITESPACE"," ",82],["T_LNUMBER","8",82],";",["T_WHITESPACE"," ",82],["T_COMMENT","\/\/ 1 << 3\n",82],["T_WHITESPACE","\n    ",83],["T_DOC_COMMENT","\/**\n     * Default search is among personal notebooks only; typical and most performant scope.\n     *\/",84],["T_WHITESPACE","\n    ",86],["T_CONST","const",87],["T_WHITESPACE"," ",87],["T_STRING","SEARCH_SCOPE_DEFAULT",87],["T_WHITESPACE","         ",87],"=",["T_WHITESPACE"," ",87],["T_LNUMBER","1",87],";",["T_WHITESPACE"," ",87],["T_COMMENT","\/\/ SEARCH_SCOPE_PERSONAL\n",87],["T_WHITESPACE","\n    ",88],["T_DOC_COMMENT","\/**\n     * Search everything this user can see. PERFORMANCE NOTE: This can be very expensive and result in many roundtrips if the\n     * user is a member of a business and\/or has many linked notebooks.\n     *\/",89],["T_WHITESPACE","\n    ",92],["T_CONST","const",93],["T_WHITESPACE"," ",93],["T_STRING","SEARCH_SCOPE_ALL",93],["T_WHITESPACE","             ",93],"=",["T_WHITESPACE"," ",93],["T_LNUMBER","7",93],";",["T_WHITESPACE"," ",93],["T_COMMENT","\/\/ SEARCH_SCOPE_PERSONAL | SEARCH_SCOPE_PERSONAL_LINKED | SEARCH_SCOPE_BUSINESS\n",93],["T_WHITESPACE","\n    ",94],["T_COMMENT","\/\/ The following options address the kind of sort that should be used.\n",95],["T_WHITESPACE","\n    ",96],["T_DOC_COMMENT","\/**\n     *  Case-insensitive order by title.\n     *\/",97],["T_WHITESPACE","\n    ",99],["T_CONST","const",100],["T_WHITESPACE"," ",100],["T_STRING","SORT_ORDER_TITLE",100],["T_WHITESPACE","            ",100],"=",["T_WHITESPACE"," ",100],["T_LNUMBER","1",100],";",["T_WHITESPACE"," ",100],["T_COMMENT","\/\/ 1 << 0\n",100],["T_WHITESPACE","    ",101],["T_DOC_COMMENT","\/**\n     *  Most recently created first.\n     *\/",101],["T_WHITESPACE","\n    ",103],["T_CONST","const",104],["T_WHITESPACE"," ",104],["T_STRING","SORT_ORDER_RECENTLY_CREATED",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_LNUMBER","2",104],";",["T_WHITESPACE"," ",104],["T_COMMENT","\/\/ 1 << 1\n",104],["T_WHITESPACE","    ",105],["T_DOC_COMMENT","\/**\n     *  Most recently updated first.\n     *\/",105],["T_WHITESPACE","\n    ",107],["T_CONST","const",108],["T_WHITESPACE"," ",108],["T_STRING","SORT_ORDER_RECENTLY_UPDATED",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_LNUMBER","4",108],";",["T_WHITESPACE"," ",108],["T_COMMENT","\/\/ 1 << 2\n",108],["T_WHITESPACE","    ",109],["T_DOC_COMMENT","\/**\n     *  Most relevant first. NB only valid when using a single search scope.\n     *\/",109],["T_WHITESPACE","\n    ",111],["T_CONST","const",112],["T_WHITESPACE"," ",112],["T_STRING","SORT_ORDER_RELEVANCE",112],["T_WHITESPACE","        ",112],"=",["T_WHITESPACE"," ",112],["T_LNUMBER","8",112],";",["T_WHITESPACE"," ",112],["T_COMMENT","\/\/ 1 << 3\n",112],["T_WHITESPACE","\n    ",113],["T_COMMENT","\/\/ The following options address the ordering of the sort.\n",114],["T_WHITESPACE","\n    ",115],["T_DOC_COMMENT","\/**\n     *  Default order (no flag).\n     *\/",116],["T_WHITESPACE","\n    ",118],["T_CONST","const",119],["T_WHITESPACE"," ",119],["T_STRING","SORT_ORDER_NORMAL",119],["T_WHITESPACE","  ",119],"=",["T_WHITESPACE"," ",119],["T_LNUMBER","0",119],";",["T_WHITESPACE"," ",119],["T_COMMENT","\/\/ 0 << 16\n",119],["T_WHITESPACE","    ",120],["T_DOC_COMMENT","\/**\n     *  Reverse order.\n     *\/",120],["T_WHITESPACE","\n    ",122],["T_CONST","const",123],["T_WHITESPACE"," ",123],["T_STRING","SORT_ORDER_REVERSE",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_LNUMBER","65536",123],";",["T_WHITESPACE"," ",123],["T_COMMENT","\/\/ 1 << 16\n",123],["T_WHITESPACE","\n    ",124],["T_DOC_COMMENT","\/**\n     * Is it a business note ?\n     *\/",125],["T_WHITESPACE","\n    ",127],["T_CONST","const",128],["T_WHITESPACE"," ",128],["T_STRING","BUSINESS_NOTE",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_LNUMBER","0",128],";",["T_WHITESPACE","\n\n    ",128],["T_DOC_COMMENT","\/**\n     * Is it a personal note ?\n     *\/",130],["T_WHITESPACE","\n    ",132],["T_CONST","const",133],["T_WHITESPACE"," ",133],["T_STRING","PERSONAL_NOTE",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_LNUMBER","1",133],";",["T_WHITESPACE","\n\n    ",133],["T_DOC_COMMENT","\/**\n     * Is it a shared note ?\n     *\/",135],["T_WHITESPACE","\n    ",137],["T_CONST","const",138],["T_WHITESPACE"," ",138],["T_STRING","SHARED_NOTE",138],["T_WHITESPACE","   ",138],"=",["T_WHITESPACE"," ",138],["T_LNUMBER","2",138],";",["T_WHITESPACE","\n\n    ",138],["T_COMMENT","\/**************************\/",140],["T_WHITESPACE","\n    ",140],["T_COMMENT","\/**** Public interface ****\/",141],["T_WHITESPACE","\n    ",141],["T_COMMENT","\/**************************\/",142],["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * @param string|null $token\n     * @param bool $sandbox\n     * @param \\Evernote\\AdvancedClient|null $advancedClient\n     * @param \\Psr\\Log\\LoggerInterface|null $logger\n     * @param bool $china\n     *\/",144],["T_WHITESPACE","\n    ",150],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","__construct",151],"(",["T_VARIABLE","$token",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","null",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$sandbox",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","true",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$advancedClient",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","null",151],",",["T_WHITESPACE"," ",151],["T_STRING","LoggerInterface",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$logger",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","null",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$china",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","false",151],")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","token",153],["T_WHITESPACE","          ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$token",153],";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","sandbox",154],["T_WHITESPACE","        ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$sandbox",154],";",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","advancedClient",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$advancedClient",155],";",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","logger",156],["T_WHITESPACE","         ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$logger",156],["T_WHITESPACE"," ",156],"?",":",["T_WHITESPACE"," ",156],["T_NEW","new",156],["T_WHITESPACE"," ",156],["T_STRING","NullLogger",156],";",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","china",157],["T_WHITESPACE","          ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$china",157],";",["T_WHITESPACE","\n    ",157],"}",["T_WHITESPACE","\n\n\n    ",158],["T_DOC_COMMENT","\/**\n     * Returns a boolean indicating if the user has a business account\n     *\n     * @return bool\n     *\/",161],["T_WHITESPACE","\n    ",165],["T_PUBLIC","public",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","isBusinessUser",166],"(",")",["T_WHITESPACE","\n    ",166],"{",["T_WHITESPACE","\n        ",167],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_STRING","null",168],["T_WHITESPACE"," ",168],["T_IS_IDENTICAL","===",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","isBusinessUser",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n            ",168],["T_TRY","try",169],["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n                ",169],["T_VARIABLE","$user",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getAdvancedClient",170],"(",")",["T_WHITESPACE","\n                    ",170],["T_OBJECT_OPERATOR","->",171],["T_STRING","getUserStore",171],"(",")",["T_OBJECT_OPERATOR","->",171],["T_STRING","getUser",171],"(",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","token",171],")",";",["T_WHITESPACE","\n            ",171],"}",["T_WHITESPACE"," ",172],["T_CATCH","catch",172],["T_WHITESPACE"," ",172],"(",["T_NS_SEPARATOR","\\",172],["T_STRING","Exception",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$e",172],")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n                ",172],["T_THROW","throw",173],["T_WHITESPACE"," ",173],["T_STRING","ExceptionFactory",173],["T_DOUBLE_COLON","::",173],["T_STRING","create",173],"(",["T_VARIABLE","$e",173],")",";",["T_WHITESPACE","\n            ",173],"}",["T_WHITESPACE","\n\n            ",174],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","isBusinessUser",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$user",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","accounting",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","businessId",176],["T_WHITESPACE"," ",176],["T_IS_NOT_IDENTICAL","!==",176],["T_WHITESPACE"," ",176],["T_STRING","null",176],";",["T_WHITESPACE","\n        ",176],"}",["T_WHITESPACE","\n\n        ",177],["T_RETURN","return",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","isBusinessUser",179],";",["T_WHITESPACE","\n    ",179],"}",["T_WHITESPACE","\n\n    ",180],["T_DOC_COMMENT","\/**\n     * Returns the token used to access the business notestore\n     *\n     * @return string\n     *\/",182],["T_WHITESPACE","\n    ",186],["T_PUBLIC","public",187],["T_WHITESPACE"," ",187],["T_FUNCTION","function",187],["T_WHITESPACE"," ",187],["T_STRING","getBusinessToken",187],"(",")",["T_WHITESPACE","\n    ",187],"{",["T_WHITESPACE","\n        ",188],["T_IF","if",189],["T_WHITESPACE"," ",189],"(",["T_STRING","null",189],["T_WHITESPACE"," ",189],["T_IS_IDENTICAL","===",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","businessToken",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","businessToken",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getBusinessAuth",190],"(",")",["T_OBJECT_OPERATOR","->",190],["T_STRING","authenticationToken",190],";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n\n        ",191],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","businessToken",193],";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n\n    ",194],["T_DOC_COMMENT","\/**\n     * Returns the business notestore\n     *\n     * @return \\EDAM\\NoteStore\\NoteStoreClient|mixed\n     *\/",196],["T_WHITESPACE","\n    ",200],["T_PUBLIC","public",201],["T_WHITESPACE"," ",201],["T_FUNCTION","function",201],["T_WHITESPACE"," ",201],["T_STRING","getBusinessNoteStore",201],"(",")",["T_WHITESPACE","\n    ",201],"{",["T_WHITESPACE","\n        ",202],["T_IF","if",203],["T_WHITESPACE"," ",203],"(",["T_STRING","null",203],["T_WHITESPACE"," ",203],["T_IS_IDENTICAL","===",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","businessNoteStore",203],["T_WHITESPACE"," ",203],["T_BOOLEAN_AND","&&",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","isBusinessUser",203],"(",")",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","businessNoteStore",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getAdvancedClient",204],"(",")",["T_OBJECT_OPERATOR","->",204],["T_STRING","getBusinessNoteStore",204],"(",")",";",["T_WHITESPACE","\n        ",204],"}",["T_WHITESPACE","\n\n        ",205],["T_RETURN","return",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","businessNoteStore",207],";",["T_WHITESPACE","\n    ",207],"}",["T_WHITESPACE","\n\n    ",208],["T_DOC_COMMENT","\/**\n     * Returns the list of notebooks shared by the user with her business account\n     *\n     * @return null\n     *\/",210],["T_WHITESPACE","\n    ",214],["T_PUBLIC","public",215],["T_WHITESPACE"," ",215],["T_FUNCTION","function",215],["T_WHITESPACE"," ",215],["T_STRING","getBusinessSharedNotebooks",215],"(",")",["T_WHITESPACE","\n    ",215],"{",["T_WHITESPACE","\n        ",216],["T_RETURN","return",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getBusinessNoteStore",217],"(",")",["T_OBJECT_OPERATOR","->",217],["T_STRING","listSharedNotebooks",217],"(",["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getBusinessToken",217],"(",")",")",";",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n\n    ",218],["T_DOC_COMMENT","\/**\n     * Returns the list of notebooks shared to the user through the business account\n     *\n     * @return array\n     *\/",220],["T_WHITESPACE","\n    ",224],["T_PUBLIC","public",225],["T_WHITESPACE"," ",225],["T_FUNCTION","function",225],["T_WHITESPACE"," ",225],["T_STRING","getBusinessLinkedNotebooks",225],"(",")",["T_WHITESPACE","\n    ",225],"{",["T_WHITESPACE","\n        ",226],["T_RETURN","return",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getBusinessNoteStore",227],"(",")",["T_OBJECT_OPERATOR","->",227],["T_STRING","listNotebooks",227],"(",["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getBusinessToken",227],"(",")",")",";",["T_WHITESPACE","\n    ",227],"}",["T_WHITESPACE","\n\n    ",228],["T_DOC_COMMENT","\/**\n     * Returns the list of notebooks\n     *\n     * @return array\n     *\/",230],["T_WHITESPACE","\n    ",234],["T_PUBLIC","public",235],["T_WHITESPACE"," ",235],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","listNotebooks",235],"(",")",["T_WHITESPACE","\n    ",235],"{",["T_WHITESPACE","\n        ",236],["T_DOC_COMMENT","\/**\n         * 1. Get all of the user's personal notebooks.\n         *\/",237],["T_WHITESPACE","\n        ",239],["T_TRY","try",240],["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n            ",240],["T_VARIABLE","$personalNotebooks",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","listPersonalNotebooks",241],"(",")",";",["T_WHITESPACE","\n        ",241],"}",["T_WHITESPACE"," ",242],["T_CATCH","catch",242],["T_WHITESPACE"," ",242],"(",["T_STRING","EDAMUserException",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$e",242],")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n            ",242],["T_VARIABLE","$personalNotebooks",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_ARRAY","array",243],"(",")",";",["T_WHITESPACE","\n        ",243],"}",["T_WHITESPACE"," ",244],["T_CATCH","catch",244],["T_WHITESPACE"," ",244],"(",["T_STRING","EDAMSystemException",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$e",244],")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n            ",244],["T_VARIABLE","$personalNotebooks",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_ARRAY","array",245],"(",")",";",["T_WHITESPACE","\n        ",245],"}",["T_WHITESPACE","\n\n        ",246],["T_VARIABLE","$resultNotebooks",248],["T_WHITESPACE","  ",248],"=",["T_WHITESPACE"," ",248],["T_ARRAY","array",248],"(",")",";",["T_WHITESPACE","\n        ",248],["T_VARIABLE","$guidsToNotebooks",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_ARRAY","array",249],"(",")",";",["T_WHITESPACE","\n        ",249],["T_FOREACH","foreach",250],"(",["T_VARIABLE","$personalNotebooks",250],["T_WHITESPACE"," ",250],["T_AS","as",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$personalNotebook",250],")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n            ",250],["T_VARIABLE","$resultNotebook",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_NEW","new",251],["T_WHITESPACE"," ",251],["T_STRING","Notebook",251],"(",["T_VARIABLE","$personalNotebook",251],")",";",["T_WHITESPACE","\n            ",251],["T_VARIABLE","$resultNotebooks",252],"[","]",["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$resultNotebook",252],";",["T_WHITESPACE","\n            ",252],["T_VARIABLE","$guidsToNotebooks",253],"[",["T_VARIABLE","$personalNotebook",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","guid",253],"]",["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_VARIABLE","$resultNotebook",253],";",["T_WHITESPACE","\n        ",253],"}",["T_WHITESPACE","\n\n        ",254],["T_DOC_COMMENT","\/**\n         * Get shared notebooks and flag the matching notebook as shared\n         *\/",256],["T_WHITESPACE","\n        ",258],["T_TRY","try",259],["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n            ",259],["T_VARIABLE","$sharedNotebooks",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","listSharedNotebooks",260],"(",")",";",["T_WHITESPACE","\n        ",260],"}",["T_WHITESPACE"," ",261],["T_CATCH","catch",261],["T_WHITESPACE"," ",261],"(",["T_STRING","EDAMUserException",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$e",261],")",["T_WHITESPACE"," ",261],"{",["T_WHITESPACE","\n            ",261],["T_VARIABLE","$sharedNotebooks",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_ARRAY","array",262],"(",")",";",["T_WHITESPACE","\n        ",262],"}",["T_WHITESPACE"," ",263],["T_CATCH","catch",263],["T_WHITESPACE"," ",263],"(",["T_STRING","EDAMSystemException",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$e",263],")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n            ",263],["T_VARIABLE","$sharedNotebooks",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_ARRAY","array",264],"(",")",";",["T_WHITESPACE","\n        ",264],"}",["T_WHITESPACE","\n\n        ",265],["T_FOREACH","foreach",267],["T_WHITESPACE"," ",267],"(",["T_VARIABLE","$sharedNotebooks",267],["T_WHITESPACE"," ",267],["T_AS","as",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$sharedNotebook",267],")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n            ",267],["T_VARIABLE","$guidsToNotebooks",268],"[",["T_VARIABLE","$sharedNotebook",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","notebookGuid",268],"]",["T_OBJECT_OPERATOR","->",268],["T_STRING","isShared",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_STRING","true",268],";",["T_WHITESPACE","\n        ",268],"}",["T_WHITESPACE","\n\n        ",269],["T_DOC_COMMENT","\/**\n         * 2. Get all of the user's linked notebooks. These will include business and\/or shared notebooks.\n         *\/",271],["T_WHITESPACE","\n\n        ",273],["T_TRY","try",275],["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n            ",275],["T_VARIABLE","$linkedNotebooks",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","listLinkedNotebooks",276],"(",")",";",["T_WHITESPACE","\n        ",276],"}",["T_WHITESPACE"," ",277],["T_CATCH","catch",277],["T_WHITESPACE"," ",277],"(",["T_STRING","EDAMUserException",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$e",277],")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n            ",277],["T_VARIABLE","$linkedNotebooks",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_ARRAY","array",278],"(",")",";",["T_WHITESPACE","\n        ",278],"}",["T_WHITESPACE"," ",279],["T_CATCH","catch",279],["T_WHITESPACE"," ",279],"(",["T_STRING","EDAMSystemException",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$e",279],")",["T_WHITESPACE"," ",279],"{",["T_WHITESPACE","\n            ",279],["T_VARIABLE","$linkedNotebooks",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_ARRAY","array",280],"(",")",";",["T_WHITESPACE","\n        ",280],"}",["T_WHITESPACE","\n\n        ",281],["T_IF","if",283],["T_WHITESPACE"," ",283],"(",["T_STRING","count",283],"(",["T_VARIABLE","$linkedNotebooks",283],")",["T_WHITESPACE"," ",283],">",["T_WHITESPACE"," ",283],["T_LNUMBER","0",283],")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n            ",283],["T_DOC_COMMENT","\/**\n             * 3. Business user\n             *\/",284],["T_WHITESPACE","\n            ",286],["T_IF","if",287],["T_WHITESPACE"," ",287],"(",["T_STRING","null",287],["T_WHITESPACE"," ",287],["T_IS_NOT_IDENTICAL","!==",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getBusinessNoteStore",287],"(",")",")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n\n                ",287],["T_DOC_COMMENT","\/**\n                 * a. Get the business's shared notebooks. Some of these may match to personal linked notebooks.\n                 *\n                 *\/",289],["T_WHITESPACE","\n                ",292],["T_VARIABLE","$businessSharedNotebooks",293],["T_WHITESPACE","     ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","getBusinessSharedNotebooks",293],"(",")",";",["T_WHITESPACE","\n                ",293],["T_VARIABLE","$sharedBusinessNotebookGuids",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_ARRAY","array",294],"(",")",";",["T_WHITESPACE","\n                ",294],["T_VARIABLE","$sharedBusinessNotebooks",295],["T_WHITESPACE","     ",295],"=",["T_WHITESPACE"," ",295],["T_ARRAY","array",295],"(",")",";",["T_WHITESPACE","\n                ",295],["T_FOREACH","foreach",296],["T_WHITESPACE"," ",296],"(",["T_VARIABLE","$businessSharedNotebooks",296],["T_WHITESPACE"," ",296],["T_AS","as",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$businessSharedNotebook",296],")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n                    ",296],["T_VARIABLE","$sharedBusinessNotebooks",297],"[",["T_VARIABLE","$businessSharedNotebook",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","shareKey",297],"]",["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_VARIABLE","$businessSharedNotebook",297],";",["T_WHITESPACE","\n                    ",297],["T_VARIABLE","$sharedBusinessNotebookGuids",298],"[","]",["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_VARIABLE","$businessSharedNotebook",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","notebookGuid",298],";",["T_WHITESPACE","\n                ",298],"}",["T_WHITESPACE","\n\n                ",299],["T_VARIABLE","$guidsCount",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_STRING","array_count_values",301],"(",["T_VARIABLE","$sharedBusinessNotebookGuids",301],")",";",["T_WHITESPACE","\n\n                ",301],["T_VARIABLE","$businessNotebooksGuids",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_ARRAY","array",303],"(",")",";",["T_WHITESPACE","\n\n                ",303],["T_DOC_COMMENT","\/**\n                 * b. Get the business's linked notebooks. Some of these will match to shared notebooks in (a), providing a\n                 *    complete authorization story for the notebook.\n                 *\/",305],["T_WHITESPACE","\n                ",308],["T_VARIABLE","$businessNotebooks",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getBusinessLinkedNotebooks",309],"(",")",";",["T_WHITESPACE","\n\n                ",309],["T_FOREACH","foreach",311],["T_WHITESPACE"," ",311],"(",["T_VARIABLE","$businessNotebooks",311],["T_WHITESPACE"," ",311],["T_AS","as",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$businessNotebook",311],")",["T_WHITESPACE"," ",311],"{",["T_WHITESPACE","\n                    ",311],["T_VARIABLE","$businessNotebooksGuids",312],"[",["T_VARIABLE","$businessNotebook",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","guid",312],"]",["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_VARIABLE","$businessNotebook",312],";",["T_WHITESPACE","\n                ",312],"}",["T_WHITESPACE","\n\n                ",313],["T_FOREACH","foreach",315],["T_WHITESPACE"," ",315],"(",["T_VARIABLE","$linkedNotebooks",315],["T_WHITESPACE"," ",315],["T_AS","as",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$linkedNotebook",315],")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n                    ",315],["T_IF","if",316],["T_WHITESPACE"," ",316],"(",["T_STRING","array_key_exists",316],"(",["T_VARIABLE","$linkedNotebook",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","shareKey",316],",",["T_WHITESPACE"," ",316],["T_VARIABLE","$sharedBusinessNotebooks",316],")",")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n                        ",316],["T_VARIABLE","$sharedNotebook",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_VARIABLE","$sharedBusinessNotebooks",317],"[",["T_VARIABLE","$linkedNotebook",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","shareKey",317],"]",";",["T_WHITESPACE","\n                        ",317],["T_VARIABLE","$businessNotebook",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_VARIABLE","$businessNotebooksGuids",318],"[",["T_VARIABLE","$sharedNotebook",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","notebookGuid",318],"]",";",["T_WHITESPACE","\n\n                        ",318],["T_VARIABLE","$result",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_NEW","new",320],["T_WHITESPACE"," ",320],["T_STRING","Notebook",320],"(",["T_VARIABLE","$businessNotebook",320],",",["T_WHITESPACE"," ",320],["T_VARIABLE","$linkedNotebook",320],",",["T_WHITESPACE"," ",320],["T_VARIABLE","$sharedNotebook",320],",",["T_WHITESPACE"," ",320],["T_VARIABLE","$businessNotebook",320],")",";",["T_WHITESPACE","\n                        ",320],["T_IF","if",321],["T_WHITESPACE"," ",321],"(","(",["T_STRING","array_key_exists",321],"(",["T_VARIABLE","$sharedNotebook",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","notebookGuid",321],",",["T_WHITESPACE"," ",321],["T_VARIABLE","$guidsCount",321],")",["T_WHITESPACE"," ",321],["T_BOOLEAN_AND","&&",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$guidsCount",321],"[",["T_VARIABLE","$sharedNotebook",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","notebookGuid",321],"]",["T_WHITESPACE"," ",321],">",["T_WHITESPACE"," ",321],["T_LNUMBER","1",321],")",["T_WHITESPACE","\n                            ",321],["T_BOOLEAN_OR","||",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$businessNotebook",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","businessNotebook",322],["T_WHITESPACE"," ",322],["T_IS_NOT_IDENTICAL","!==",322],["T_WHITESPACE"," ",322],["T_STRING","null",322],")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n                            ",322],["T_VARIABLE","$result",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","isShared",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_STRING","true",323],";",["T_WHITESPACE","\n                        ",323],"}",["T_WHITESPACE","\n                        ",324],["T_VARIABLE","$resultNotebooks",325],"[","]",["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_VARIABLE","$result",325],";",["T_WHITESPACE","\n                    ",325],"}",["T_WHITESPACE"," ",326],["T_ELSE","else",326],["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n                        ",326],["T_IF","if",327],["T_WHITESPACE"," ",327],"(",["T_STRING","null",327],["T_WHITESPACE"," ",327],["T_IS_IDENTICAL","===",327],["T_WHITESPACE"," ",327],["T_VARIABLE","$linkedNotebook",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","shareKey",327],")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n                            ",327],["T_CONTINUE","continue",328],";",["T_WHITESPACE","\n                        ",328],"}",["T_WHITESPACE","\n                        ",329],["T_VARIABLE","$resultNotebooks",330],"[","]",["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","getNoteBookByLinkedNotebook",330],"(",["T_VARIABLE","$linkedNotebook",330],")",";",["T_WHITESPACE","\n                    ",330],"}",["T_WHITESPACE","\n                ",331],"}",["T_WHITESPACE","\n\n            ",332],"}",["T_WHITESPACE"," ",334],["T_ELSE","else",334],["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n                ",334],["T_FOREACH","foreach",335],["T_WHITESPACE"," ",335],"(",["T_VARIABLE","$linkedNotebooks",335],["T_WHITESPACE"," ",335],["T_AS","as",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$linkedNotebook",335],")",["T_WHITESPACE"," ",335],"{",["T_WHITESPACE","\n                    ",335],["T_TRY","try",336],["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n                        ",336],["T_VARIABLE","$resultNotebooks",337],"[","]",["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","getNoteBookByLinkedNotebook",337],"(",["T_VARIABLE","$linkedNotebook",337],")",";",["T_WHITESPACE","\n                    ",337],"}",["T_WHITESPACE"," ",338],["T_CATCH","catch",338],["T_WHITESPACE"," ",338],"(",["T_NS_SEPARATOR","\\",338],["T_STRING","Exception",338],["T_WHITESPACE"," ",338],["T_VARIABLE","$e",338],")",["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n                        ",338],["T_VARIABLE","$e",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_STRING","ExceptionFactory",339],["T_DOUBLE_COLON","::",339],["T_STRING","create",339],"(",["T_VARIABLE","$e",339],")",";",["T_WHITESPACE","\n\n                        ",339],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","logger",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","error",341],"(",["T_CONSTANT_ENCAPSED_STRING","'An error occured while fetching a linked notebook as a business user'",341],",",["T_WHITESPACE"," ",341],["T_ARRAY","array",341],"(",["T_CONSTANT_ENCAPSED_STRING","'exception'",341],["T_WHITESPACE"," ",341],["T_DOUBLE_ARROW","=>",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$e",341],",",["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","'token'",341],["T_WHITESPACE"," ",341],["T_DOUBLE_ARROW","=>",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","getToken",341],"(",")",")",")",";",["T_WHITESPACE","\n                    ",341],"}",["T_WHITESPACE","\n                ",342],"}",";",["T_WHITESPACE","\n            ",343],"}",["T_WHITESPACE","\n        ",344],"}",["T_WHITESPACE","\n\n        ",345],["T_RETURN","return",347],["T_WHITESPACE"," ",347],["T_VARIABLE","$resultNotebooks",347],";",["T_WHITESPACE","\n    ",347],"}",["T_WHITESPACE","\n\n    ",348],["T_DOC_COMMENT","\/**\n     * Returns the list of personal notebooks\n     *\n     * @return array\n     *\/",350],["T_WHITESPACE","\n    ",354],["T_PUBLIC","public",355],["T_WHITESPACE"," ",355],["T_FUNCTION","function",355],["T_WHITESPACE"," ",355],["T_STRING","listPersonalNotebooks",355],"(",")",["T_WHITESPACE","\n    ",355],"{",["T_WHITESPACE","\n        ",356],["T_VARIABLE","$notebooks",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","getUserNotestore",357],"(",")",["T_OBJECT_OPERATOR","->",357],["T_STRING","listNotebooks",357],"(",["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","token",357],")",";",["T_WHITESPACE","\n\n        ",357],["T_RETURN","return",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$notebooks",359],";",["T_WHITESPACE","\n    ",359],"}",["T_WHITESPACE","\n\n    ",360],["T_DOC_COMMENT","\/**\n     * Returns the list of notebooks shared by the user\n     *\n     * @return array\n     *\/",362],["T_WHITESPACE","\n    ",366],["T_PUBLIC","public",367],["T_WHITESPACE"," ",367],["T_FUNCTION","function",367],["T_WHITESPACE"," ",367],["T_STRING","listSharedNotebooks",367],"(",")",["T_WHITESPACE","\n    ",367],"{",["T_WHITESPACE","\n        ",368],["T_RETURN","return",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","getUserNotestore",369],"(",")",["T_OBJECT_OPERATOR","->",369],["T_STRING","listSharedNotebooks",369],"(",["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","token",369],")",";",["T_WHITESPACE","\n    ",369],"}",["T_WHITESPACE","\n\n    ",370],["T_DOC_COMMENT","\/**\n     * Returns the list of notebooks shared to the user\n     *\n     * @return array\n     *\/",372],["T_WHITESPACE","\n    ",376],["T_PUBLIC","public",377],["T_WHITESPACE"," ",377],["T_FUNCTION","function",377],["T_WHITESPACE"," ",377],["T_STRING","listLinkedNotebooks",377],"(",")",["T_WHITESPACE","\n    ",377],"{",["T_WHITESPACE","\n        ",378],["T_RETURN","return",379],["T_WHITESPACE"," ",379],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","getUserNotestore",379],"(",")",["T_OBJECT_OPERATOR","->",379],["T_STRING","listLinkedNotebooks",379],"(",["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","token",379],")",";",["T_WHITESPACE","\n    ",379],"}",["T_WHITESPACE","\n\n    ",380],["T_DOC_COMMENT","\/**\n     *\n     * Returns the personal notestore of the user\n     *\n     * @return \\EDAM\\NoteStore\\NoteStoreClient|mixed\n     *\/",382],["T_WHITESPACE","\n    ",387],["T_PUBLIC","public",388],["T_WHITESPACE"," ",388],["T_FUNCTION","function",388],["T_WHITESPACE"," ",388],["T_STRING","getUserNotestore",388],"(",")",["T_WHITESPACE","\n    ",388],"{",["T_WHITESPACE","\n        ",389],["T_IF","if",390],["T_WHITESPACE"," ",390],"(",["T_STRING","null",390],["T_WHITESPACE"," ",390],["T_IS_IDENTICAL","===",390],["T_WHITESPACE"," ",390],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","userNoteStore",390],")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n            ",390],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","userNoteStore",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","getAdvancedClient",391],"(",")",["T_OBJECT_OPERATOR","->",391],["T_STRING","getNoteStore",391],"(",")",";",["T_WHITESPACE","\n        ",391],"}",["T_WHITESPACE","\n\n        ",392],["T_RETURN","return",394],["T_WHITESPACE"," ",394],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","userNoteStore",394],";",["T_WHITESPACE","\n    ",394],"}",["T_WHITESPACE","\n\n    ",395],["T_DOC_COMMENT","\/**\n     * Replaces an existing note by another one (new or existing)\n     *\n     * @param Note $noteToReplace\n     * @param Note $note\n     * @return Note\n     *\/",397],["T_WHITESPACE","\n    ",403],["T_PUBLIC","public",404],["T_WHITESPACE"," ",404],["T_FUNCTION","function",404],["T_WHITESPACE"," ",404],["T_STRING","replaceNote",404],"(",["T_STRING","Note",404],["T_WHITESPACE"," ",404],["T_VARIABLE","$noteToReplace",404],",",["T_WHITESPACE"," ",404],["T_STRING","Note",404],["T_WHITESPACE"," ",404],["T_VARIABLE","$note",404],")",["T_WHITESPACE","\n    ",404],"{",["T_WHITESPACE","\n        ",405],["T_VARIABLE","$edamNote",406],["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_VARIABLE","$noteToReplace",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","getEdamNote",406],"(",")",";",["T_WHITESPACE","\n\n        ",406],["T_VARIABLE","$edamNote",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","title",408],["T_WHITESPACE","      ",408],"=",["T_WHITESPACE"," ",408],["T_VARIABLE","$note",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","title",408],";",["T_WHITESPACE","\n        ",408],["T_VARIABLE","$edamNote",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","content",409],["T_WHITESPACE","    ",409],"=",["T_WHITESPACE"," ",409],["T_VARIABLE","$note",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","content",409],";",["T_WHITESPACE","\n        ",409],["T_VARIABLE","$edamNote",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","attributes",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_VARIABLE","$note",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","attributes",410],";",["T_WHITESPACE","\n        ",410],["T_VARIABLE","$edamNote",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","resources",411],["T_WHITESPACE","  ",411],"=",["T_WHITESPACE"," ",411],["T_VARIABLE","$note",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","resources",411],";",["T_WHITESPACE","\n\n        ",411],["T_VARIABLE","$uploaded_note",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_VARIABLE","$noteToReplace",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","noteStore",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","updateNote",413],"(",["T_VARIABLE","$noteToReplace",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","authToken",413],",",["T_WHITESPACE"," ",413],["T_VARIABLE","$edamNote",413],")",";",["T_WHITESPACE","\n\n        ",413],["T_VARIABLE","$uploaded_note",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","content",415],["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_VARIABLE","$note",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","content",415],";",["T_WHITESPACE","\n\n        ",415],["T_VARIABLE","$en_note",417],["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_NEW","new",417],["T_WHITESPACE"," ",417],["T_STRING","Note",417],"(",["T_VARIABLE","$uploaded_note",417],")",";",["T_WHITESPACE","\n\n        ",417],["T_VARIABLE","$en_note",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","setSaved",419],"(",["T_STRING","true",419],")",";",["T_WHITESPACE","\n\n        ",419],["T_RETURN","return",421],["T_WHITESPACE"," ",421],["T_VARIABLE","$en_note",421],";",["T_WHITESPACE","\n    ",421],"}",["T_WHITESPACE","\n\n    ",422],["T_DOC_COMMENT","\/**\n     * Sends a new Note to the API\n     *\n     * @param Note $note\n     * @param Notebook $notebook\n     * @return Note\n     * @throws \\EDAM\\Error\\EDAMNotFoundException\n     * @throws \\Exception\n     *\/",424],["T_WHITESPACE","\n    ",432],["T_PUBLIC","public",433],["T_WHITESPACE"," ",433],["T_FUNCTION","function",433],["T_WHITESPACE"," ",433],["T_STRING","uploadNote",433],"(",["T_STRING","Note",433],["T_WHITESPACE"," ",433],["T_VARIABLE","$note",433],",",["T_WHITESPACE"," ",433],["T_STRING","Notebook",433],["T_WHITESPACE"," ",433],["T_VARIABLE","$notebook",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_STRING","null",433],")",["T_WHITESPACE","\n    ",433],"{",["T_WHITESPACE","\n        ",434],["T_IF","if",435],["T_WHITESPACE"," ",435],"(",["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","isAppNotebookToken",435],"(",["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","token",435],")",")",["T_WHITESPACE"," ",435],"{",["T_WHITESPACE","\n            ",435],["T_VARIABLE","$notebook",436],["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],["T_NEW","new",436],["T_WHITESPACE"," ",436],["T_STRING","Notebook",436],"(",")",";",["T_WHITESPACE","\n        ",436],"}",["T_WHITESPACE","\n\n        ",437],["T_IF","if",439],["T_WHITESPACE"," ",439],"(",["T_STRING","null",439],["T_WHITESPACE"," ",439],["T_IS_NOT_EQUAL","!=",439],["T_WHITESPACE"," ",439],["T_VARIABLE","$notebook",439],["T_WHITESPACE","\n            ",439],["T_BOOLEAN_AND","&&",440],["T_WHITESPACE"," ",440],["T_STRING","true",440],["T_WHITESPACE"," ",440],["T_IS_IDENTICAL","===",440],["T_WHITESPACE"," ",440],["T_VARIABLE","$note",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","getSaved",440],"(",")",["T_WHITESPACE","\n            ",440],["T_BOOLEAN_AND","&&",441],["T_WHITESPACE"," ",441],["T_VARIABLE","$note",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","notebookGuid",441],["T_WHITESPACE"," ",441],["T_IS_IDENTICAL","===",441],["T_WHITESPACE"," ",441],["T_VARIABLE","$notebook",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","guid",441],")",["T_WHITESPACE"," ",441],"{",["T_WHITESPACE","\n            ",441],["T_RETURN","return",442],["T_WHITESPACE"," ",442],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","replaceNote",442],"(",["T_VARIABLE","$note",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$note",442],")",";",["T_WHITESPACE","\n        ",442],"}",["T_WHITESPACE","\n\n        ",443],["T_IF","if",445],["T_WHITESPACE"," ",445],"(",["T_VARIABLE","$note",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","getEdamNote",445],"(",")",")",["T_WHITESPACE"," ",445],"{",["T_WHITESPACE","\n            ",445],["T_VARIABLE","$edamNote",446],["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_VARIABLE","$note",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","getEdamNote",446],"(",")",";",["T_WHITESPACE","\n        ",446],"}",["T_WHITESPACE"," ",447],["T_ELSE","else",447],["T_WHITESPACE"," ",447],"{",["T_WHITESPACE","\n            ",447],["T_VARIABLE","$edamNote",448],["T_WHITESPACE"," ",448],"=",["T_WHITESPACE"," ",448],["T_NEW","new",448],["T_WHITESPACE"," ",448],["T_NS_SEPARATOR","\\",448],["T_STRING","EDAM",448],["T_NS_SEPARATOR","\\",448],["T_STRING","Types",448],["T_NS_SEPARATOR","\\",448],["T_STRING","Note",448],"(",")",";",["T_WHITESPACE","\n        ",448],"}",["T_WHITESPACE","\n\n\n        ",449],["T_VARIABLE","$edamNote",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","title",452],["T_WHITESPACE","      ",452],"=",["T_WHITESPACE"," ",452],["T_VARIABLE","$note",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","title",452],";",["T_WHITESPACE","\n        ",452],["T_VARIABLE","$edamNote",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","content",453],["T_WHITESPACE","    ",453],"=",["T_WHITESPACE"," ",453],["T_VARIABLE","$note",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","content",453],";",["T_WHITESPACE","\n        ",453],["T_VARIABLE","$edamNote",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","attributes",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_VARIABLE","$note",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","attributes",454],";",["T_WHITESPACE","\n        ",454],["T_VARIABLE","$edamNote",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","created",455],["T_WHITESPACE","    ",455],"=",["T_WHITESPACE"," ",455],["T_VARIABLE","$note",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","created",455],";",["T_WHITESPACE","\n        ",455],["T_VARIABLE","$edamNote",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","resources",456],["T_WHITESPACE","  ",456],"=",["T_WHITESPACE"," ",456],["T_VARIABLE","$note",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","resources",456],";",["T_WHITESPACE","\n        ",456],["T_VARIABLE","$edamNote",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","tagNames",457],["T_WHITESPACE","   ",457],"=",["T_WHITESPACE"," ",457],["T_VARIABLE","$note",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","tagNames",457],";",["T_WHITESPACE","\n\n\n        ",457],["T_IF","if",460],["T_WHITESPACE"," ",460],"(",["T_STRING","null",460],["T_WHITESPACE"," ",460],["T_IS_NOT_IDENTICAL","!==",460],["T_WHITESPACE"," ",460],["T_VARIABLE","$notebook",460],["T_WHITESPACE"," ",460],["T_BOOLEAN_AND","&&",460],["T_WHITESPACE"," ",460],["T_STRING","null",460],["T_WHITESPACE"," ",460],["T_IS_NOT_IDENTICAL","!==",460],["T_WHITESPACE"," ",460],["T_VARIABLE","$notebook",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","guid",460],")",["T_WHITESPACE"," ",460],"{",["T_WHITESPACE","\n            ",460],["T_VARIABLE","$edamNote",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","notebookGuid",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_VARIABLE","$notebook",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","guid",461],";",["T_WHITESPACE","\n        ",461],"}",["T_WHITESPACE","\n\n        ",462],["T_TRY","try",464],["T_WHITESPACE"," ",464],"{",["T_WHITESPACE","\n            ",464],["T_VARIABLE","$uploaded_note",465],["T_WHITESPACE"," ",465],"=",["T_WHITESPACE"," ",465],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","getUserNotestore",465],"(",")",["T_OBJECT_OPERATOR","->",465],["T_STRING","createNote",465],"(",["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","token",465],",",["T_WHITESPACE"," ",465],["T_VARIABLE","$edamNote",465],")",";",["T_WHITESPACE","\n            ",465],["T_VARIABLE","$noteStore",466],["T_WHITESPACE","     ",466],"=",["T_WHITESPACE"," ",466],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","getUserNotestore",466],"(",")",";",["T_WHITESPACE","\n            ",466],["T_VARIABLE","$token",467],["T_WHITESPACE","         ",467],"=",["T_WHITESPACE"," ",467],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","token",467],";",["T_WHITESPACE","\n        ",467],"}",["T_WHITESPACE"," ",468],["T_CATCH","catch",468],["T_WHITESPACE"," ",468],"(",["T_STRING","EDAMNotFoundException",468],["T_WHITESPACE"," ",468],["T_VARIABLE","$e",468],")",["T_WHITESPACE"," ",468],"{",["T_WHITESPACE","\n            ",468],["T_VARIABLE","$notebook",469],["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","getNotebook",469],"(",["T_VARIABLE","$notebook",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","guid",469],",",["T_WHITESPACE"," ",469],["T_STRING","self",469],["T_DOUBLE_COLON","::",469],["T_STRING","LINKED_SCOPE",469],")",";",["T_WHITESPACE","\n            ",469],["T_IF","if",470],["T_WHITESPACE"," ",470],"(",["T_STRING","null",470],["T_WHITESPACE"," ",470],["T_IS_IDENTICAL","===",470],["T_WHITESPACE"," ",470],["T_VARIABLE","$notebook",470],")",["T_WHITESPACE"," ",470],"{",["T_WHITESPACE","\n                ",470],["T_THROW","throw",471],["T_WHITESPACE"," ",471],["T_VARIABLE","$e",471],";",["T_WHITESPACE","\n            ",471],"}",["T_WHITESPACE","\n\n            ",472],["T_IF","if",474],["T_WHITESPACE"," ",474],"(",["T_VARIABLE","$notebook",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","isLinkedNotebook",474],"(",")",")",["T_WHITESPACE"," ",474],"{",["T_WHITESPACE","\n                ",474],["T_VARIABLE","$noteStore",475],["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","getNotestore",475],"(",["T_VARIABLE","$notebook",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","linkedNotebook",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","noteStoreUrl",475],")",";",["T_WHITESPACE","\n                ",475],["T_VARIABLE","$token",476],["T_WHITESPACE","     ",476],"=",["T_WHITESPACE"," ",476],["T_VARIABLE","$notebook",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","authToken",476],";",["T_WHITESPACE","\n\n                ",476],["T_VARIABLE","$edamNote",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","notebookGuid",478],["T_WHITESPACE"," ",478],"=",["T_WHITESPACE"," ",478],["T_VARIABLE","$notebook",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","guid",478],";",["T_WHITESPACE","\n\n                ",478],["T_VARIABLE","$uploaded_note",480],["T_WHITESPACE"," ",480],"=",["T_WHITESPACE"," ",480],["T_VARIABLE","$noteStore",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","createNote",480],"(",["T_VARIABLE","$token",480],",",["T_WHITESPACE"," ",480],["T_VARIABLE","$edamNote",480],")",";",["T_WHITESPACE","\n            ",480],"}",["T_WHITESPACE","\n        ",481],"}",["T_WHITESPACE","\n\n        ",482],["T_VARIABLE","$uploaded_note",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","content",484],["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_VARIABLE","$note",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","content",484],";",["T_WHITESPACE","\n\n        ",484],["T_VARIABLE","$note",486],["T_WHITESPACE"," ",486],"=",["T_WHITESPACE"," ",486],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","getNoteInstance",486],"(",["T_VARIABLE","$uploaded_note",486],",",["T_WHITESPACE"," ",486],["T_VARIABLE","$noteStore",486],",",["T_WHITESPACE"," ",486],["T_VARIABLE","$token",486],")",";",["T_WHITESPACE","\n\n        ",486],["T_VARIABLE","$note",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","setSaved",488],"(",["T_STRING","true",488],")",";",["T_WHITESPACE","\n\n        ",488],["T_RETURN","return",490],["T_WHITESPACE"," ",490],["T_VARIABLE","$note",490],";",["T_WHITESPACE","\n    ",490],"}",["T_WHITESPACE","\n\n    ",491],["T_DOC_COMMENT","\/**\n     * Deletes a note\n     *\n     * @param Note $note\n     * @return bool\n     *\/",493],["T_WHITESPACE","\n    ",498],["T_PUBLIC","public",499],["T_WHITESPACE"," ",499],["T_FUNCTION","function",499],["T_WHITESPACE"," ",499],["T_STRING","deleteNote",499],"(",["T_STRING","Note",499],["T_WHITESPACE"," ",499],["T_VARIABLE","$note",499],")",["T_WHITESPACE","\n    ",499],"{",["T_WHITESPACE","\n        ",500],["T_IF","if",501],["T_WHITESPACE"," ",501],"(",["T_STRING","null",501],["T_WHITESPACE"," ",501],["T_IS_IDENTICAL","===",501],["T_WHITESPACE"," ",501],["T_VARIABLE","$note",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","guid",501],")",["T_WHITESPACE"," ",501],"{",["T_WHITESPACE","\n\n            ",501],["T_RETURN","return",503],["T_WHITESPACE"," ",503],["T_STRING","false",503],";",["T_WHITESPACE","\n        ",503],"}",["T_WHITESPACE","\n\n        ",504],["T_COMMENT","\/\/ we have the credentials\n",506],["T_WHITESPACE","        ",507],["T_IF","if",507],["T_WHITESPACE"," ",507],"(",["T_STRING","null",507],["T_WHITESPACE"," ",507],["T_IS_NOT_IDENTICAL","!==",507],["T_WHITESPACE"," ",507],["T_VARIABLE","$note",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","noteStore",507],["T_WHITESPACE"," ",507],["T_BOOLEAN_AND","&&",507],["T_WHITESPACE"," ",507],["T_STRING","null",507],["T_WHITESPACE"," ",507],["T_IS_NOT_IDENTICAL","!==",507],["T_WHITESPACE"," ",507],["T_VARIABLE","$note",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","authToken",507],")",["T_WHITESPACE"," ",507],"{",["T_WHITESPACE","\n            ",507],["T_VARIABLE","$note",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","noteStore",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","deleteNote",508],"(",["T_VARIABLE","$note",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","authToken",508],",",["T_WHITESPACE"," ",508],["T_VARIABLE","$note",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","guid",508],")",";",["T_WHITESPACE","\n\n            ",508],["T_RETURN","return",510],["T_WHITESPACE"," ",510],["T_STRING","true",510],";",["T_WHITESPACE","\n        ",510],"}",["T_WHITESPACE","\n\n        ",511],["T_TRY","try",513],["T_WHITESPACE"," ",513],"{",["T_WHITESPACE","\n            ",513],["T_COMMENT","\/\/ We try to delete it with the personal credentials\n",514],["T_WHITESPACE","            ",515],["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","getUserNotestore",515],"(",")",["T_OBJECT_OPERATOR","->",515],["T_STRING","deleteNote",515],"(",["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","token",515],",",["T_WHITESPACE"," ",515],["T_VARIABLE","$note",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","guid",515],")",";",["T_WHITESPACE","\n\n            ",515],["T_RETURN","return",517],["T_WHITESPACE"," ",517],["T_STRING","true",517],";",["T_WHITESPACE","\n        ",517],"}",["T_WHITESPACE"," ",518],["T_CATCH","catch",518],["T_WHITESPACE"," ",518],"(",["T_STRING","EDAMNotFoundException",518],["T_WHITESPACE"," ",518],["T_VARIABLE","$e",518],")",["T_WHITESPACE"," ",518],"{",["T_WHITESPACE","\n            ",518],["T_COMMENT","\/\/ The note's not in a personal notebook. We'll need to find it\n",519],["T_WHITESPACE","            ",520],["T_VARIABLE","$note",520],["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","getNote",520],"(",["T_VARIABLE","$note",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","guid",520],",",["T_WHITESPACE"," ",520],["T_STRING","self",520],["T_DOUBLE_COLON","::",520],["T_STRING","LINKED_SCOPE",520],")",";",["T_WHITESPACE","\n\n            ",520],["T_IF","if",522],["T_WHITESPACE"," ",522],"(",["T_STRING","null",522],["T_WHITESPACE"," ",522],["T_IS_NOT_IDENTICAL","!==",522],["T_WHITESPACE"," ",522],["T_VARIABLE","$note",522],")",["T_WHITESPACE"," ",522],"{",["T_WHITESPACE","\n                ",522],["T_RETURN","return",523],["T_WHITESPACE"," ",523],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","deleteNote",523],"(",["T_VARIABLE","$note",523],")",";",["T_WHITESPACE","\n            ",523],"}",["T_WHITESPACE","\n\n            ",524],["T_RETURN","return",526],["T_WHITESPACE"," ",526],["T_STRING","false",526],";",["T_WHITESPACE","\n         ",526],"}",["T_WHITESPACE"," ",527],["T_CATCH","catch",527],["T_WHITESPACE"," ",527],"(",["T_STRING","EDAMUserException",527],["T_WHITESPACE"," ",527],["T_VARIABLE","$e",527],")",["T_WHITESPACE"," ",527],"{",["T_WHITESPACE","\n            ",527],["T_COMMENT","\/\/ You don't have permission to delete this note.\n",528],["T_WHITESPACE","            ",529],["T_RETURN","return",529],["T_WHITESPACE"," ",529],["T_STRING","false",529],";",["T_WHITESPACE","\n        ",529],"}",["T_WHITESPACE","\n\n    ",530],"}",["T_WHITESPACE","\n\n    ",532],["T_DOC_COMMENT","\/**\n     * Shares a note and returns the share url\n     *\n     * @param Note $note\n     * @return null|string\n     *\/",534],["T_WHITESPACE","\n    ",539],["T_PUBLIC","public",540],["T_WHITESPACE"," ",540],["T_FUNCTION","function",540],["T_WHITESPACE"," ",540],["T_STRING","shareNote",540],"(",["T_STRING","Note",540],["T_WHITESPACE"," ",540],["T_VARIABLE","$note",540],")",["T_WHITESPACE","\n    ",540],"{",["T_WHITESPACE","\n        ",541],["T_IF","if",542],["T_WHITESPACE"," ",542],"(",["T_STRING","null",542],["T_WHITESPACE"," ",542],["T_IS_IDENTICAL","===",542],["T_WHITESPACE"," ",542],["T_VARIABLE","$note",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","guid",542],")",["T_WHITESPACE"," ",542],"{",["T_WHITESPACE","\n\n            ",542],["T_RETURN","return",544],["T_WHITESPACE"," ",544],["T_STRING","null",544],";",["T_WHITESPACE","\n        ",544],"}",["T_WHITESPACE","\n\n        ",545],["T_COMMENT","\/\/ we have the credentials\n",547],["T_WHITESPACE","        ",548],["T_IF","if",548],["T_WHITESPACE"," ",548],"(",["T_STRING","null",548],["T_WHITESPACE"," ",548],["T_IS_NOT_IDENTICAL","!==",548],["T_WHITESPACE"," ",548],["T_VARIABLE","$note",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","noteStore",548],["T_WHITESPACE"," ",548],["T_BOOLEAN_AND","&&",548],["T_WHITESPACE"," ",548],["T_STRING","null",548],["T_WHITESPACE"," ",548],["T_IS_NOT_IDENTICAL","!==",548],["T_WHITESPACE"," ",548],["T_VARIABLE","$note",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","authToken",548],")",["T_WHITESPACE"," ",548],"{",["T_WHITESPACE","\n            ",548],["T_VARIABLE","$shareKey",549],["T_WHITESPACE"," ",549],"=",["T_WHITESPACE"," ",549],["T_VARIABLE","$note",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","noteStore",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","shareNote",549],"(",["T_VARIABLE","$note",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","authToken",549],",",["T_WHITESPACE"," ",549],["T_VARIABLE","$note",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","guid",549],")",";",["T_WHITESPACE","\n            ",549],["T_VARIABLE","$shardId",550],["T_WHITESPACE","  ",550],"=",["T_WHITESPACE"," ",550],["T_VARIABLE","$this",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","getShardIdFromToken",550],"(",["T_VARIABLE","$note",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","authToken",550],")",";",["T_WHITESPACE","\n\n            ",550],["T_RETURN","return",552],["T_WHITESPACE"," ",552],["T_VARIABLE","$this",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","getShareUrl",552],"(",["T_VARIABLE","$note",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","guid",552],",",["T_WHITESPACE"," ",552],["T_VARIABLE","$shardId",552],",",["T_WHITESPACE"," ",552],["T_VARIABLE","$shareKey",552],",",["T_WHITESPACE"," ",552],["T_VARIABLE","$this",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","getAdvancedClient",552],"(",")",["T_OBJECT_OPERATOR","->",552],["T_STRING","getEndpoint",552],"(",")",")",";",["T_WHITESPACE","\n        ",552],"}",["T_WHITESPACE","\n\n        ",553],["T_TRY","try",555],["T_WHITESPACE"," ",555],"{",["T_WHITESPACE","\n            ",555],["T_COMMENT","\/\/ We don't have credentials so we assume it's a personal note\n",556],["T_WHITESPACE","            ",557],["T_RETURN","return",557],["T_WHITESPACE"," ",557],["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","getUserNotestore",557],"(",")",["T_OBJECT_OPERATOR","->",557],["T_STRING","shareNote",557],"(",["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","token",557],",",["T_WHITESPACE"," ",557],["T_VARIABLE","$note",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","guid",557],")",";",["T_WHITESPACE","\n\n        ",557],"}",["T_WHITESPACE"," ",559],["T_CATCH","catch",559],["T_WHITESPACE"," ",559],"(",["T_STRING","EDAMNotFoundException",559],["T_WHITESPACE"," ",559],["T_VARIABLE","$e",559],")",["T_WHITESPACE"," ",559],"{",["T_WHITESPACE","\n            ",559],["T_COMMENT","\/\/ The note's not in a personal notebook. We'll need to find it\n",560],["T_WHITESPACE","            ",561],["T_VARIABLE","$note",561],["T_WHITESPACE"," ",561],"=",["T_WHITESPACE"," ",561],["T_VARIABLE","$this",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","getNote",561],"(",["T_VARIABLE","$note",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","guid",561],",",["T_WHITESPACE"," ",561],["T_STRING","self",561],["T_DOUBLE_COLON","::",561],["T_STRING","LINKED_SCOPE",561],")",";",["T_WHITESPACE","\n\n            ",561],["T_IF","if",563],["T_WHITESPACE"," ",563],"(",["T_STRING","null",563],["T_WHITESPACE"," ",563],["T_IS_NOT_IDENTICAL","!==",563],["T_WHITESPACE"," ",563],["T_VARIABLE","$note",563],")",["T_WHITESPACE"," ",563],"{",["T_WHITESPACE","\n                ",563],["T_VARIABLE","$shareKey",564],["T_WHITESPACE"," ",564],"=",["T_WHITESPACE"," ",564],["T_VARIABLE","$note",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","noteStore",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","shareNote",564],"(",["T_VARIABLE","$note",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","authToken",564],",",["T_WHITESPACE"," ",564],["T_VARIABLE","$note",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","guid",564],")",";",["T_WHITESPACE","\n                ",564],["T_VARIABLE","$shardId",565],["T_WHITESPACE","  ",565],"=",["T_WHITESPACE"," ",565],["T_VARIABLE","$this",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","getShardIdFromToken",565],"(",["T_VARIABLE","$note",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","authToken",565],")",";",["T_WHITESPACE","\n\n                ",565],["T_RETURN","return",567],["T_WHITESPACE"," ",567],["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","getShareUrl",567],"(",["T_VARIABLE","$note",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","guid",567],",",["T_WHITESPACE"," ",567],["T_VARIABLE","$shardId",567],",",["T_WHITESPACE"," ",567],["T_VARIABLE","$shareKey",567],",",["T_WHITESPACE"," ",567],["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","getAdvancedClient",567],"(",")",["T_OBJECT_OPERATOR","->",567],["T_STRING","getEndpoint",567],"(",")",")",";",["T_WHITESPACE","\n            ",567],"}",["T_WHITESPACE","\n\n            ",568],["T_RETURN","return",570],["T_WHITESPACE"," ",570],["T_STRING","null",570],";",["T_WHITESPACE","\n        ",570],"}",["T_WHITESPACE","\n    ",571],"}",["T_WHITESPACE","\n\n    ",572],["T_DOC_COMMENT","\/**\n     * Moves a note to another notebook\n     *\n     * @param Note $note\n     * @param Notebook $notebook\n     * @return Note\n     * @throws Exception\\PermissionDeniedException\n     * @throws \\EDAM\\Error\\EDAMUserException\n     * @throws \\Exception\n     *\/",574],["T_WHITESPACE","\n    ",583],["T_PUBLIC","public",584],["T_WHITESPACE"," ",584],["T_FUNCTION","function",584],["T_WHITESPACE"," ",584],["T_STRING","moveNote",584],"(",["T_STRING","Note",584],["T_WHITESPACE"," ",584],["T_VARIABLE","$note",584],",",["T_WHITESPACE"," ",584],["T_STRING","Notebook",584],["T_WHITESPACE"," ",584],["T_VARIABLE","$notebook",584],")",["T_WHITESPACE","\n    ",584],"{",["T_WHITESPACE","\n        ",585],["T_IF","if",586],["T_WHITESPACE"," ",586],"(",["T_VARIABLE","$this",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","isAppNotebookToken",586],"(",["T_VARIABLE","$this",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","token",586],")",")",["T_WHITESPACE"," ",586],"{",["T_WHITESPACE","\n            ",586],["T_THROW","throw",587],["T_WHITESPACE"," ",587],["T_NEW","new",587],["T_WHITESPACE"," ",587],["T_STRING","PermissionDeniedException",587],"(",["T_CONSTANT_ENCAPSED_STRING","\"You can't move a note as you're using an app notebook token\"",587],")",";",["T_WHITESPACE","\n        ",587],"}",["T_WHITESPACE","\n\n        ",588],["T_VARIABLE","$edamNote",590],["T_WHITESPACE","               ",590],"=",["T_WHITESPACE"," ",590],["T_VARIABLE","$note",590],["T_OBJECT_OPERATOR","->",590],["T_STRING","getEdamNote",590],"(",")",";",["T_WHITESPACE","\n        ",590],["T_VARIABLE","$noteStore",591],["T_WHITESPACE","              ",591],"=",["T_WHITESPACE"," ",591],["T_VARIABLE","$note",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","getNoteStore",591],"(",")",";",["T_WHITESPACE","\n        ",591],["T_VARIABLE","$token",592],["T_WHITESPACE","                  ",592],"=",["T_WHITESPACE"," ",592],["T_VARIABLE","$note",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","getAuthToken",592],"(",")",";",["T_WHITESPACE","\n        ",592],["T_VARIABLE","$edamNote",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","notebookGuid",593],["T_WHITESPACE"," ",593],"=",["T_WHITESPACE"," ",593],["T_VARIABLE","$notebook",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","guid",593],";",["T_WHITESPACE","\n\n        ",593],["T_TRY","try",595],["T_WHITESPACE"," ",595],"{",["T_WHITESPACE","\n            ",595],["T_VARIABLE","$moved_note",596],["T_WHITESPACE","    ",596],"=",["T_WHITESPACE"," ",596],["T_VARIABLE","$noteStore",596],["T_OBJECT_OPERATOR","->",596],["T_STRING","updateNote",596],"(",["T_VARIABLE","$token",596],",",["T_WHITESPACE"," ",596],["T_VARIABLE","$edamNote",596],")",";",["T_WHITESPACE","\n\n            ",596],["T_VARIABLE","$note",598],["T_WHITESPACE"," ",598],"=",["T_WHITESPACE"," ",598],["T_VARIABLE","$this",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","getNoteInstance",598],"(",["T_VARIABLE","$moved_note",598],",",["T_WHITESPACE"," ",598],["T_VARIABLE","$noteStore",598],",",["T_WHITESPACE"," ",598],["T_VARIABLE","$token",598],")",";",["T_WHITESPACE","\n        ",598],"}",["T_WHITESPACE"," ",599],["T_CATCH","catch",599],["T_WHITESPACE"," ",599],"(",["T_STRING","EDAMNotFoundException",599],["T_WHITESPACE"," ",599],["T_VARIABLE","$e",599],")",["T_WHITESPACE"," ",599],"{",["T_WHITESPACE","\n            ",599],["T_VARIABLE","$moved_note",600],["T_WHITESPACE"," ",600],"=",["T_WHITESPACE"," ",600],["T_VARIABLE","$this",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","uploadNote",600],"(",["T_VARIABLE","$note",600],",",["T_WHITESPACE"," ",600],["T_VARIABLE","$notebook",600],")",";",["T_WHITESPACE","\n            ",600],["T_IF","if",601],["T_WHITESPACE"," ",601],"(",["T_VARIABLE","$moved_note",601],["T_WHITESPACE"," ",601],["T_BOOLEAN_AND","&&",601],["T_WHITESPACE"," ",601],["T_VARIABLE","$moved_note",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","notebookGuid",601],["T_WHITESPACE"," ",601],["T_IS_IDENTICAL","===",601],["T_WHITESPACE"," ",601],["T_VARIABLE","$notebook",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","guid",601],")",["T_WHITESPACE"," ",601],"{",["T_WHITESPACE","\n                ",601],["T_VARIABLE","$this",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","deleteNote",602],"(",["T_VARIABLE","$note",602],")",";",["T_WHITESPACE","\n            ",602],"}",["T_WHITESPACE","\n\n            ",603],["T_VARIABLE","$note",605],["T_WHITESPACE"," ",605],"=",["T_WHITESPACE"," ",605],["T_VARIABLE","$moved_note",605],";",["T_WHITESPACE","\n        ",605],"}",["T_WHITESPACE"," ",606],["T_CATCH","catch",606],["T_WHITESPACE"," ",606],"(",["T_STRING","EDAMUserException",606],["T_WHITESPACE"," ",606],["T_VARIABLE","$e",606],")",["T_WHITESPACE"," ",606],"{",["T_WHITESPACE","\n            ",606],["T_IF","if",607],["T_WHITESPACE"," ",607],"(",["T_VARIABLE","$e",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","parameter",607],["T_WHITESPACE"," ",607],["T_IS_IDENTICAL","===",607],["T_WHITESPACE"," ",607],["T_CONSTANT_ENCAPSED_STRING","'Note.notebookGuid'",607],")",["T_WHITESPACE"," ",607],"{",["T_WHITESPACE","\n                ",607],["T_VARIABLE","$moved_note",608],["T_WHITESPACE"," ",608],"=",["T_WHITESPACE"," ",608],["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","uploadNote",608],"(",["T_VARIABLE","$note",608],",",["T_WHITESPACE"," ",608],["T_VARIABLE","$notebook",608],")",";",["T_WHITESPACE","\n                ",608],["T_IF","if",609],["T_WHITESPACE"," ",609],"(",["T_VARIABLE","$moved_note",609],["T_WHITESPACE"," ",609],["T_BOOLEAN_AND","&&",609],["T_WHITESPACE"," ",609],["T_VARIABLE","$moved_note",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","notebookGuid",609],["T_WHITESPACE"," ",609],["T_IS_IDENTICAL","===",609],["T_WHITESPACE"," ",609],["T_VARIABLE","$notebook",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","guid",609],")",["T_WHITESPACE"," ",609],"{",["T_WHITESPACE","\n                    ",609],["T_VARIABLE","$this",610],["T_OBJECT_OPERATOR","->",610],["T_STRING","deleteNote",610],"(",["T_VARIABLE","$note",610],")",";",["T_WHITESPACE","\n                ",610],"}",["T_WHITESPACE","\n                ",611],["T_VARIABLE","$note",612],["T_WHITESPACE"," ",612],"=",["T_WHITESPACE"," ",612],["T_VARIABLE","$moved_note",612],";",["T_WHITESPACE","\n            ",612],"}",["T_WHITESPACE"," ",613],["T_ELSE","else",613],["T_WHITESPACE"," ",613],"{",["T_WHITESPACE","\n                ",613],["T_THROW","throw",614],["T_WHITESPACE"," ",614],["T_VARIABLE","$e",614],";",["T_WHITESPACE","\n            ",614],"}",["T_WHITESPACE","\n        ",615],"}",["T_WHITESPACE","\n\n        ",616],["T_RETURN","return",618],["T_WHITESPACE"," ",618],["T_VARIABLE","$note",618],";",["T_WHITESPACE","\n    ",618],"}",["T_WHITESPACE","\n\n    ",619],["T_DOC_COMMENT","\/**\n     * Retrieves an existing note\n     *\n     * @param $guid\n     * @param null $scope\n     * @return Note|null\n     *\/",621],["T_WHITESPACE","\n    ",627],["T_PUBLIC","public",628],["T_WHITESPACE"," ",628],["T_FUNCTION","function",628],["T_WHITESPACE"," ",628],["T_STRING","getNote",628],"(",["T_VARIABLE","$guid",628],",",["T_WHITESPACE"," ",628],["T_VARIABLE","$scope",628],["T_WHITESPACE"," ",628],"=",["T_WHITESPACE"," ",628],["T_STRING","null",628],")",["T_WHITESPACE","\n    ",628],"{",["T_WHITESPACE","\n        ",629],["T_IF","if",630],["T_WHITESPACE"," ",630],"(",["T_STRING","null",630],["T_WHITESPACE"," ",630],["T_IS_IDENTICAL","===",630],["T_WHITESPACE"," ",630],["T_VARIABLE","$scope",630],["T_WHITESPACE"," ",630],["T_BOOLEAN_OR","||",630],["T_WHITESPACE"," ",630],["T_STRING","self",630],["T_DOUBLE_COLON","::",630],["T_STRING","PERSONAL_SCOPE",630],["T_WHITESPACE"," ",630],["T_IS_IDENTICAL","===",630],["T_WHITESPACE"," ",630],["T_VARIABLE","$scope",630],")",["T_WHITESPACE"," ",630],"{",["T_WHITESPACE","\n            ",630],["T_TRY","try",631],["T_WHITESPACE"," ",631],"{",["T_WHITESPACE","\n                ",631],["T_VARIABLE","$edam_note",632],["T_WHITESPACE"," ",632],"=",["T_WHITESPACE"," ",632],["T_VARIABLE","$this",632],["T_OBJECT_OPERATOR","->",632],["T_STRING","getUserNotestore",632],"(",")",["T_OBJECT_OPERATOR","->",632],["T_STRING","getNote",632],"(",["T_VARIABLE","$this",632],["T_OBJECT_OPERATOR","->",632],["T_STRING","token",632],",",["T_WHITESPACE"," ",632],["T_VARIABLE","$guid",632],",",["T_WHITESPACE"," ",632],["T_STRING","true",632],",",["T_WHITESPACE"," ",632],["T_STRING","true",632],",",["T_WHITESPACE"," ",632],["T_STRING","false",632],",",["T_WHITESPACE"," ",632],["T_STRING","false",632],")",";",["T_WHITESPACE","\n\n                ",632],["T_RETURN","return",634],["T_WHITESPACE"," ",634],["T_VARIABLE","$this",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","getNoteInstance",634],"(",["T_VARIABLE","$edam_note",634],",",["T_WHITESPACE"," ",634],["T_VARIABLE","$this",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","getUserNotestore",634],"(",")",",",["T_WHITESPACE"," ",634],["T_VARIABLE","$this",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","token",634],")",";",["T_WHITESPACE","\n            ",634],"}",["T_WHITESPACE"," ",635],["T_CATCH","catch",635],["T_WHITESPACE"," ",635],"(",["T_STRING","EDAMNotFoundException",635],["T_WHITESPACE"," ",635],["T_VARIABLE","$e",635],")",["T_WHITESPACE"," ",635],"{",["T_WHITESPACE","\n                ",635],["T_COMMENT","\/\/ The note does not exist. No need to go further.\n",636],["T_WHITESPACE","                ",637],["T_IF","if",637],["T_WHITESPACE"," ",637],"(",["T_STRING","self",637],["T_DOUBLE_COLON","::",637],["T_STRING","PERSONAL_SCOPE",637],["T_WHITESPACE"," ",637],["T_IS_IDENTICAL","===",637],["T_WHITESPACE"," ",637],["T_VARIABLE","$scope",637],")",["T_WHITESPACE"," ",637],"{",["T_WHITESPACE","\n                    ",637],["T_RETURN","return",638],["T_WHITESPACE"," ",638],["T_STRING","null",638],";",["T_WHITESPACE","\n                ",638],"}",["T_WHITESPACE","\n            ",639],"}",["T_WHITESPACE"," ",640],["T_CATCH","catch",640],["T_WHITESPACE"," ",640],"(",["T_STRING","EDAMUserException",640],["T_WHITESPACE"," ",640],["T_VARIABLE","$e",640],")",["T_WHITESPACE"," ",640],"{",["T_WHITESPACE","\n                ",640],["T_COMMENT","\/\/ The note is in a linked notebook\n",641],["T_WHITESPACE","                ",642],["T_IF","if",642],["T_WHITESPACE"," ",642],"(",["T_STRING","self",642],["T_DOUBLE_COLON","::",642],["T_STRING","PERSONAL_SCOPE",642],["T_WHITESPACE"," ",642],["T_IS_IDENTICAL","===",642],["T_WHITESPACE"," ",642],["T_VARIABLE","$scope",642],")",["T_WHITESPACE"," ",642],"{",["T_WHITESPACE","\n                    ",642],["T_COMMENT","\/\/ we only want the personal notes\n",643],["T_WHITESPACE","                    ",644],["T_RETURN","return",644],["T_WHITESPACE"," ",644],["T_STRING","null",644],";",["T_WHITESPACE","\n                ",644],"}",["T_WHITESPACE","\n            ",645],"}",["T_WHITESPACE","\n        ",646],"}",["T_WHITESPACE","\n\n        ",647],["T_IF","if",649],["T_WHITESPACE"," ",649],"(",["T_STRING","null",649],["T_WHITESPACE"," ",649],["T_IS_IDENTICAL","===",649],["T_WHITESPACE"," ",649],["T_VARIABLE","$scope",649],["T_WHITESPACE"," ",649],["T_BOOLEAN_OR","||",649],["T_WHITESPACE"," ",649],["T_STRING","self",649],["T_DOUBLE_COLON","::",649],["T_STRING","LINKED_SCOPE",649],["T_WHITESPACE"," ",649],["T_IS_IDENTICAL","===",649],["T_WHITESPACE"," ",649],["T_VARIABLE","$scope",649],")",["T_WHITESPACE"," ",649],"{",["T_WHITESPACE","\n            ",649],["T_VARIABLE","$linkedNotebooks",650],["T_WHITESPACE"," ",650],"=",["T_WHITESPACE"," ",650],["T_VARIABLE","$this",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","listLinkedNotebooks",650],"(",")",";",["T_WHITESPACE","\n\n            ",650],["T_FOREACH","foreach",652],["T_WHITESPACE"," ",652],"(",["T_VARIABLE","$linkedNotebooks",652],["T_WHITESPACE"," ",652],["T_AS","as",652],["T_WHITESPACE"," ",652],["T_VARIABLE","$linkedNotebook",652],")",["T_WHITESPACE"," ",652],"{",["T_WHITESPACE","\n                ",652],["T_TRY","try",653],["T_WHITESPACE"," ",653],"{",["T_WHITESPACE","\n                    ",653],["T_VARIABLE","$sharedNoteStore",654],["T_WHITESPACE"," ",654],"=",["T_WHITESPACE"," ",654],["T_VARIABLE","$this",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","getNotestore",654],"(",["T_VARIABLE","$linkedNotebook",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","noteStoreUrl",654],")",";",["T_WHITESPACE","\n                    ",654],["T_VARIABLE","$authToken",655],["T_WHITESPACE"," ",655],"=",["T_WHITESPACE"," ",655],["T_VARIABLE","$this",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","getSharedNotebookAuthResult",655],"(",["T_VARIABLE","$linkedNotebook",655],")",["T_OBJECT_OPERATOR","->",655],["T_STRING","authenticationToken",655],";",["T_WHITESPACE","\n\n                    ",655],["T_VARIABLE","$edam_note",657],["T_WHITESPACE"," ",657],"=",["T_WHITESPACE"," ",657],["T_VARIABLE","$sharedNoteStore",657],["T_OBJECT_OPERATOR","->",657],["T_STRING","getNote",657],"(",["T_VARIABLE","$authToken",657],",",["T_WHITESPACE"," ",657],["T_VARIABLE","$guid",657],",",["T_WHITESPACE"," ",657],["T_STRING","true",657],",",["T_WHITESPACE"," ",657],["T_STRING","true",657],",",["T_WHITESPACE"," ",657],["T_STRING","false",657],",",["T_WHITESPACE"," ",657],["T_STRING","false",657],")",";",["T_WHITESPACE","\n\n                    ",657],["T_RETURN","return",659],["T_WHITESPACE"," ",659],["T_VARIABLE","$this",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","getNoteInstance",659],"(",["T_VARIABLE","$edam_note",659],",",["T_WHITESPACE"," ",659],["T_VARIABLE","$sharedNoteStore",659],",",["T_WHITESPACE"," ",659],["T_VARIABLE","$authToken",659],")",";",["T_WHITESPACE","\n\n                ",659],"}",["T_WHITESPACE"," ",661],["T_CATCH","catch",661],["T_WHITESPACE"," ",661],"(",["T_STRING","EDAMUserException",661],["T_WHITESPACE"," ",661],["T_VARIABLE","$e",661],")",["T_WHITESPACE"," ",661],"{",["T_WHITESPACE","\n                    ",661],["T_COMMENT","\/\/ No right on this notebook.\n",662],["T_WHITESPACE","                    ",663],["T_CONTINUE","continue",663],";",["T_WHITESPACE","\n                ",663],"}",["T_WHITESPACE"," ",664],["T_CATCH","catch",664],["T_WHITESPACE"," ",664],"(",["T_STRING","EDAMNotFoundException",664],["T_WHITESPACE"," ",664],["T_VARIABLE","$e",664],")",["T_WHITESPACE"," ",664],"{",["T_WHITESPACE","\n                    ",664],["T_COMMENT","\/\/ Note not found\n",665],["T_WHITESPACE","                    ",666],["T_CONTINUE","continue",666],";",["T_WHITESPACE","\n                ",666],"}",["T_WHITESPACE","\n            ",667],"}",["T_WHITESPACE","\n\n            ",668],["T_RETURN","return",670],["T_WHITESPACE"," ",670],["T_STRING","null",670],";",["T_WHITESPACE","\n        ",670],"}",["T_WHITESPACE","\n    ",671],"}",["T_WHITESPACE","\n\n    ",672],["T_DOC_COMMENT","\/**\n     * Checks if the token is an \"app notebook\" one\n     *\n     * @param $token\n     * @return bool\n     *\/",674],["T_WHITESPACE","\n    ",679],["T_PUBLIC","public",680],["T_WHITESPACE"," ",680],["T_FUNCTION","function",680],["T_WHITESPACE"," ",680],["T_STRING","isAppNotebookToken",680],"(",["T_VARIABLE","$token",680],")",["T_WHITESPACE","\n    ",680],"{",["T_WHITESPACE","\n        ",681],["T_RETURN","return",682],["T_WHITESPACE"," ",682],["T_STRING","strpos",682],"(",["T_VARIABLE","$token",682],",",["T_WHITESPACE"," ",682],["T_CONSTANT_ENCAPSED_STRING","':B='",682],")",["T_WHITESPACE"," ",682],["T_IS_NOT_IDENTICAL","!==",682],["T_WHITESPACE"," ",682],["T_STRING","false",682],";",["T_WHITESPACE","\n    ",682],"}",["T_WHITESPACE","\n\n    ",683],["T_DOC_COMMENT","\/**\n     * Retrieves a notebook\n     *\n     * @param $notebook_guid\n     * @param null $scope\n     * @return Notebook|null\n     *\/",685],["T_WHITESPACE","\n    ",691],["T_PUBLIC","public",692],["T_WHITESPACE"," ",692],["T_FUNCTION","function",692],["T_WHITESPACE"," ",692],["T_STRING","getNotebook",692],"(",["T_VARIABLE","$notebook_guid",692],",",["T_WHITESPACE"," ",692],["T_VARIABLE","$scope",692],["T_WHITESPACE"," ",692],"=",["T_WHITESPACE"," ",692],["T_STRING","null",692],")",["T_WHITESPACE","\n    ",692],"{",["T_WHITESPACE","\n        ",693],["T_IF","if",694],["T_WHITESPACE"," ",694],"(",["T_STRING","null",694],["T_WHITESPACE"," ",694],["T_IS_IDENTICAL","===",694],["T_WHITESPACE"," ",694],["T_VARIABLE","$scope",694],["T_WHITESPACE"," ",694],["T_BOOLEAN_OR","||",694],["T_WHITESPACE"," ",694],["T_STRING","self",694],["T_DOUBLE_COLON","::",694],["T_STRING","PERSONAL_SCOPE",694],["T_WHITESPACE"," ",694],["T_IS_IDENTICAL","===",694],["T_WHITESPACE"," ",694],["T_VARIABLE","$scope",694],")",["T_WHITESPACE"," ",694],"{",["T_WHITESPACE","\n            ",694],["T_TRY","try",695],["T_WHITESPACE"," ",695],"{",["T_WHITESPACE","\n                ",695],["T_VARIABLE","$edamNotebook",696],["T_WHITESPACE"," ",696],"=",["T_WHITESPACE"," ",696],["T_VARIABLE","$this",696],["T_OBJECT_OPERATOR","->",696],["T_STRING","getUserNotestore",696],"(",")",["T_OBJECT_OPERATOR","->",696],["T_STRING","getNotebook",696],"(",["T_VARIABLE","$this",696],["T_OBJECT_OPERATOR","->",696],["T_STRING","token",696],",",["T_WHITESPACE"," ",696],["T_VARIABLE","$notebook_guid",696],")",";",["T_WHITESPACE","\n\n                ",696],["T_RETURN","return",698],["T_WHITESPACE"," ",698],["T_NEW","new",698],["T_WHITESPACE"," ",698],["T_STRING","Notebook",698],"(",["T_VARIABLE","$edamNotebook",698],")",";",["T_WHITESPACE","\n            ",698],"}",["T_WHITESPACE"," ",699],["T_CATCH","catch",699],["T_WHITESPACE"," ",699],"(",["T_STRING","EDAMNotFoundException",699],["T_WHITESPACE"," ",699],["T_VARIABLE","$e",699],")",["T_WHITESPACE"," ",699],"{",["T_WHITESPACE","\n                ",699],["T_IF","if",700],["T_WHITESPACE"," ",700],"(",["T_STRING","self",700],["T_DOUBLE_COLON","::",700],["T_STRING","PERSONAL_SCOPE",700],["T_WHITESPACE"," ",700],["T_IS_IDENTICAL","===",700],["T_WHITESPACE"," ",700],["T_VARIABLE","$scope",700],")",["T_WHITESPACE"," ",700],"{",["T_WHITESPACE","\n                    ",700],["T_RETURN","return",701],["T_WHITESPACE"," ",701],["T_STRING","null",701],";",["T_WHITESPACE","\n                ",701],"}",["T_WHITESPACE","\n            ",702],"}",["T_WHITESPACE","\n        ",703],"}",["T_WHITESPACE","\n\n        ",704],["T_IF","if",706],["T_WHITESPACE"," ",706],"(",["T_STRING","null",706],["T_WHITESPACE"," ",706],["T_IS_IDENTICAL","===",706],["T_WHITESPACE"," ",706],["T_VARIABLE","$scope",706],["T_WHITESPACE"," ",706],["T_BOOLEAN_OR","||",706],["T_WHITESPACE"," ",706],["T_STRING","self",706],["T_DOUBLE_COLON","::",706],["T_STRING","LINKED_SCOPE",706],["T_WHITESPACE"," ",706],["T_IS_IDENTICAL","===",706],["T_WHITESPACE"," ",706],["T_VARIABLE","$scope",706],")",["T_WHITESPACE"," ",706],"{",["T_WHITESPACE","\n            ",706],["T_VARIABLE","$linkedNotebooks",707],["T_WHITESPACE"," ",707],"=",["T_WHITESPACE"," ",707],["T_VARIABLE","$this",707],["T_OBJECT_OPERATOR","->",707],["T_STRING","listLinkedNotebooks",707],"(",")",";",["T_WHITESPACE","\n            ",707],["T_FOREACH","foreach",708],["T_WHITESPACE"," ",708],"(",["T_VARIABLE","$linkedNotebooks",708],["T_WHITESPACE"," ",708],["T_AS","as",708],["T_WHITESPACE"," ",708],["T_VARIABLE","$linkedNotebook",708],")",["T_WHITESPACE"," ",708],"{",["T_WHITESPACE","\n                ",708],["T_TRY","try",709],["T_WHITESPACE"," ",709],"{",["T_WHITESPACE","\n                    ",709],["T_VARIABLE","$sharedNotebook",710],["T_WHITESPACE"," ",710],"=",["T_WHITESPACE"," ",710],["T_VARIABLE","$this",710],["T_OBJECT_OPERATOR","->",710],["T_STRING","getNoteBookByLinkedNotebook",710],"(",["T_VARIABLE","$linkedNotebook",710],")",";",["T_WHITESPACE","\n\n                    ",710],["T_IF","if",712],["T_WHITESPACE"," ",712],"(",["T_VARIABLE","$this",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","isAppNotebookToken",712],"(",["T_VARIABLE","$this",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","token",712],")",")",["T_WHITESPACE"," ",712],"{",["T_WHITESPACE","\n                        ",712],["T_RETURN","return",713],["T_WHITESPACE"," ",713],["T_VARIABLE","$sharedNotebook",713],";",["T_WHITESPACE","\n                    ",713],"}",["T_WHITESPACE","\n                ",714],"}",["T_WHITESPACE"," ",715],["T_CATCH","catch",715],["T_WHITESPACE"," ",715],"(",["T_STRING","EDAMUserException",715],["T_WHITESPACE"," ",715],["T_VARIABLE","$e",715],")",["T_WHITESPACE"," ",715],"{",["T_WHITESPACE","\n                    ",715],["T_COMMENT","\/\/ No right on this notebook.\n",716],["T_WHITESPACE","                    ",717],["T_CONTINUE","continue",717],";",["T_WHITESPACE","\n                ",717],"}",["T_WHITESPACE","\n                ",718],["T_IF","if",719],["T_WHITESPACE"," ",719],"(",["T_VARIABLE","$sharedNotebook",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","guid",719],["T_WHITESPACE"," ",719],["T_IS_IDENTICAL","===",719],["T_WHITESPACE"," ",719],["T_VARIABLE","$notebook_guid",719],")",["T_WHITESPACE"," ",719],"{",["T_WHITESPACE","\n                    ",719],["T_RETURN","return",720],["T_WHITESPACE"," ",720],["T_VARIABLE","$sharedNotebook",720],";",["T_WHITESPACE","\n                ",720],"}",["T_WHITESPACE","\n            ",721],"}",["T_WHITESPACE","\n\n            ",722],["T_RETURN","return",724],["T_WHITESPACE"," ",724],["T_STRING","null",724],";",["T_WHITESPACE","\n        ",724],"}",["T_WHITESPACE","\n    ",725],"}",["T_WHITESPACE","\n\n    ",726],["T_DOC_COMMENT","\/**\n     * Searches for notes\n     *\n     * @param $noteSearch\n     * @param Notebook $notebook\n     * @param int $scope\n     * @param int $sortOrder\n     * @param int $maxResults\n     * @return array|bool\n     *\/",728],["T_WHITESPACE","\n    ",737],["T_PUBLIC","public",738],["T_WHITESPACE"," ",738],["T_FUNCTION","function",738],["T_WHITESPACE"," ",738],["T_STRING","findNotesWithSearch",738],"(",["T_VARIABLE","$noteSearch",738],",",["T_WHITESPACE"," ",738],["T_STRING","Notebook",738],["T_WHITESPACE"," ",738],["T_VARIABLE","$notebook",738],["T_WHITESPACE"," ",738],"=",["T_WHITESPACE"," ",738],["T_STRING","null",738],",",["T_WHITESPACE"," ",738],["T_VARIABLE","$scope",738],["T_WHITESPACE"," ",738],"=",["T_WHITESPACE"," ",738],["T_LNUMBER","0",738],",",["T_WHITESPACE"," ",738],["T_VARIABLE","$sortOrder",738],["T_WHITESPACE"," ",738],"=",["T_WHITESPACE"," ",738],["T_LNUMBER","0",738],",",["T_WHITESPACE"," ",738],["T_VARIABLE","$maxResults",738],["T_WHITESPACE"," ",738],"=",["T_WHITESPACE"," ",738],["T_LNUMBER","20",738],")",["T_WHITESPACE","\n    ",738],"{",["T_WHITESPACE","\n        ",739],["T_IF","if",740],["T_WHITESPACE"," ",740],"(","!",["T_VARIABLE","$noteSearch",740],["T_WHITESPACE"," ",740],["T_INSTANCEOF","instanceof",740],["T_WHITESPACE"," ",740],["T_STRING","Search",740],")",["T_WHITESPACE"," ",740],"{",["T_WHITESPACE","\n            ",740],["T_VARIABLE","$noteSearch",741],["T_WHITESPACE"," ",741],"=",["T_WHITESPACE"," ",741],["T_NEW","new",741],["T_WHITESPACE"," ",741],["T_STRING","Search",741],"(",["T_VARIABLE","$noteSearch",741],")",";",["T_WHITESPACE","\n        ",741],"}",["T_WHITESPACE","\n\n        ",742],["T_COMMENT","\/\/ App notebook scope is internally just an \"all\" search, because we don't a priori know where the app\n",744],["T_WHITESPACE","        ",745],["T_COMMENT","\/\/ notebook is. There's some room for a fast path in this flow if we have a saved linked record to a\n",745],["T_WHITESPACE","        ",746],["T_COMMENT","\/\/ linked app notebook, but that case is likely rare enough to prevent complexifying this code for.\n",746],["T_WHITESPACE","        ",747],["T_IF","if",747],["T_WHITESPACE"," ",747],"(",["T_VARIABLE","$this",747],["T_OBJECT_OPERATOR","->",747],["T_STRING","isFlagSet",747],"(",["T_VARIABLE","$scope",747],",",["T_WHITESPACE"," ",747],["T_STRING","self",747],["T_DOUBLE_COLON","::",747],["T_STRING","SEARCH_SCOPE_APP_NOTEBOOK",747],")",")",["T_WHITESPACE"," ",747],"{",["T_WHITESPACE","\n            ",747],["T_VARIABLE","$scope",748],["T_WHITESPACE"," ",748],"=",["T_WHITESPACE"," ",748],["T_STRING","self",748],["T_DOUBLE_COLON","::",748],["T_STRING","SEARCH_SCOPE_ALL",748],";",["T_WHITESPACE","\n        ",748],"}",["T_WHITESPACE","\n\n        ",749],["T_COMMENT","\/\/ Validate the scope and sort arguments.\n",751],["T_WHITESPACE","        ",752],["T_IF","if",752],["T_WHITESPACE"," ",752],"(",["T_STRING","null",752],["T_WHITESPACE"," ",752],["T_IS_NOT_IDENTICAL","!==",752],["T_WHITESPACE"," ",752],["T_VARIABLE","$notebook",752],["T_WHITESPACE"," ",752],["T_BOOLEAN_AND","&&",752],["T_WHITESPACE"," ",752],["T_VARIABLE","$scope",752],["T_WHITESPACE"," ",752],["T_IS_NOT_EQUAL","!=",752],["T_WHITESPACE"," ",752],["T_STRING","self",752],["T_DOUBLE_COLON","::",752],["T_STRING","SEARCH_SCOPE_NONE",752],")",["T_WHITESPACE"," ",752],"{",["T_WHITESPACE","\n            ",752],["T_VARIABLE","$scope",753],["T_WHITESPACE"," ",753],"=",["T_WHITESPACE"," ",753],["T_STRING","self",753],["T_DOUBLE_COLON","::",753],["T_STRING","SEARCH_SCOPE_NONE",753],";",["T_WHITESPACE","\n        ",753],"}",["T_WHITESPACE"," ",754],["T_ELSEIF","elseif",754],["T_WHITESPACE"," ",754],"(",["T_STRING","null",754],["T_WHITESPACE"," ",754],["T_IS_IDENTICAL","===",754],["T_WHITESPACE"," ",754],["T_VARIABLE","$notebook",754],["T_WHITESPACE"," ",754],["T_BOOLEAN_AND","&&",754],["T_WHITESPACE"," ",754],["T_VARIABLE","$scope",754],["T_WHITESPACE"," ",754],["T_IS_EQUAL","==",754],["T_WHITESPACE"," ",754],["T_STRING","self",754],["T_DOUBLE_COLON","::",754],["T_STRING","SEARCH_SCOPE_NONE",754],")",["T_WHITESPACE"," ",754],"{",["T_WHITESPACE","\n            ",754],["T_VARIABLE","$scope",755],["T_WHITESPACE"," ",755],"=",["T_WHITESPACE"," ",755],["T_STRING","self",755],["T_DOUBLE_COLON","::",755],["T_STRING","SEARCH_SCOPE_DEFAULT",755],";",["T_WHITESPACE","\n        ",755],"}",["T_WHITESPACE","\n\n        ",756],["T_VARIABLE","$requiresLocalMerge",758],["T_WHITESPACE"," ",758],"=",["T_WHITESPACE"," ",758],["T_STRING","false",758],";",["T_WHITESPACE","\n        ",758],["T_IF","if",759],["T_WHITESPACE"," ",759],"(",["T_VARIABLE","$scope",759],["T_WHITESPACE"," ",759],["T_IS_NOT_EQUAL","!=",759],["T_WHITESPACE"," ",759],["T_STRING","self",759],["T_DOUBLE_COLON","::",759],["T_STRING","SEARCH_SCOPE_NONE",759],")",["T_WHITESPACE"," ",759],"{",["T_WHITESPACE","\n            ",759],["T_COMMENT","\/\/ Check for multiple scopes. Because linked scope can subsume multiple linked notebooks, that *always* triggers\n",760],["T_WHITESPACE","            ",761],["T_COMMENT","\/\/ the multiple scopes. If not, then both personal and business must be set together.\n",761],["T_WHITESPACE","            ",762],["T_IF","if",762],["T_WHITESPACE"," ",762],"(","(",["T_VARIABLE","$this",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","isFlagSet",762],"(",["T_VARIABLE","$scope",762],",",["T_WHITESPACE"," ",762],["T_STRING","self",762],["T_DOUBLE_COLON","::",762],["T_STRING","SEARCH_SCOPE_PERSONAL",762],")",["T_WHITESPACE"," ",762],["T_BOOLEAN_AND","&&",762],["T_WHITESPACE"," ",762],["T_VARIABLE","$this",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","isFlagSet",762],"(",["T_VARIABLE","$scope",762],",",["T_WHITESPACE"," ",762],["T_STRING","self",762],["T_DOUBLE_COLON","::",762],["T_STRING","SEARCH_SCOPE_BUSINESS",762],")",")",["T_WHITESPACE"," ",762],["T_BOOLEAN_OR","||",762],["T_WHITESPACE","\n                ",762],["T_VARIABLE","$this",763],["T_OBJECT_OPERATOR","->",763],["T_STRING","isFlagSet",763],"(",["T_VARIABLE","$scope",763],",",["T_WHITESPACE"," ",763],["T_STRING","self",763],["T_DOUBLE_COLON","::",763],["T_STRING","SEARCH_SCOPE_PERSONAL_LINKED",763],")",")",["T_WHITESPACE"," ",763],"{",["T_WHITESPACE","\n                ",763],["T_COMMENT","\/\/ If we're asked for multiple scopes, relevance is not longer supportable (since we\n",764],["T_WHITESPACE","                ",765],["T_COMMENT","\/\/ don't know how to combine relevance on the client), so default to updated date,\n",765],["T_WHITESPACE","                ",766],["T_COMMENT","\/\/ which is probably the closest proxy to relevance.\n",766],["T_WHITESPACE","                ",767],["T_IF","if",767],["T_WHITESPACE"," ",767],"(",["T_VARIABLE","$this",767],["T_OBJECT_OPERATOR","->",767],["T_STRING","isFlagSet",767],"(",["T_VARIABLE","$sortOrder",767],",",["T_WHITESPACE"," ",767],["T_STRING","self",767],["T_DOUBLE_COLON","::",767],["T_STRING","SORT_ORDER_RELEVANCE",767],")",")",["T_WHITESPACE"," ",767],"{",["T_WHITESPACE","\n                    ",767],["T_VARIABLE","$sortOrder",768],["T_WHITESPACE"," ",768],"=",["T_WHITESPACE"," ",768],["T_STRING","self",768],["T_DOUBLE_COLON","::",768],["T_STRING","SORT_ORDER_RECENTLY_UPDATED",768],";",["T_WHITESPACE","\n                ",768],"}",["T_WHITESPACE","\n                ",769],["T_VARIABLE","$requiresLocalMerge",770],["T_WHITESPACE"," ",770],"=",["T_WHITESPACE"," ",770],["T_STRING","true",770],";",["T_WHITESPACE","\n            ",770],"}",["T_WHITESPACE","\n        ",771],"}",["T_WHITESPACE","\n\n        ",772],["T_VARIABLE","$resultSpec",774],["T_WHITESPACE","                           ",774],"=",["T_WHITESPACE"," ",774],["T_NEW","new",774],["T_WHITESPACE"," ",774],["T_STRING","NotesMetadataResultSpec",774],"(",")",";",["T_WHITESPACE","\n        ",774],["T_VARIABLE","$resultSpec",775],["T_OBJECT_OPERATOR","->",775],["T_STRING","includeNotebookGuid",775],["T_WHITESPACE","      ",775],"=",["T_WHITESPACE"," ",775],["T_STRING","true",775],";",["T_WHITESPACE","\n        ",775],["T_VARIABLE","$resultSpec",776],["T_OBJECT_OPERATOR","->",776],["T_STRING","includeTitle",776],["T_WHITESPACE","             ",776],"=",["T_WHITESPACE"," ",776],["T_STRING","true",776],";",["T_WHITESPACE","\n        ",776],["T_VARIABLE","$resultSpec",777],["T_OBJECT_OPERATOR","->",777],["T_STRING","includeCreated",777],["T_WHITESPACE","           ",777],"=",["T_WHITESPACE"," ",777],["T_STRING","true",777],";",["T_WHITESPACE","\n        ",777],["T_VARIABLE","$resultSpec",778],["T_OBJECT_OPERATOR","->",778],["T_STRING","includeUpdated",778],["T_WHITESPACE","           ",778],"=",["T_WHITESPACE"," ",778],["T_STRING","true",778],";",["T_WHITESPACE","\n        ",778],["T_VARIABLE","$resultSpec",779],["T_OBJECT_OPERATOR","->",779],["T_STRING","includeUpdateSequenceNum",779],["T_WHITESPACE"," ",779],"=",["T_WHITESPACE"," ",779],["T_STRING","true",779],";",["T_WHITESPACE","\n\n        ",779],["T_VARIABLE","$noteFilter",781],["T_WHITESPACE"," ",781],"=",["T_WHITESPACE"," ",781],["T_NEW","new",781],["T_WHITESPACE"," ",781],["T_STRING","NoteFilter",781],"(",")",";",["T_WHITESPACE","\n        ",781],["T_VARIABLE","$noteFilter",782],["T_OBJECT_OPERATOR","->",782],["T_STRING","words",782],["T_WHITESPACE"," ",782],"=",["T_WHITESPACE"," ",782],["T_VARIABLE","$noteSearch",782],["T_OBJECT_OPERATOR","->",782],["T_STRING","getSearchString",782],"(",")",";",["T_WHITESPACE","\n\n        ",782],["T_IF","if",784],["T_WHITESPACE"," ",784],"(",["T_VARIABLE","$this",784],["T_OBJECT_OPERATOR","->",784],["T_STRING","isFlagSet",784],"(",["T_VARIABLE","$sortOrder",784],",",["T_WHITESPACE"," ",784],["T_STRING","self",784],["T_DOUBLE_COLON","::",784],["T_STRING","SORT_ORDER_TITLE",784],")",")",["T_WHITESPACE"," ",784],"{",["T_WHITESPACE","\n            ",784],["T_VARIABLE","$noteFilter",785],["T_OBJECT_OPERATOR","->",785],["T_STRING","order",785],["T_WHITESPACE"," ",785],"=",["T_WHITESPACE"," ",785],["T_STRING","NoteSortOrder",785],["T_DOUBLE_COLON","::",785],["T_STRING","TITLE",785],";",["T_WHITESPACE","\n        ",785],"}",["T_WHITESPACE"," ",786],["T_ELSEIF","elseif",786],["T_WHITESPACE"," ",786],"(",["T_VARIABLE","$this",786],["T_OBJECT_OPERATOR","->",786],["T_STRING","isFlagSet",786],"(",["T_VARIABLE","$sortOrder",786],",",["T_WHITESPACE"," ",786],["T_STRING","self",786],["T_DOUBLE_COLON","::",786],["T_STRING","SORT_ORDER_RECENTLY_CREATED",786],")",")",["T_WHITESPACE"," ",786],"{",["T_WHITESPACE","\n            ",786],["T_VARIABLE","$noteFilter",787],["T_OBJECT_OPERATOR","->",787],["T_STRING","order",787],["T_WHITESPACE"," ",787],"=",["T_WHITESPACE"," ",787],["T_STRING","NoteSortOrder",787],["T_DOUBLE_COLON","::",787],["T_STRING","CREATED",787],";",["T_WHITESPACE","\n        ",787],"}",["T_WHITESPACE"," ",788],["T_ELSEIF","elseif",788],["T_WHITESPACE"," ",788],"(",["T_VARIABLE","$this",788],["T_OBJECT_OPERATOR","->",788],["T_STRING","isFlagSet",788],"(",["T_VARIABLE","$sortOrder",788],",",["T_WHITESPACE"," ",788],["T_STRING","self",788],["T_DOUBLE_COLON","::",788],["T_STRING","SORT_ORDER_RECENTLY_UPDATED",788],")",")",["T_WHITESPACE"," ",788],"{",["T_WHITESPACE","\n            ",788],["T_VARIABLE","$noteFilter",789],["T_OBJECT_OPERATOR","->",789],["T_STRING","order",789],["T_WHITESPACE"," ",789],"=",["T_WHITESPACE"," ",789],["T_STRING","NoteSortOrder",789],["T_DOUBLE_COLON","::",789],["T_STRING","UPDATED",789],";",["T_WHITESPACE","\n        ",789],"}",["T_WHITESPACE"," ",790],["T_ELSEIF","elseif",790],["T_WHITESPACE"," ",790],"(",["T_VARIABLE","$this",790],["T_OBJECT_OPERATOR","->",790],["T_STRING","isFlagSet",790],"(",["T_VARIABLE","$sortOrder",790],",",["T_WHITESPACE"," ",790],["T_STRING","self",790],["T_DOUBLE_COLON","::",790],["T_STRING","SORT_ORDER_RELEVANCE",790],")",")",["T_WHITESPACE"," ",790],"{",["T_WHITESPACE","\n            ",790],["T_VARIABLE","$noteFilter",791],["T_OBJECT_OPERATOR","->",791],["T_STRING","order",791],["T_WHITESPACE"," ",791],"=",["T_WHITESPACE"," ",791],["T_STRING","NoteSortOrder",791],["T_DOUBLE_COLON","::",791],["T_STRING","RELEVANCE",791],";",["T_WHITESPACE","\n        ",791],"}",["T_WHITESPACE","\n\n        ",792],["T_COMMENT","\/\/ \"Normal\" sort is ascending for titles, and descending for dates and relevance.\n",794],["T_WHITESPACE","        ",795],["T_VARIABLE","$sortAscending",795],["T_WHITESPACE"," ",795],"=",["T_WHITESPACE"," ",795],["T_VARIABLE","$this",795],["T_OBJECT_OPERATOR","->",795],["T_STRING","isFlagSet",795],"(",["T_VARIABLE","$sortOrder",795],",",["T_WHITESPACE"," ",795],["T_STRING","self",795],["T_DOUBLE_COLON","::",795],["T_STRING","SORT_ORDER_TITLE",795],")",";",["T_WHITESPACE","\n\n        ",795],["T_IF","if",797],["T_WHITESPACE"," ",797],"(",["T_VARIABLE","$this",797],["T_OBJECT_OPERATOR","->",797],["T_STRING","isFlagSet",797],"(",["T_VARIABLE","$sortOrder",797],",",["T_WHITESPACE"," ",797],["T_STRING","self",797],["T_DOUBLE_COLON","::",797],["T_STRING","SORT_ORDER_REVERSE",797],")",")",["T_WHITESPACE"," ",797],"{",["T_WHITESPACE","\n            ",797],["T_VARIABLE","$sortAscending",798],["T_WHITESPACE"," ",798],"=",["T_WHITESPACE"," ",798],"!",["T_VARIABLE","$sortAscending",798],";",["T_WHITESPACE","\n        ",798],"}",["T_WHITESPACE","\n\n        ",799],["T_VARIABLE","$noteFilter",801],["T_OBJECT_OPERATOR","->",801],["T_STRING","ascending",801],["T_WHITESPACE"," ",801],"=",["T_WHITESPACE"," ",801],["T_VARIABLE","$sortAscending",801],";",["T_WHITESPACE","\n\n        ",801],["T_IF","if",803],["T_WHITESPACE"," ",803],"(",["T_STRING","null",803],["T_WHITESPACE"," ",803],["T_IS_NOT_IDENTICAL","!==",803],["T_WHITESPACE"," ",803],["T_VARIABLE","$notebook",803],")",["T_WHITESPACE"," ",803],"{",["T_WHITESPACE","\n            ",803],["T_VARIABLE","$noteFilter",804],["T_OBJECT_OPERATOR","->",804],["T_STRING","notebookGuid",804],["T_WHITESPACE"," ",804],"=",["T_WHITESPACE"," ",804],["T_VARIABLE","$notebook",804],["T_OBJECT_OPERATOR","->",804],["T_STRING","guid",804],";",["T_WHITESPACE","\n        ",804],"}",["T_WHITESPACE","\n\n        ",805],["T_COMMENT","\/\/ Set up context.\n",807],["T_WHITESPACE","        ",808],["T_VARIABLE","$context",808],["T_WHITESPACE"," ",808],"=",["T_WHITESPACE"," ",808],["T_NEW","new",808],["T_WHITESPACE"," ",808],["T_NS_SEPARATOR","\\",808],["T_STRING","stdClass",808],"(",")",";",["T_WHITESPACE","\n        ",808],["T_VARIABLE","$context",809],["T_OBJECT_OPERATOR","->",809],["T_STRING","scopeNotebook",809],["T_WHITESPACE","       ",809],"=",["T_WHITESPACE"," ",809],["T_VARIABLE","$notebook",809],";",["T_WHITESPACE","\n        ",809],["T_VARIABLE","$context",810],["T_OBJECT_OPERATOR","->",810],["T_STRING","scope",810],["T_WHITESPACE","               ",810],"=",["T_WHITESPACE"," ",810],["T_VARIABLE","$scope",810],";",["T_WHITESPACE","\n        ",810],["T_VARIABLE","$context",811],["T_OBJECT_OPERATOR","->",811],["T_STRING","sortOrder",811],["T_WHITESPACE","           ",811],"=",["T_WHITESPACE"," ",811],["T_VARIABLE","$sortOrder",811],";",["T_WHITESPACE","\n        ",811],["T_VARIABLE","$context",812],["T_OBJECT_OPERATOR","->",812],["T_STRING","noteFilter",812],["T_WHITESPACE","          ",812],"=",["T_WHITESPACE"," ",812],["T_VARIABLE","$noteFilter",812],";",["T_WHITESPACE","\n        ",812],["T_VARIABLE","$context",813],["T_OBJECT_OPERATOR","->",813],["T_STRING","resultSpec",813],["T_WHITESPACE","          ",813],"=",["T_WHITESPACE"," ",813],["T_VARIABLE","$resultSpec",813],";",["T_WHITESPACE","\n        ",813],["T_VARIABLE","$context",814],["T_OBJECT_OPERATOR","->",814],["T_STRING","maxResults",814],["T_WHITESPACE","          ",814],"=",["T_WHITESPACE"," ",814],["T_VARIABLE","$maxResults",814],";",["T_WHITESPACE","\n        ",814],["T_VARIABLE","$context",815],["T_OBJECT_OPERATOR","->",815],["T_STRING","findMetadataResults",815],["T_WHITESPACE"," ",815],"=",["T_WHITESPACE"," ",815],["T_ARRAY","array",815],"(",")",";",["T_WHITESPACE","\n        ",815],["T_VARIABLE","$context",816],["T_OBJECT_OPERATOR","->",816],["T_STRING","requiresLocalMerge",816],["T_WHITESPACE","  ",816],"=",["T_WHITESPACE"," ",816],["T_VARIABLE","$requiresLocalMerge",816],";",["T_WHITESPACE","\n        ",816],["T_VARIABLE","$context",817],["T_OBJECT_OPERATOR","->",817],["T_STRING","sortAscending",817],["T_WHITESPACE","       ",817],"=",["T_WHITESPACE"," ",817],["T_VARIABLE","$sortAscending",817],";",["T_WHITESPACE","\n\n        ",817],["T_COMMENT","\/\/ If we have a scope notebook, we already know what notebook the results will appear in.\n",819],["T_WHITESPACE","        ",820],["T_COMMENT","\/\/ If we don't have a scope notebook, then we need to query for all the notebooks to determine\n",820],["T_WHITESPACE","        ",821],["T_COMMENT","\/\/ where to search.\n",821],["T_WHITESPACE","        ",822],["T_IF","if",822],["T_WHITESPACE"," ",822],"(",["T_STRING","null",822],["T_WHITESPACE"," ",822],["T_IS_IDENTICAL","===",822],["T_WHITESPACE"," ",822],["T_VARIABLE","$context",822],["T_OBJECT_OPERATOR","->",822],["T_STRING","scopeNotebook",822],")",["T_WHITESPACE"," ",822],"{",["T_WHITESPACE","\n            ",822],["T_RETURN","return",823],["T_WHITESPACE"," ",823],["T_VARIABLE","$this",823],["T_OBJECT_OPERATOR","->",823],["T_STRING","findNotes_listNotebooksWithContext",823],"(",["T_VARIABLE","$context",823],")",";",["T_WHITESPACE","\n        ",823],"}",["T_WHITESPACE","\n\n        ",824],["T_COMMENT","\/\/ Go directly to the next step.\n",826],["T_WHITESPACE","        ",827],["T_RETURN","return",827],["T_WHITESPACE"," ",827],["T_VARIABLE","$this",827],["T_OBJECT_OPERATOR","->",827],["T_STRING","findNotes_findInPersonalScopeWithContext",827],"(",["T_VARIABLE","$context",827],")",";",["T_WHITESPACE","\n    ",827],"}",["T_WHITESPACE","\n\n    ",828],["T_COMMENT","\/**********************\/",830],["T_WHITESPACE","\n    ",830],["T_DOC_COMMENT","\/** Getters \/ Setters *\/",831],["T_WHITESPACE","\n    ",831],["T_COMMENT","\/**********************\/",832],["T_WHITESPACE","\n\n    ",832],["T_DOC_COMMENT","\/**\n     * Sets the advancedClient\n     *\n     * @param \\Evernote\\AdvancedClient $advancedClient\n     *\/",834],["T_WHITESPACE","\n    ",838],["T_PUBLIC","public",839],["T_WHITESPACE"," ",839],["T_FUNCTION","function",839],["T_WHITESPACE"," ",839],["T_STRING","setAdvancedClient",839],"(",["T_VARIABLE","$advancedClient",839],")",["T_WHITESPACE","\n    ",839],"{",["T_WHITESPACE","\n        ",840],["T_VARIABLE","$this",841],["T_OBJECT_OPERATOR","->",841],["T_STRING","advancedClient",841],["T_WHITESPACE"," ",841],"=",["T_WHITESPACE"," ",841],["T_VARIABLE","$advancedClient",841],";",["T_WHITESPACE","\n    ",841],"}",["T_WHITESPACE","\n\n    ",842],["T_DOC_COMMENT","\/**\n     * Returns the advancedClient\n     *\n     * @return \\Evernote\\AdvancedClient\n     *\/",844],["T_WHITESPACE","\n    ",848],["T_PUBLIC","public",849],["T_WHITESPACE"," ",849],["T_FUNCTION","function",849],["T_WHITESPACE"," ",849],["T_STRING","getAdvancedClient",849],"(",")",["T_WHITESPACE","\n    ",849],"{",["T_WHITESPACE","\n        ",850],["T_IF","if",851],["T_WHITESPACE"," ",851],"(",["T_STRING","null",851],["T_WHITESPACE"," ",851],["T_IS_IDENTICAL","===",851],["T_WHITESPACE"," ",851],["T_VARIABLE","$this",851],["T_OBJECT_OPERATOR","->",851],["T_STRING","advancedClient",851],")",["T_WHITESPACE"," ",851],"{",["T_WHITESPACE","\n            ",851],["T_VARIABLE","$this",852],["T_OBJECT_OPERATOR","->",852],["T_STRING","advancedClient",852],["T_WHITESPACE"," ",852],"=",["T_WHITESPACE"," ",852],["T_NEW","new",852],["T_WHITESPACE"," ",852],["T_STRING","AdvancedClient",852],"(",["T_VARIABLE","$this",852],["T_OBJECT_OPERATOR","->",852],["T_STRING","getToken",852],"(",")",",",["T_WHITESPACE"," ",852],["T_VARIABLE","$this",852],["T_OBJECT_OPERATOR","->",852],["T_STRING","sandbox",852],",",["T_WHITESPACE"," ",852],["T_STRING","null",852],",",["T_WHITESPACE"," ",852],["T_VARIABLE","$this",852],["T_OBJECT_OPERATOR","->",852],["T_STRING","logger",852],",",["T_WHITESPACE"," ",852],["T_VARIABLE","$this",852],["T_OBJECT_OPERATOR","->",852],["T_STRING","china",852],")",";",["T_WHITESPACE","\n        ",852],"}",["T_WHITESPACE","\n\n        ",853],["T_RETURN","return",855],["T_WHITESPACE"," ",855],["T_VARIABLE","$this",855],["T_OBJECT_OPERATOR","->",855],["T_STRING","advancedClient",855],";",["T_WHITESPACE","\n    ",855],"}",["T_WHITESPACE","\n\n    ",856],["T_DOC_COMMENT","\/**\n     * Sets the sandbox flag to true or false\n     *\n     * @param boolean $sandbox\n     *\/",858],["T_WHITESPACE","\n    ",862],["T_PUBLIC","public",863],["T_WHITESPACE"," ",863],["T_FUNCTION","function",863],["T_WHITESPACE"," ",863],["T_STRING","setSandbox",863],"(",["T_VARIABLE","$sandbox",863],")",["T_WHITESPACE","\n    ",863],"{",["T_WHITESPACE","\n        ",864],["T_VARIABLE","$this",865],["T_OBJECT_OPERATOR","->",865],["T_STRING","sandbox",865],["T_WHITESPACE"," ",865],"=",["T_WHITESPACE"," ",865],["T_VARIABLE","$sandbox",865],";",["T_WHITESPACE","\n    ",865],"}",["T_WHITESPACE","\n\n    ",866],["T_DOC_COMMENT","\/**\n     * Gets the current sandbox flag\n     *\n     * @return boolean\n     *\/",868],["T_WHITESPACE","\n    ",872],["T_PUBLIC","public",873],["T_WHITESPACE"," ",873],["T_FUNCTION","function",873],["T_WHITESPACE"," ",873],["T_STRING","getSandbox",873],"(",")",["T_WHITESPACE","\n    ",873],"{",["T_WHITESPACE","\n        ",874],["T_RETURN","return",875],["T_WHITESPACE"," ",875],["T_VARIABLE","$this",875],["T_OBJECT_OPERATOR","->",875],["T_STRING","sandbox",875],";",["T_WHITESPACE","\n    ",875],"}",["T_WHITESPACE","\n\n    ",876],["T_DOC_COMMENT","\/**\n     * Sets the china flag to true or false\n     *\n     * @param boolean $china\n     *\/",878],["T_WHITESPACE","\n    ",882],["T_PUBLIC","public",883],["T_WHITESPACE"," ",883],["T_FUNCTION","function",883],["T_WHITESPACE"," ",883],["T_STRING","setChina",883],"(",["T_VARIABLE","$china",883],")",["T_WHITESPACE","\n    ",883],"{",["T_WHITESPACE","\n        ",884],["T_VARIABLE","$this",885],["T_OBJECT_OPERATOR","->",885],["T_STRING","china",885],["T_WHITESPACE"," ",885],"=",["T_WHITESPACE"," ",885],["T_VARIABLE","$china",885],";",["T_WHITESPACE","\n    ",885],"}",["T_WHITESPACE","\n\n    ",886],["T_DOC_COMMENT","\/**\n     * Gets the current china flag\n     *\n     * @return boolean\n     *\/",888],["T_WHITESPACE","\n    ",892],["T_PUBLIC","public",893],["T_WHITESPACE"," ",893],["T_FUNCTION","function",893],["T_WHITESPACE"," ",893],["T_STRING","getChina",893],"(",")",["T_WHITESPACE","\n    ",893],"{",["T_WHITESPACE","\n        ",894],["T_RETURN","return",895],["T_WHITESPACE"," ",895],["T_VARIABLE","$this",895],["T_OBJECT_OPERATOR","->",895],["T_STRING","china",895],";",["T_WHITESPACE","\n    ",895],"}",["T_WHITESPACE"," \n\n    ",896],["T_DOC_COMMENT","\/**\n     * Sets the authentication token\n     *\n     * @param string $token\n     *\/",898],["T_WHITESPACE","\n    ",902],["T_PUBLIC","public",903],["T_WHITESPACE"," ",903],["T_FUNCTION","function",903],["T_WHITESPACE"," ",903],["T_STRING","setToken",903],"(",["T_VARIABLE","$token",903],")",["T_WHITESPACE","\n    ",903],"{",["T_WHITESPACE","\n        ",904],["T_VARIABLE","$this",905],["T_OBJECT_OPERATOR","->",905],["T_STRING","token",905],["T_WHITESPACE"," ",905],"=",["T_WHITESPACE"," ",905],["T_VARIABLE","$token",905],";",["T_WHITESPACE","\n    ",905],"}",["T_WHITESPACE","\n\n    ",906],["T_DOC_COMMENT","\/**\n     * Returns the current authentication token\n     *\n     * @return string\n     *\/",908],["T_WHITESPACE","\n    ",912],["T_PUBLIC","public",913],["T_WHITESPACE"," ",913],["T_FUNCTION","function",913],["T_WHITESPACE"," ",913],["T_STRING","getToken",913],"(",")",["T_WHITESPACE","\n    ",913],"{",["T_WHITESPACE","\n        ",914],["T_RETURN","return",915],["T_WHITESPACE"," ",915],["T_VARIABLE","$this",915],["T_OBJECT_OPERATOR","->",915],["T_STRING","token",915],";",["T_WHITESPACE","\n    ",915],"}",["T_WHITESPACE","\n\n    ",916],["T_COMMENT","\/**************************\/",918],["T_WHITESPACE","\n\n    ",918],["T_COMMENT","\/***************************\/",920],["T_WHITESPACE","\n    ",920],["T_COMMENT","\/**** protected methods ****\/",921],["T_WHITESPACE","\n    ",921],["T_COMMENT","\/***************************\/",922],["T_WHITESPACE","\n\n    ",922],["T_PROTECTED","protected",924],["T_WHITESPACE"," ",924],["T_FUNCTION","function",924],["T_WHITESPACE"," ",924],["T_STRING","getNoteStore",924],"(",["T_VARIABLE","$noteStoreUrl",924],")",["T_WHITESPACE","\n    ",924],"{",["T_WHITESPACE","\n        ",925],["T_RETURN","return",926],["T_WHITESPACE"," ",926],["T_VARIABLE","$this",926],["T_OBJECT_OPERATOR","->",926],["T_STRING","getAdvancedClient",926],"(",")",["T_OBJECT_OPERATOR","->",926],["T_STRING","getNoteStore",926],"(",["T_VARIABLE","$noteStoreUrl",926],")",";",["T_WHITESPACE","\n    ",926],"}",["T_WHITESPACE","\n\n    ",927],["T_PROTECTED","protected",929],["T_WHITESPACE"," ",929],["T_FUNCTION","function",929],["T_WHITESPACE"," ",929],["T_STRING","getShareUrl",929],"(",["T_VARIABLE","$guid",929],",",["T_WHITESPACE"," ",929],["T_VARIABLE","$shardId",929],",",["T_WHITESPACE"," ",929],["T_VARIABLE","$shareKey",929],",",["T_WHITESPACE"," ",929],["T_VARIABLE","$serviceHost",929],")",["T_WHITESPACE","\n    ",929],"{",["T_WHITESPACE","\n        ",930],["T_RETURN","return",931],["T_WHITESPACE"," ",931],["T_VARIABLE","$serviceHost",931],["T_WHITESPACE"," ",931],".",["T_WHITESPACE"," ",931],["T_CONSTANT_ENCAPSED_STRING","\"\/shard\/\"",931],["T_WHITESPACE"," ",931],".",["T_WHITESPACE"," ",931],["T_VARIABLE","$shardId",931],["T_WHITESPACE"," ",931],".",["T_WHITESPACE"," ",931],["T_CONSTANT_ENCAPSED_STRING","\"\/sh\/\"",931],["T_WHITESPACE"," ",931],".",["T_WHITESPACE"," ",931],["T_VARIABLE","$guid",931],["T_WHITESPACE"," ",931],".",["T_WHITESPACE"," ",931],["T_CONSTANT_ENCAPSED_STRING","\"\/\"",931],["T_WHITESPACE"," ",931],".",["T_WHITESPACE"," ",931],["T_VARIABLE","$shareKey",931],";",["T_WHITESPACE","\n    ",931],"}",["T_WHITESPACE","\n\n    ",932],["T_PROTECTED","protected",934],["T_WHITESPACE"," ",934],["T_FUNCTION","function",934],["T_WHITESPACE"," ",934],["T_STRING","getSharedNotebookAuthResult",934],"(",["T_STRING","LinkedNotebook",934],["T_WHITESPACE"," ",934],["T_VARIABLE","$linkedNotebook",934],")",["T_WHITESPACE","\n    ",934],"{",["T_WHITESPACE","\n        ",935],["T_VARIABLE","$sharedNoteStore",936],["T_WHITESPACE"," ",936],"=",["T_WHITESPACE"," ",936],["T_VARIABLE","$this",936],["T_OBJECT_OPERATOR","->",936],["T_STRING","getNotestore",936],"(",["T_VARIABLE","$linkedNotebook",936],["T_OBJECT_OPERATOR","->",936],["T_STRING","noteStoreUrl",936],")",";",["T_WHITESPACE","\n        ",936],["T_RETURN","return",937],["T_WHITESPACE"," ",937],["T_VARIABLE","$sharedNoteStore",937],["T_OBJECT_OPERATOR","->",937],["T_STRING","authenticateToSharedNotebook",937],"(",["T_VARIABLE","$linkedNotebook",937],["T_OBJECT_OPERATOR","->",937],["T_STRING","shareKey",937],",",["T_WHITESPACE"," ",937],["T_VARIABLE","$this",937],["T_OBJECT_OPERATOR","->",937],["T_STRING","token",937],")",";",["T_WHITESPACE","\n    ",937],"}",["T_WHITESPACE","\n\n    ",938],["T_PROTECTED","protected",940],["T_WHITESPACE"," ",940],["T_FUNCTION","function",940],["T_WHITESPACE"," ",940],["T_STRING","getNoteBookByLinkedNotebook",940],"(",["T_STRING","LinkedNotebook",940],["T_WHITESPACE"," ",940],["T_VARIABLE","$linkedNotebook",940],")",["T_WHITESPACE","\n    ",940],"{",["T_WHITESPACE","\n        ",941],["T_VARIABLE","$sharedNoteStore",942],["T_WHITESPACE"," ",942],"=",["T_WHITESPACE"," ",942],["T_VARIABLE","$this",942],["T_OBJECT_OPERATOR","->",942],["T_STRING","getNotestore",942],"(",["T_VARIABLE","$linkedNotebook",942],["T_OBJECT_OPERATOR","->",942],["T_STRING","noteStoreUrl",942],")",";",["T_WHITESPACE","\n        ",942],["T_VARIABLE","$authToken",943],["T_WHITESPACE"," ",943],"=",["T_WHITESPACE"," ",943],["T_VARIABLE","$this",943],["T_OBJECT_OPERATOR","->",943],["T_STRING","getSharedNotebookAuthResult",943],"(",["T_VARIABLE","$linkedNotebook",943],")",["T_OBJECT_OPERATOR","->",943],["T_STRING","authenticationToken",943],";",["T_WHITESPACE","\n        ",943],["T_VARIABLE","$sharedNotebook",944],["T_WHITESPACE"," ",944],"=",["T_WHITESPACE"," ",944],["T_VARIABLE","$sharedNoteStore",944],["T_OBJECT_OPERATOR","->",944],["T_STRING","getSharedNotebookByAuth",944],"(",["T_VARIABLE","$authToken",944],")",";",["T_WHITESPACE","\n\n        ",944],["T_VARIABLE","$notebook",946],["T_WHITESPACE"," ",946],"=",["T_WHITESPACE"," ",946],["T_NEW","new",946],["T_WHITESPACE"," ",946],["T_STRING","Notebook",946],"(",["T_STRING","null",946],",",["T_WHITESPACE"," ",946],["T_VARIABLE","$linkedNotebook",946],",",["T_WHITESPACE"," ",946],["T_VARIABLE","$sharedNotebook",946],")",";",["T_WHITESPACE","\n\n        ",946],["T_VARIABLE","$notebook",948],["T_OBJECT_OPERATOR","->",948],["T_STRING","authToken",948],["T_WHITESPACE"," ",948],"=",["T_WHITESPACE"," ",948],["T_VARIABLE","$authToken",948],";",["T_WHITESPACE","\n\n        ",948],["T_RETURN","return",950],["T_WHITESPACE"," ",950],["T_VARIABLE","$notebook",950],";",["T_WHITESPACE","\n    ",950],"}",["T_WHITESPACE","\n\n\n    ",951],["T_DOC_COMMENT","\/**\n     * @return \\EDAM\\UserStore\\AuthenticationResult\n     * @throws \\Exception\n     *\/",954],["T_WHITESPACE","\n    ",957],["T_PROTECTED","protected",958],["T_WHITESPACE"," ",958],["T_FUNCTION","function",958],["T_WHITESPACE"," ",958],["T_STRING","getBusinessAuth",958],"(",")",["T_WHITESPACE","\n    ",958],"{",["T_WHITESPACE","\n        ",959],["T_IF","if",960],["T_WHITESPACE"," ",960],"(",["T_STRING","null",960],["T_WHITESPACE"," ",960],["T_IS_IDENTICAL","===",960],["T_WHITESPACE"," ",960],["T_VARIABLE","$this",960],["T_OBJECT_OPERATOR","->",960],["T_STRING","businessAuth",960],")",["T_WHITESPACE"," ",960],"{",["T_WHITESPACE","\n            ",960],["T_TRY","try",961],["T_WHITESPACE"," ",961],"{",["T_WHITESPACE","\n                ",961],["T_VARIABLE","$this",962],["T_OBJECT_OPERATOR","->",962],["T_STRING","businessAuth",962],["T_WHITESPACE"," ",962],"=",["T_WHITESPACE","\n                    ",962],["T_VARIABLE","$this",963],["T_OBJECT_OPERATOR","->",963],["T_STRING","getAdvancedClient",963],"(",")",["T_WHITESPACE","\n                        ",963],["T_OBJECT_OPERATOR","->",964],["T_STRING","getUserStore",964],"(",")",["T_OBJECT_OPERATOR","->",964],["T_STRING","authenticateToBusiness",964],"(",["T_VARIABLE","$this",964],["T_OBJECT_OPERATOR","->",964],["T_STRING","token",964],")",";",["T_WHITESPACE","\n            ",964],"}",["T_WHITESPACE"," ",965],["T_CATCH","catch",965],["T_WHITESPACE"," ",965],"(",["T_NS_SEPARATOR","\\",965],["T_STRING","Exception",965],["T_WHITESPACE"," ",965],["T_VARIABLE","$e",965],")",["T_WHITESPACE"," ",965],"{",["T_WHITESPACE","\n                ",965],["T_THROW","throw",966],["T_WHITESPACE"," ",966],["T_STRING","ExceptionFactory",966],["T_DOUBLE_COLON","::",966],["T_STRING","create",966],"(",["T_VARIABLE","$e",966],")",";",["T_WHITESPACE","\n            ",966],"}",["T_WHITESPACE","\n        ",967],"}",["T_WHITESPACE","\n\n        ",968],["T_RETURN","return",970],["T_WHITESPACE"," ",970],["T_VARIABLE","$this",970],["T_OBJECT_OPERATOR","->",970],["T_STRING","businessAuth",970],";",["T_WHITESPACE","\n    ",970],"}",["T_WHITESPACE","\n\n    ",971],["T_PROTECTED","protected",973],["T_WHITESPACE"," ",973],["T_FUNCTION","function",973],["T_WHITESPACE"," ",973],["T_STRING","getNoteInstance",973],"(",["T_NS_SEPARATOR","\\",973],["T_STRING","EDAM",973],["T_NS_SEPARATOR","\\",973],["T_STRING","Types",973],["T_NS_SEPARATOR","\\",973],["T_STRING","Note",973],["T_WHITESPACE"," ",973],["T_VARIABLE","$edamNote",973],["T_WHITESPACE"," ",973],"=",["T_WHITESPACE"," ",973],["T_STRING","null",973],",",["T_WHITESPACE"," ",973],["T_VARIABLE","$noteStore",973],["T_WHITESPACE"," ",973],"=",["T_WHITESPACE"," ",973],["T_STRING","null",973],",",["T_WHITESPACE"," ",973],["T_VARIABLE","$token",973],["T_WHITESPACE"," ",973],"=",["T_WHITESPACE"," ",973],["T_STRING","null",973],")",["T_WHITESPACE","\n    ",973],"{",["T_WHITESPACE","\n        ",974],["T_VARIABLE","$note",975],["T_WHITESPACE"," ",975],"=",["T_WHITESPACE"," ",975],["T_NEW","new",975],["T_WHITESPACE"," ",975],["T_STRING","Note",975],"(",["T_VARIABLE","$edamNote",975],")",";",["T_WHITESPACE","\n\n        ",975],["T_VARIABLE","$note",977],["T_OBJECT_OPERATOR","->",977],["T_STRING","authToken",977],["T_WHITESPACE"," ",977],"=",["T_WHITESPACE"," ",977],["T_VARIABLE","$token",977],";",["T_WHITESPACE","\n\n        ",977],["T_VARIABLE","$note",979],["T_OBJECT_OPERATOR","->",979],["T_STRING","noteStore",979],["T_WHITESPACE"," ",979],"=",["T_WHITESPACE"," ",979],["T_VARIABLE","$noteStore",979],";",["T_WHITESPACE","\n\n        ",979],["T_RETURN","return",981],["T_WHITESPACE"," ",981],["T_VARIABLE","$note",981],";",["T_WHITESPACE","\n    ",981],"}",["T_WHITESPACE","\n\n    ",982],["T_PROTECTED","protected",984],["T_WHITESPACE"," ",984],["T_FUNCTION","function",984],["T_WHITESPACE"," ",984],["T_STRING","getShardIdFromToken",984],"(",["T_VARIABLE","$token",984],")",["T_WHITESPACE","\n    ",984],"{",["T_WHITESPACE","\n        ",985],["T_VARIABLE","$result",986],["T_WHITESPACE"," ",986],"=",["T_WHITESPACE"," ",986],["T_STRING","preg_match",986],"(",["T_CONSTANT_ENCAPSED_STRING","'\/:?S=(s[0-9]+):?\/'",986],",",["T_WHITESPACE"," ",986],["T_VARIABLE","$token",986],",",["T_WHITESPACE"," ",986],["T_VARIABLE","$matches",986],")",";",["T_WHITESPACE","\n\n        ",986],["T_IF","if",988],["T_WHITESPACE"," ",988],"(",["T_VARIABLE","$result",988],["T_WHITESPACE"," ",988],["T_IS_IDENTICAL","===",988],["T_WHITESPACE"," ",988],["T_LNUMBER","1",988],["T_WHITESPACE"," ",988],["T_BOOLEAN_AND","&&",988],["T_WHITESPACE"," ",988],["T_STRING","array_key_exists",988],"(",["T_LNUMBER","1",988],",",["T_WHITESPACE"," ",988],["T_VARIABLE","$matches",988],")",")",["T_WHITESPACE"," ",988],"{",["T_WHITESPACE","\n            ",988],["T_RETURN","return",989],["T_WHITESPACE"," ",989],["T_VARIABLE","$matches",989],"[",["T_LNUMBER","1",989],"]",";",["T_WHITESPACE","\n        ",989],"}",["T_WHITESPACE","\n\n        ",990],["T_RETURN","return",992],["T_WHITESPACE"," ",992],["T_STRING","null",992],";",["T_WHITESPACE","\n    ",992],"}",["T_WHITESPACE","\n\n    ",993],["T_PROTECTED","protected",995],["T_WHITESPACE"," ",995],["T_FUNCTION","function",995],["T_WHITESPACE"," ",995],["T_STRING","isFlagSet",995],"(",["T_VARIABLE","$flags",995],",",["T_WHITESPACE"," ",995],["T_VARIABLE","$flag",995],")",["T_WHITESPACE","\n    ",995],"{",["T_WHITESPACE","\n        ",996],["T_RETURN","return",997],["T_WHITESPACE"," ",997],"!","!","(","(",["T_VARIABLE","$flags",997],")",["T_WHITESPACE"," ",997],"&",["T_WHITESPACE"," ",997],"(",["T_VARIABLE","$flag",997],")",")",";",["T_WHITESPACE","\n    ",997],"}",["T_WHITESPACE","\n\n    ",998],["T_PROTECTED","protected",1000],["T_WHITESPACE"," ",1000],["T_FUNCTION","function",1000],["T_WHITESPACE"," ",1000],["T_STRING","findNotes_listNotebooksWithContext",1000],"(",["T_VARIABLE","$context",1000],")",["T_WHITESPACE","\n    ",1000],"{",["T_WHITESPACE","\n        \n        ",1001],["T_COMMENT","\/\/ XXX: We do the full listNotebooks operation here, which is overkill in all situations,\n",1003],["T_WHITESPACE","        ",1004],["T_COMMENT","\/\/ and could wind us up doing a bunch of extra work. Optimization is to only look at -listNotebooks\n",1004],["T_WHITESPACE","        ",1005],["T_COMMENT","\/\/ if we're personal scope, and -listLinkedNotebooks for linked and business, without ever\n",1005],["T_WHITESPACE","        ",1006],["T_COMMENT","\/\/ authenticating to other note stores.\n",1006],["T_WHITESPACE","        ",1007],["T_VARIABLE","$notebooks",1007],["T_WHITESPACE"," ",1007],"=",["T_WHITESPACE"," ",1007],["T_VARIABLE","$this",1007],["T_OBJECT_OPERATOR","->",1007],["T_STRING","listNotebooks",1007],"(",")",";",["T_WHITESPACE","\n\n        ",1007],["T_IF","if",1009],["T_WHITESPACE"," ",1009],"(",["T_VARIABLE","$notebooks",1009],")",["T_WHITESPACE"," ",1009],"{",["T_WHITESPACE","\n            ",1009],["T_VARIABLE","$context",1010],["T_OBJECT_OPERATOR","->",1010],["T_STRING","allNotebooks",1010],["T_WHITESPACE"," ",1010],"=",["T_WHITESPACE"," ",1010],["T_VARIABLE","$notebooks",1010],";",["T_WHITESPACE","\n            ",1010],["T_RETURN","return",1011],["T_WHITESPACE"," ",1011],["T_VARIABLE","$this",1011],["T_OBJECT_OPERATOR","->",1011],["T_STRING","findNotes_findInPersonalScopeWithContext",1011],"(",["T_VARIABLE","$context",1011],")",";",["T_WHITESPACE","\n        ",1011],"}",["T_WHITESPACE"," ",1012],["T_ELSE","else",1012],["T_WHITESPACE"," ",1012],"{",["T_WHITESPACE","\n            ",1012],["T_COMMENT","\/\/ TODO : handle error\n",1013],["T_WHITESPACE","        ",1014],"}",["T_WHITESPACE","\n    ",1014],"}",["T_WHITESPACE","\n\n    ",1015],["T_PROTECTED","protected",1017],["T_WHITESPACE"," ",1017],["T_FUNCTION","function",1017],["T_WHITESPACE"," ",1017],["T_STRING","findNotes_findInPersonalScopeWithContext",1017],"(",["T_VARIABLE","$context",1017],")",["T_WHITESPACE","\n    ",1017],"{",["T_WHITESPACE","\n        ",1018],["T_VARIABLE","$skipPersonalScope",1019],["T_WHITESPACE"," ",1019],"=",["T_WHITESPACE"," ",1019],["T_STRING","false",1019],";",["T_WHITESPACE","\n\n        ",1019],["T_COMMENT","\/\/ Skip the personal scope if the scope notebook isn't personal, or if the scope\n",1021],["T_WHITESPACE","        ",1022],["T_COMMENT","\/\/ flag doesn't include personal.\n",1022],["T_WHITESPACE","        ",1023],["T_IF","if",1023],["T_WHITESPACE"," ",1023],"(",["T_VARIABLE","$context",1023],["T_OBJECT_OPERATOR","->",1023],["T_STRING","scopeNotebook",1023],")",["T_WHITESPACE"," ",1023],"{",["T_WHITESPACE","\n            ",1023],["T_COMMENT","\/\/ If the scope notebook isn't personal, skip personal.\n",1024],["T_WHITESPACE","            ",1025],["T_IF","if",1025],["T_WHITESPACE"," ",1025],"(",["T_VARIABLE","$context",1025],["T_OBJECT_OPERATOR","->",1025],["T_STRING","scopeNotebook",1025],["T_OBJECT_OPERATOR","->",1025],["T_STRING","isLinkedNotebook",1025],"(",")",")",["T_WHITESPACE"," ",1025],"{",["T_WHITESPACE","\n                ",1025],["T_VARIABLE","$skipPersonalScope",1026],["T_WHITESPACE"," ",1026],"=",["T_WHITESPACE"," ",1026],["T_STRING","true",1026],";",["T_WHITESPACE","\n            ",1026],"}",["T_WHITESPACE","\n        ",1027],"}",["T_WHITESPACE"," ",1028],["T_ELSE","else",1028],["T_WHITESPACE"," ",1028],["T_IF","if",1028],["T_WHITESPACE"," ",1028],"(","!",["T_VARIABLE","$this",1028],["T_OBJECT_OPERATOR","->",1028],["T_STRING","isFlagSet",1028],"(",["T_VARIABLE","$context",1028],["T_OBJECT_OPERATOR","->",1028],["T_STRING","scope",1028],",",["T_WHITESPACE"," ",1028],["T_STRING","self",1028],["T_DOUBLE_COLON","::",1028],["T_STRING","SEARCH_SCOPE_PERSONAL",1028],")",")",["T_WHITESPACE"," ",1028],"{",["T_WHITESPACE","\n            ",1028],["T_COMMENT","\/\/ If the caller didn't request personal scope.\n",1029],["T_WHITESPACE","            ",1030],["T_VARIABLE","$skipPersonalScope",1030],["T_WHITESPACE"," ",1030],"=",["T_WHITESPACE"," ",1030],["T_STRING","true",1030],";",["T_WHITESPACE","\n        ",1030],"}",["T_WHITESPACE","\n        ",1031],["T_COMMENT","\/\/ TODO : handle linked app notebook\n",1032],["T_COMMENT","\/\/        else if ([self appNotebookIsLinked]) {\n",1033],["T_COMMENT","\/\/        \/\/ If we know this is an app notebook scoped app, and we know the app notebook is not personal.\n",1034],["T_COMMENT","\/\/        $skipPersonalScope = true;\n",1035],["T_COMMENT","\/\/        }\n",1036],["T_WHITESPACE","\n        ",1037],["T_COMMENT","\/\/ If we're skipping personal scope, proceed directly to busines scope.\n",1038],["T_WHITESPACE","        ",1039],["T_IF","if",1039],["T_WHITESPACE"," ",1039],"(",["T_STRING","true",1039],["T_WHITESPACE"," ",1039],["T_IS_IDENTICAL","===",1039],["T_WHITESPACE"," ",1039],["T_VARIABLE","$skipPersonalScope",1039],")",["T_WHITESPACE"," ",1039],"{",["T_WHITESPACE","\n            ",1039],["T_RETURN","return",1040],["T_WHITESPACE"," ",1040],["T_VARIABLE","$this",1040],["T_OBJECT_OPERATOR","->",1040],["T_STRING","findNotes_findInBusinessScopeWithContext",1040],"(",["T_VARIABLE","$context",1040],")",";",["T_WHITESPACE","\n        ",1040],"}",["T_WHITESPACE","\n\n        ",1041],["T_VARIABLE","$notesMetadataList",1043],["T_WHITESPACE"," ",1043],"=",["T_WHITESPACE"," ",1043],["T_VARIABLE","$this",1043],["T_OBJECT_OPERATOR","->",1043],["T_STRING","getUserNotestore",1043],"(",")",["T_OBJECT_OPERATOR","->",1043],["T_STRING","findNotesMetadata",1043],"(",["T_WHITESPACE","\n            ",1043],["T_VARIABLE","$this",1044],["T_OBJECT_OPERATOR","->",1044],["T_STRING","token",1044],",",["T_WHITESPACE","\n            ",1044],["T_VARIABLE","$context",1045],["T_OBJECT_OPERATOR","->",1045],["T_STRING","noteFilter",1045],",",["T_WHITESPACE","\n            ",1045],["T_LNUMBER","0",1046],",",["T_WHITESPACE","\n            ",1046],["T_VARIABLE","$context",1047],["T_OBJECT_OPERATOR","->",1047],["T_STRING","maxResults",1047],",",["T_WHITESPACE","\n            ",1047],["T_VARIABLE","$context",1048],["T_OBJECT_OPERATOR","->",1048],["T_STRING","resultSpec",1048],["T_WHITESPACE","\n        ",1048],")",";",["T_WHITESPACE","\n\n        ",1049],["T_FOREACH","foreach",1051],["T_WHITESPACE"," ",1051],"(",["T_VARIABLE","$notesMetadataList",1051],["T_OBJECT_OPERATOR","->",1051],["T_STRING","notes",1051],["T_WHITESPACE"," ",1051],["T_AS","as",1051],["T_WHITESPACE"," ",1051],["T_VARIABLE","$notesMetadata",1051],")",["T_WHITESPACE"," ",1051],"{",["T_WHITESPACE","\n            ",1051],["T_VARIABLE","$context",1052],["T_OBJECT_OPERATOR","->",1052],["T_STRING","findMetadataResults",1052],"[","]",["T_WHITESPACE"," ",1052],"=",["T_WHITESPACE"," ",1052],["T_VARIABLE","$notesMetadata",1052],";",["T_WHITESPACE","\n        ",1052],"}",["T_WHITESPACE","\n\n        ",1053],["T_RETURN","return",1055],["T_WHITESPACE"," ",1055],["T_VARIABLE","$this",1055],["T_OBJECT_OPERATOR","->",1055],["T_STRING","findNotes_findInBusinessScopeWithContext",1055],"(",["T_VARIABLE","$context",1055],")",";",["T_WHITESPACE","\n    ",1055],"}",["T_WHITESPACE","\n\n    ",1056],["T_PROTECTED","protected",1058],["T_WHITESPACE"," ",1058],["T_FUNCTION","function",1058],["T_WHITESPACE"," ",1058],["T_STRING","findNotes_findInBusinessScopeWithContext",1058],"(",["T_VARIABLE","$context",1058],")",["T_WHITESPACE","\n    ",1058],"{",["T_WHITESPACE","\n        \n        ",1059],["T_COMMENT","\/\/ Skip the business scope if the user is not a business user, or the scope notebook\n",1061],["T_WHITESPACE","        ",1062],["T_COMMENT","\/\/ is not a business notebook, or the business scope is not included.\n",1062],["T_WHITESPACE","        ",1063],["T_IF","if",1063],["T_WHITESPACE"," ",1063],"(",["T_STRING","false",1063],["T_WHITESPACE"," ",1063],["T_IS_IDENTICAL","===",1063],["T_WHITESPACE"," ",1063],["T_VARIABLE","$this",1063],["T_OBJECT_OPERATOR","->",1063],["T_STRING","isBusinessUser",1063],"(",")",["T_WHITESPACE"," ",1063],["T_BOOLEAN_OR","||",1063],["T_WHITESPACE","\n            ",1063],"(",["T_VARIABLE","$context",1064],["T_OBJECT_OPERATOR","->",1064],["T_STRING","scopeNotebook",1064],["T_WHITESPACE"," ",1064],["T_BOOLEAN_AND","&&",1064],["T_WHITESPACE"," ",1064],"!",["T_VARIABLE","$context",1064],["T_OBJECT_OPERATOR","->",1064],["T_STRING","scopeNotebook",1064],["T_OBJECT_OPERATOR","->",1064],["T_STRING","isBusinessNotebook",1064],"(",")",")",["T_WHITESPACE"," ",1064],["T_BOOLEAN_OR","||",1064],["T_WHITESPACE","\n            ",1064],"(","!",["T_VARIABLE","$context",1065],["T_OBJECT_OPERATOR","->",1065],["T_STRING","scopeNotebook",1065],["T_WHITESPACE"," ",1065],["T_BOOLEAN_AND","&&",1065],["T_WHITESPACE"," ",1065],"!",["T_VARIABLE","$this",1065],["T_OBJECT_OPERATOR","->",1065],["T_STRING","isFlagSet",1065],"(",["T_VARIABLE","$context",1065],["T_OBJECT_OPERATOR","->",1065],["T_STRING","scope",1065],",",["T_WHITESPACE"," ",1065],["T_STRING","self",1065],["T_DOUBLE_COLON","::",1065],["T_STRING","SEARCH_SCOPE_BUSINESS",1065],")",")",["T_WHITESPACE","\n        ",1065],")",["T_WHITESPACE"," ",1066],"{",["T_WHITESPACE","\n            ",1066],["T_RETURN","return",1067],["T_WHITESPACE"," ",1067],["T_VARIABLE","$this",1067],["T_OBJECT_OPERATOR","->",1067],["T_STRING","findNotes_findInLinkedScopeWithContext",1067],"(",["T_VARIABLE","$context",1067],")",";",["T_WHITESPACE","\n        ",1067],"}",["T_WHITESPACE","\n\n        ",1068],["T_VARIABLE","$notesMetadataList",1070],["T_WHITESPACE"," ",1070],"=",["T_WHITESPACE"," ",1070],["T_VARIABLE","$this",1070],["T_OBJECT_OPERATOR","->",1070],["T_STRING","getBusinessNoteStore",1070],"(",")",["T_OBJECT_OPERATOR","->",1070],["T_STRING","findNotesMetadata",1070],"(",["T_WHITESPACE","\n            ",1070],["T_VARIABLE","$this",1071],["T_OBJECT_OPERATOR","->",1071],["T_STRING","getBusinessToken",1071],"(",")",",",["T_WHITESPACE","\n            ",1071],["T_VARIABLE","$context",1072],["T_OBJECT_OPERATOR","->",1072],["T_STRING","noteFilter",1072],",",["T_WHITESPACE","\n            ",1072],["T_LNUMBER","0",1073],",",["T_WHITESPACE","\n            ",1073],["T_VARIABLE","$context",1074],["T_OBJECT_OPERATOR","->",1074],["T_STRING","maxResults",1074],",",["T_WHITESPACE","\n            ",1074],["T_VARIABLE","$context",1075],["T_OBJECT_OPERATOR","->",1075],["T_STRING","resultSpec",1075],["T_WHITESPACE","\n        ",1075],")",";",["T_WHITESPACE","\n\n        ",1076],["T_FOREACH","foreach",1078],["T_WHITESPACE"," ",1078],"(",["T_VARIABLE","$notesMetadataList",1078],["T_OBJECT_OPERATOR","->",1078],["T_STRING","notes",1078],["T_WHITESPACE"," ",1078],["T_AS","as",1078],["T_WHITESPACE"," ",1078],["T_VARIABLE","$notesMetadata",1078],")",["T_WHITESPACE"," ",1078],"{",["T_WHITESPACE","\n            ",1078],["T_VARIABLE","$context",1079],["T_OBJECT_OPERATOR","->",1079],["T_STRING","findMetadataResults",1079],"[","]",["T_WHITESPACE"," ",1079],"=",["T_WHITESPACE"," ",1079],["T_VARIABLE","$notesMetadata",1079],";",["T_WHITESPACE","\n        ",1079],"}",["T_WHITESPACE","\n\n        ",1080],["T_COMMENT","\/\/ Remember which note guids came from the business. We'll use this later to\n",1082],["T_WHITESPACE","        ",1083],["T_COMMENT","\/\/ determine if we're worried about an inability to map back to notebooks.\n",1083],["T_WHITESPACE","        ",1084],["T_VARIABLE","$context",1084],["T_OBJECT_OPERATOR","->",1084],["T_STRING","resultGuidsFromBusiness",1084],["T_WHITESPACE"," ",1084],"=",["T_WHITESPACE"," ",1084],["T_ARRAY","array",1084],"(",")",";",["T_WHITESPACE","\n        ",1084],["T_FOREACH","foreach",1085],["T_WHITESPACE"," ",1085],"(",["T_VARIABLE","$notesMetadataList",1085],["T_OBJECT_OPERATOR","->",1085],["T_STRING","notes",1085],["T_WHITESPACE"," ",1085],["T_AS","as",1085],["T_WHITESPACE"," ",1085],["T_VARIABLE","$noteMetadata",1085],")",["T_WHITESPACE"," ",1085],"{",["T_WHITESPACE","\n            ",1085],["T_VARIABLE","$context",1086],["T_OBJECT_OPERATOR","->",1086],["T_STRING","resultGuidsFromBusiness",1086],"[","]",["T_WHITESPACE"," ",1086],"=",["T_WHITESPACE"," ",1086],["T_VARIABLE","$noteMetadata",1086],["T_OBJECT_OPERATOR","->",1086],["T_STRING","guid",1086],";",["T_WHITESPACE","\n        ",1086],"}",["T_WHITESPACE","\n\n        ",1087],["T_RETURN","return",1089],["T_WHITESPACE"," ",1089],["T_VARIABLE","$this",1089],["T_OBJECT_OPERATOR","->",1089],["T_STRING","findNotes_findInLinkedScopeWithContext",1089],"(",["T_VARIABLE","$context",1089],")",";",["T_WHITESPACE","\n        ",1089],["T_COMMENT","\/\/TODO:\n",1090],["T_WHITESPACE","        ",1091],["T_COMMENT","\/\/ This is a business user, but apparently has an app notebook restriction that's\n",1091],["T_WHITESPACE","        ",1092],["T_COMMENT","\/\/ not in the business. Go look in linked scope.\n",1092],["T_WHITESPACE","    ",1093],"}",["T_WHITESPACE","\n\n    ",1093],["T_PROTECTED","protected",1095],["T_WHITESPACE"," ",1095],["T_FUNCTION","function",1095],["T_WHITESPACE"," ",1095],["T_STRING","findNotes_findInLinkedScopeWithContext",1095],"(",["T_VARIABLE","$context",1095],")",["T_WHITESPACE","\n    ",1095],"{",["T_WHITESPACE","\n        \n        ",1096],["T_COMMENT","\/\/ Skip linked scope if scope notebook is not a personal linked notebook, or if the\n",1098],["T_WHITESPACE","        ",1099],["T_COMMENT","\/\/ linked scope is not included.\n",1099],["T_WHITESPACE","        ",1100],["T_IF","if",1100],["T_WHITESPACE"," ",1100],"(",["T_VARIABLE","$context",1100],["T_OBJECT_OPERATOR","->",1100],["T_STRING","scopeNotebook",1100],")",["T_WHITESPACE"," ",1100],"{",["T_WHITESPACE","\n            ",1100],["T_IF","if",1101],["T_WHITESPACE"," ",1101],"(","!",["T_VARIABLE","$context",1101],["T_OBJECT_OPERATOR","->",1101],["T_STRING","scopeNotebook",1101],["T_OBJECT_OPERATOR","->",1101],["T_STRING","isLinkedNotebook",1101],"(",")",["T_WHITESPACE"," ",1101],["T_BOOLEAN_OR","||",1101],["T_WHITESPACE"," ",1101],"!",["T_VARIABLE","$context",1101],["T_OBJECT_OPERATOR","->",1101],["T_STRING","scopeNotebook",1101],["T_OBJECT_OPERATOR","->",1101],["T_STRING","isBusinessNotebook",1101],"(",")",")",["T_WHITESPACE"," ",1101],"{",["T_WHITESPACE","\n                ",1101],["T_RETURN","return",1102],["T_WHITESPACE"," ",1102],["T_VARIABLE","$this",1102],["T_OBJECT_OPERATOR","->",1102],["T_STRING","findNotes_processResultsWithContext",1102],"(",["T_VARIABLE","$context",1102],")",";",["T_WHITESPACE","\n            ",1102],"}",["T_WHITESPACE","\n        ",1103],"}",["T_WHITESPACE"," ",1104],["T_ELSEIF","elseif",1104],["T_WHITESPACE"," ",1104],"(","!",["T_VARIABLE","$this",1104],["T_OBJECT_OPERATOR","->",1104],["T_STRING","isFlagSet",1104],"(",["T_VARIABLE","$context",1104],["T_OBJECT_OPERATOR","->",1104],["T_STRING","scope",1104],",",["T_WHITESPACE"," ",1104],["T_STRING","self",1104],["T_DOUBLE_COLON","::",1104],["T_STRING","SEARCH_SCOPE_PERSONAL_LINKED",1104],")",")",["T_WHITESPACE"," ",1104],"{",["T_WHITESPACE","\n            ",1104],["T_RETURN","return",1105],["T_WHITESPACE"," ",1105],["T_VARIABLE","$this",1105],["T_OBJECT_OPERATOR","->",1105],["T_STRING","findNotes_processResultsWithContext",1105],"(",["T_VARIABLE","$context",1105],")",";",["T_WHITESPACE","\n        ",1105],"}",["T_WHITESPACE","\n\n        ",1106],["T_COMMENT","\/\/ Build a list of all the linked notebooks that we need to run the search against.\n",1108],["T_WHITESPACE","        ",1109],["T_VARIABLE","$context",1109],["T_OBJECT_OPERATOR","->",1109],["T_STRING","linkedNotebooksToSearch",1109],["T_WHITESPACE"," ",1109],"=",["T_WHITESPACE"," ",1109],["T_ARRAY","array",1109],"(",")",";",["T_WHITESPACE","\n        ",1109],["T_IF","if",1110],["T_WHITESPACE"," ",1110],"(",["T_VARIABLE","$context",1110],["T_OBJECT_OPERATOR","->",1110],["T_STRING","scopeNotebook",1110],")",["T_WHITESPACE"," ",1110],"{",["T_WHITESPACE","\n            ",1110],["T_VARIABLE","$context",1111],["T_OBJECT_OPERATOR","->",1111],["T_STRING","linkedNotebooksToSearch",1111],"[","]",["T_WHITESPACE"," ",1111],"=",["T_WHITESPACE"," ",1111],["T_VARIABLE","$context",1111],["T_OBJECT_OPERATOR","->",1111],["T_STRING","scopeNotebook",1111],";",["T_WHITESPACE","\n        ",1111],"}",["T_WHITESPACE"," ",1112],["T_ELSE","else",1112],["T_WHITESPACE"," ",1112],"{",["T_WHITESPACE","\n            ",1112],["T_FOREACH","foreach",1113],["T_WHITESPACE"," ",1113],"(",["T_VARIABLE","$context",1113],["T_OBJECT_OPERATOR","->",1113],["T_STRING","allNotebooks",1113],["T_WHITESPACE"," ",1113],["T_AS","as",1113],["T_WHITESPACE"," ",1113],["T_VARIABLE","$notebook",1113],")",["T_WHITESPACE"," ",1113],"{",["T_WHITESPACE","\n                ",1113],["T_IF","if",1114],["T_WHITESPACE"," ",1114],"(",["T_VARIABLE","$notebook",1114],["T_OBJECT_OPERATOR","->",1114],["T_STRING","isLinkedNotebook",1114],"(",")",["T_WHITESPACE"," ",1114],["T_BOOLEAN_AND","&&",1114],["T_WHITESPACE"," ",1114],"!",["T_VARIABLE","$notebook",1114],["T_OBJECT_OPERATOR","->",1114],["T_STRING","isBusinessNotebook",1114],"(",")",")",["T_WHITESPACE"," ",1114],"{",["T_WHITESPACE","\n                    ",1114],["T_VARIABLE","$context",1115],["T_OBJECT_OPERATOR","->",1115],["T_STRING","linkedNotebooksToSearch",1115],"[","]",["T_WHITESPACE"," ",1115],"=",["T_WHITESPACE"," ",1115],["T_VARIABLE","$notebook",1115],";",["T_WHITESPACE","\n                ",1115],"}",["T_WHITESPACE","\n            ",1116],"}",["T_WHITESPACE","\n        ",1117],"}",["T_WHITESPACE","\n\n        ",1118],["T_VARIABLE","$this",1120],["T_OBJECT_OPERATOR","->",1120],["T_STRING","findNotes_nextFindInLinkedScopeWithContext",1120],"(",["T_VARIABLE","$context",1120],")",";",["T_WHITESPACE","\n    ",1120],"}",["T_WHITESPACE","\n\n    ",1121],["T_PROTECTED","protected",1123],["T_WHITESPACE"," ",1123],["T_FUNCTION","function",1123],["T_WHITESPACE"," ",1123],["T_STRING","findNotes_nextFindInLinkedScopeWithContext",1123],"(",["T_VARIABLE","$context",1123],")",["T_WHITESPACE","\n    ",1123],"{",["T_WHITESPACE","\n        \n        ",1124],["T_IF","if",1126],["T_WHITESPACE"," ",1126],"(",["T_STRING","count",1126],"(",["T_VARIABLE","$context",1126],["T_OBJECT_OPERATOR","->",1126],["T_STRING","linkedNotebooksToSearch",1126],")",["T_WHITESPACE"," ",1126],["T_IS_EQUAL","==",1126],["T_WHITESPACE"," ",1126],["T_LNUMBER","0",1126],")",["T_WHITESPACE"," ",1126],"{",["T_WHITESPACE","\n            ",1126],["T_VARIABLE","$this",1127],["T_OBJECT_OPERATOR","->",1127],["T_STRING","findNotes_processResultsWithContext",1127],"(",["T_VARIABLE","$context",1127],")",";",["T_WHITESPACE","\n            ",1127],["T_RETURN","return",1128],";",["T_WHITESPACE","\n        ",1128],"}",["T_WHITESPACE","\n\n        ",1129],["T_COMMENT","\/\/ Pull the first notebook off the list of pending linked notebooks.\n",1131],["T_WHITESPACE","        ",1132],["T_VARIABLE","$linkedNotebook",1132],["T_WHITESPACE"," ",1132],"=",["T_WHITESPACE"," ",1132],["T_STRING","array_shift",1132],"(",["T_VARIABLE","$context",1132],["T_OBJECT_OPERATOR","->",1132],["T_STRING","linkedNotebooksToSearch",1132],")",";",["T_WHITESPACE","\n\n\n        ",1132],["T_VARIABLE","$noteStore",1135],["T_WHITESPACE"," ",1135],"=",["T_WHITESPACE"," ",1135],["T_VARIABLE","$this",1135],["T_OBJECT_OPERATOR","->",1135],["T_STRING","getNotestore",1135],"(",["T_VARIABLE","$linkedNotebook",1135],["T_OBJECT_OPERATOR","->",1135],["T_STRING","noteStoreUrl",1135],")",";",["T_WHITESPACE","\n        ",1135],["T_VARIABLE","$authToken",1136],["T_WHITESPACE"," ",1136],"=",["T_WHITESPACE"," ",1136],["T_VARIABLE","$this",1136],["T_OBJECT_OPERATOR","->",1136],["T_STRING","getSharedNotebookAuthResult",1136],"(",["T_VARIABLE","$linkedNotebook",1136],")",["T_OBJECT_OPERATOR","->",1136],["T_STRING","authenticationToken",1136],";",["T_WHITESPACE","\n\n        ",1136],["T_VARIABLE","$notesMetadataList",1138],["T_WHITESPACE"," ",1138],"=",["T_WHITESPACE"," ",1138],["T_VARIABLE","$noteStore",1138],["T_OBJECT_OPERATOR","->",1138],["T_STRING","findNotesMetadata",1138],"(",["T_WHITESPACE","\n            ",1138],["T_VARIABLE","$authToken",1139],",",["T_WHITESPACE","\n            ",1139],["T_VARIABLE","$context",1140],["T_OBJECT_OPERATOR","->",1140],["T_STRING","noteFilter",1140],",",["T_WHITESPACE","\n            ",1140],["T_LNUMBER","0",1141],",",["T_WHITESPACE","\n            ",1141],["T_VARIABLE","$context",1142],["T_OBJECT_OPERATOR","->",1142],["T_STRING","maxResults",1142],",",["T_WHITESPACE","\n            ",1142],["T_VARIABLE","$context",1143],["T_OBJECT_OPERATOR","->",1143],["T_STRING","resultSpec",1143],["T_WHITESPACE","\n        ",1143],")",";",["T_WHITESPACE","\n\n        ",1144],["T_FOREACH","foreach",1146],["T_WHITESPACE"," ",1146],"(",["T_VARIABLE","$notesMetadataList",1146],["T_OBJECT_OPERATOR","->",1146],["T_STRING","notes",1146],["T_WHITESPACE"," ",1146],["T_AS","as",1146],["T_WHITESPACE"," ",1146],["T_VARIABLE","$notesMetadata",1146],")",["T_WHITESPACE"," ",1146],"{",["T_WHITESPACE","\n            ",1146],["T_VARIABLE","$context",1147],["T_OBJECT_OPERATOR","->",1147],["T_STRING","findMetadataResults",1147],"[","]",["T_WHITESPACE"," ",1147],"=",["T_WHITESPACE"," ",1147],["T_VARIABLE","$notesMetadata",1147],";",["T_WHITESPACE","\n        ",1147],"}",["T_WHITESPACE","\n\n        ",1148],["T_VARIABLE","$this",1150],["T_OBJECT_OPERATOR","->",1150],["T_STRING","findNotes_nextFindInLinkedScopeWithContext",1150],"(",["T_VARIABLE","$context",1150],")",";",["T_WHITESPACE","\n\n        ",1150],["T_VARIABLE","$this",1152],["T_OBJECT_OPERATOR","->",1152],["T_STRING","findNotes_processResultsWithContext",1152],"(",["T_VARIABLE","$context",1152],")",";",["T_WHITESPACE","\n    ",1152],"}",["T_WHITESPACE","\n\n    ",1153],["T_PROTECTED","protected",1155],["T_WHITESPACE"," ",1155],["T_FUNCTION","function",1155],["T_WHITESPACE"," ",1155],["T_STRING","compareByTitle",1155],"(",["T_VARIABLE","$obj1",1155],",",["T_WHITESPACE"," ",1155],["T_VARIABLE","$obj2",1155],")",["T_WHITESPACE","\n    ",1155],"{",["T_WHITESPACE","\n        ",1156],["T_RETURN","return",1157],["T_WHITESPACE"," ",1157],["T_STRING","strcmp",1157],"(",["T_VARIABLE","$obj1",1157],["T_OBJECT_OPERATOR","->",1157],["T_STRING","title",1157],",",["T_WHITESPACE"," ",1157],["T_VARIABLE","$obj2",1157],["T_OBJECT_OPERATOR","->",1157],["T_STRING","title",1157],")",";",["T_WHITESPACE","\n    ",1157],"}",["T_WHITESPACE","\n\n    ",1158],["T_PROTECTED","protected",1160],["T_WHITESPACE"," ",1160],["T_FUNCTION","function",1160],["T_WHITESPACE"," ",1160],["T_STRING","compareByCreated",1160],"(",["T_VARIABLE","$obj1",1160],",",["T_WHITESPACE"," ",1160],["T_VARIABLE","$obj2",1160],")",["T_WHITESPACE","\n    ",1160],"{",["T_WHITESPACE","\n        ",1161],["T_RETURN","return",1162],["T_WHITESPACE"," ",1162],["T_STRING","strcmp",1162],"(",["T_VARIABLE","$obj1",1162],["T_OBJECT_OPERATOR","->",1162],["T_STRING","created",1162],",",["T_WHITESPACE"," ",1162],["T_VARIABLE","$obj2",1162],["T_OBJECT_OPERATOR","->",1162],["T_STRING","created",1162],")",";",["T_WHITESPACE","\n    ",1162],"}",["T_WHITESPACE","\n\n    ",1163],["T_PROTECTED","protected",1165],["T_WHITESPACE"," ",1165],["T_FUNCTION","function",1165],["T_WHITESPACE"," ",1165],["T_STRING","compareByUpdated",1165],"(",["T_VARIABLE","$obj1",1165],",",["T_WHITESPACE"," ",1165],["T_VARIABLE","$obj2",1165],")",["T_WHITESPACE","\n    ",1165],"{",["T_WHITESPACE","\n        ",1166],["T_RETURN","return",1167],["T_WHITESPACE"," ",1167],["T_STRING","strcmp",1167],"(",["T_VARIABLE","$obj1",1167],["T_OBJECT_OPERATOR","->",1167],["T_STRING","updated",1167],",",["T_WHITESPACE"," ",1167],["T_VARIABLE","$obj2",1167],["T_OBJECT_OPERATOR","->",1167],["T_STRING","updated",1167],")",";",["T_WHITESPACE","\n    ",1167],"}",["T_WHITESPACE","\n\n    ",1168],["T_PROTECTED","protected",1170],["T_WHITESPACE"," ",1170],["T_FUNCTION","function",1170],["T_WHITESPACE"," ",1170],["T_STRING","findNotes_processResultsWithContext",1170],"(",["T_VARIABLE","$context",1170],")",["T_WHITESPACE","\n    ",1170],"{",["T_WHITESPACE","\n        ",1171],["T_COMMENT","\/\/ OK, now we have a complete list of note refs objects. If we need to do a local sort, then do so.\n",1172],["T_WHITESPACE","        ",1173],["T_IF","if",1173],["T_WHITESPACE"," ",1173],"(",["T_VARIABLE","$context",1173],["T_OBJECT_OPERATOR","->",1173],["T_STRING","requiresLocalMerge",1173],")",["T_WHITESPACE"," ",1173],"{",["T_WHITESPACE","\n            ",1173],["T_IF","if",1174],["T_WHITESPACE"," ",1174],"(",["T_VARIABLE","$this",1174],["T_OBJECT_OPERATOR","->",1174],["T_STRING","isFlagSet",1174],"(",["T_VARIABLE","$context",1174],["T_OBJECT_OPERATOR","->",1174],["T_STRING","sortOrder",1174],",",["T_WHITESPACE"," ",1174],["T_STRING","self",1174],["T_DOUBLE_COLON","::",1174],["T_STRING","SORT_ORDER_RECENTLY_CREATED",1174],")",")",["T_WHITESPACE"," ",1174],"{",["T_WHITESPACE","\n                ",1174],["T_RETURN","return",1175],["T_WHITESPACE"," ",1175],["T_STRING","usort",1175],"(",["T_VARIABLE","$context",1175],["T_OBJECT_OPERATOR","->",1175],["T_STRING","findMetadataResults",1175],",",["T_WHITESPACE"," ",1175],["T_ARRAY","array",1175],"(",["T_VARIABLE","$this",1175],",",["T_WHITESPACE"," ",1175],["T_CONSTANT_ENCAPSED_STRING","'compareByCreated'",1175],")",")",";",["T_WHITESPACE","\n            ",1175],"}",["T_WHITESPACE"," ",1176],["T_ELSEIF","elseif",1176],["T_WHITESPACE"," ",1176],"(",["T_VARIABLE","$this",1176],["T_OBJECT_OPERATOR","->",1176],["T_STRING","isFlagSet",1176],"(",["T_VARIABLE","$context",1176],["T_OBJECT_OPERATOR","->",1176],["T_STRING","sortOrder",1176],",",["T_WHITESPACE"," ",1176],["T_STRING","self",1176],["T_DOUBLE_COLON","::",1176],["T_STRING","SORT_ORDER_RECENTLY_UPDATED",1176],")",")",["T_WHITESPACE"," ",1176],"{",["T_WHITESPACE","\n                ",1176],["T_RETURN","return",1177],["T_WHITESPACE"," ",1177],["T_STRING","usort",1177],"(",["T_VARIABLE","$context",1177],["T_OBJECT_OPERATOR","->",1177],["T_STRING","findMetadataResults",1177],",",["T_WHITESPACE"," ",1177],["T_ARRAY","array",1177],"(",["T_VARIABLE","$this",1177],",",["T_WHITESPACE"," ",1177],["T_CONSTANT_ENCAPSED_STRING","'compareByUpdated'",1177],")",")",";",["T_WHITESPACE","\n            ",1177],"}",["T_WHITESPACE"," ",1178],["T_ELSE","else",1178],["T_WHITESPACE"," ",1178],"{",["T_WHITESPACE","\n                ",1178],["T_RETURN","return",1179],["T_WHITESPACE"," ",1179],["T_STRING","usort",1179],"(",["T_VARIABLE","$context",1179],["T_OBJECT_OPERATOR","->",1179],["T_STRING","findMetadataResults",1179],",",["T_WHITESPACE"," ",1179],["T_ARRAY","array",1179],"(",["T_VARIABLE","$this",1179],",",["T_WHITESPACE"," ",1179],["T_CONSTANT_ENCAPSED_STRING","'compareByTitle'",1179],")",")",";",["T_WHITESPACE","\n            ",1179],"}",["T_WHITESPACE","\n        ",1180],"}",["T_WHITESPACE","\n\n        ",1181],["T_COMMENT","\/\/ Prepare a dictionary of all notebooks by GUID so lookup below is fast.\n",1183],["T_WHITESPACE","        ",1184],["T_VARIABLE","$notebooksByGuid",1184],["T_WHITESPACE"," ",1184],"=",["T_WHITESPACE"," ",1184],["T_ARRAY","array",1184],"(",")",";",["T_WHITESPACE","\n        ",1184],["T_IF","if",1185],["T_WHITESPACE"," ",1185],"(","!",["T_VARIABLE","$context",1185],["T_OBJECT_OPERATOR","->",1185],["T_STRING","scopeNotebook",1185],")",["T_WHITESPACE"," ",1185],"{",["T_WHITESPACE","\n            ",1185],["T_FOREACH","foreach",1186],["T_WHITESPACE"," ",1186],"(",["T_VARIABLE","$context",1186],["T_OBJECT_OPERATOR","->",1186],["T_STRING","allNotebooks",1186],["T_WHITESPACE"," ",1186],["T_AS","as",1186],["T_WHITESPACE"," ",1186],["T_VARIABLE","$notebook",1186],")",["T_WHITESPACE"," ",1186],"{",["T_WHITESPACE","\n                ",1186],["T_VARIABLE","$notebooksByGuid",1187],"[",["T_VARIABLE","$notebook",1187],["T_OBJECT_OPERATOR","->",1187],["T_STRING","guid",1187],"]",["T_WHITESPACE"," ",1187],"=",["T_WHITESPACE"," ",1187],["T_VARIABLE","$notebook",1187],";",["T_WHITESPACE","\n            ",1187],"}",["T_WHITESPACE","\n        ",1188],"}",["T_WHITESPACE","\n\n        ",1189],["T_VARIABLE","$findNotesResults",1191],["T_WHITESPACE"," ",1191],"=",["T_WHITESPACE"," ",1191],["T_ARRAY","array",1191],"(",")",";",["T_WHITESPACE","\n\n        ",1191],["T_COMMENT","\/\/ Turn the metadata list into a list of note refs.\n",1193],["T_WHITESPACE","        ",1194],["T_FOREACH","foreach",1194],["T_WHITESPACE"," ",1194],"(",["T_VARIABLE","$context",1194],["T_OBJECT_OPERATOR","->",1194],["T_STRING","findMetadataResults",1194],["T_WHITESPACE"," ",1194],["T_AS","as",1194],["T_WHITESPACE"," ",1194],["T_VARIABLE","$metadata",1194],")",["T_WHITESPACE"," ",1194],"{",["T_WHITESPACE","\n            ",1194],["T_VARIABLE","$result",1195],["T_WHITESPACE","       ",1195],"=",["T_WHITESPACE"," ",1195],["T_NEW","new",1195],["T_WHITESPACE"," ",1195],["T_STRING","SearchResult",1195],"(",")",";",["T_WHITESPACE","\n            ",1195],["T_VARIABLE","$result",1196],["T_OBJECT_OPERATOR","->",1196],["T_STRING","guid",1196],["T_WHITESPACE"," ",1196],"=",["T_WHITESPACE"," ",1196],["T_VARIABLE","$metadata",1196],["T_OBJECT_OPERATOR","->",1196],["T_STRING","guid",1196],";",["T_WHITESPACE","\n\n            ",1196],["T_COMMENT","\/\/ Figure out which notebook this note belongs to. (If there's a scope notebook, it always belongs to that one.)\n",1198],["T_WHITESPACE","            ",1199],["T_VARIABLE","$notebook",1199],["T_WHITESPACE"," ",1199],"=",["T_WHITESPACE"," ",1199],["T_VARIABLE","$context",1199],["T_OBJECT_OPERATOR","->",1199],["T_STRING","scopeNotebook",1199],["T_WHITESPACE"," ",1199],"?",":",["T_WHITESPACE"," ",1199],["T_VARIABLE","$notebooksByGuid",1199],"[",["T_VARIABLE","$metadata",1199],["T_OBJECT_OPERATOR","->",1199],["T_STRING","notebookGuid",1199],"]",";",["T_WHITESPACE","\n\n            ",1199],["T_IF","if",1201],["T_WHITESPACE"," ",1201],"(","!",["T_VARIABLE","$notebook",1201],")",["T_WHITESPACE"," ",1201],"{",["T_WHITESPACE","\n                ",1201],["T_COMMENT","\/\/ This is probably a business notebook that we haven't explicitly joined, so we don't have it in our list.\n",1202],["T_WHITESPACE","                ",1203],["T_IF","if",1203],["T_WHITESPACE"," ",1203],"(","!",["T_STRING","array_key_exists",1203],"(",["T_VARIABLE","$metadata",1203],["T_OBJECT_OPERATOR","->",1203],["T_STRING","guid",1203],",",["T_WHITESPACE"," ",1203],["T_VARIABLE","$context",1203],["T_OBJECT_OPERATOR","->",1203],["T_STRING","resultGuidsFromBusiness",1203],")",")",["T_WHITESPACE"," ",1203],"{",["T_WHITESPACE","\n                    ",1203],["T_COMMENT","\/\/TODO\n",1204],["T_WHITESPACE","                    ",1205],["T_COMMENT","\/\/ Oh, it's not from the business. We really can't find it. This is an error.\n",1205],["T_WHITESPACE","                    ",1206],["T_COMMENT","\/\/ENSDKLogError(@\"Found note metadata but can't determine owning notebook by guid. Metadata = %@\", metadata);\n",1206],["T_WHITESPACE","                ",1207],"}",["T_WHITESPACE","\n                ",1207],["T_CONTINUE","continue",1208],";",["T_WHITESPACE","\n            ",1208],"}",["T_WHITESPACE","\n\n            ",1209],["T_IF","if",1211],["T_WHITESPACE"," ",1211],"(",["T_VARIABLE","$notebook",1211],["T_OBJECT_OPERATOR","->",1211],["T_STRING","isBusinessNotebook",1211],"(",")",")",["T_WHITESPACE"," ",1211],"{",["T_WHITESPACE","\n                ",1211],["T_VARIABLE","$result",1212],["T_OBJECT_OPERATOR","->",1212],["T_STRING","type",1212],["T_WHITESPACE"," ",1212],"=",["T_WHITESPACE"," ",1212],["T_STRING","self",1212],["T_DOUBLE_COLON","::",1212],["T_STRING","BUSINESS_NOTE",1212],";",["T_WHITESPACE","\n            ",1212],"}",["T_WHITESPACE"," ",1213],["T_ELSEIF","elseif",1213],["T_WHITESPACE"," ",1213],"(",["T_VARIABLE","$notebook",1213],["T_OBJECT_OPERATOR","->",1213],["T_STRING","isLinkedNotebook",1213],"(",")",")",["T_WHITESPACE"," ",1213],"{",["T_WHITESPACE","\n                ",1213],["T_VARIABLE","$result",1214],["T_OBJECT_OPERATOR","->",1214],["T_STRING","type",1214],["T_WHITESPACE"," ",1214],"=",["T_WHITESPACE"," ",1214],["T_STRING","self",1214],["T_DOUBLE_COLON","::",1214],["T_STRING","SHARED_NOTE",1214],";",["T_WHITESPACE","\n            ",1214],"}",["T_WHITESPACE"," ",1215],["T_ELSE","else",1215],["T_WHITESPACE"," ",1215],"{",["T_WHITESPACE","\n                ",1215],["T_VARIABLE","$result",1216],["T_OBJECT_OPERATOR","->",1216],["T_STRING","type",1216],["T_WHITESPACE"," ",1216],"=",["T_WHITESPACE"," ",1216],["T_STRING","self",1216],["T_DOUBLE_COLON","::",1216],["T_STRING","PERSONAL_NOTE",1216],";",["T_WHITESPACE","\n            ",1216],"}",["T_WHITESPACE","\n\n            ",1217],["T_COMMENT","\/\/$result->notebook          = $notebook;\n",1219],["T_WHITESPACE","            ",1220],["T_VARIABLE","$result",1220],["T_OBJECT_OPERATOR","->",1220],["T_STRING","title",1220],["T_WHITESPACE","             ",1220],"=",["T_WHITESPACE"," ",1220],["T_VARIABLE","$metadata",1220],["T_OBJECT_OPERATOR","->",1220],["T_STRING","title",1220],";",["T_WHITESPACE","\n            ",1220],["T_VARIABLE","$result",1221],["T_OBJECT_OPERATOR","->",1221],["T_STRING","created",1221],["T_WHITESPACE","           ",1221],"=",["T_WHITESPACE"," ",1221],["T_VARIABLE","$metadata",1221],["T_OBJECT_OPERATOR","->",1221],["T_STRING","created",1221],";",["T_WHITESPACE","\n            ",1221],["T_VARIABLE","$result",1222],["T_OBJECT_OPERATOR","->",1222],["T_STRING","updated",1222],["T_WHITESPACE","           ",1222],"=",["T_WHITESPACE"," ",1222],["T_VARIABLE","$metadata",1222],["T_OBJECT_OPERATOR","->",1222],["T_STRING","updated",1222],";",["T_WHITESPACE","\n            ",1222],["T_VARIABLE","$result",1223],["T_OBJECT_OPERATOR","->",1223],["T_STRING","updateSequenceNum",1223],["T_WHITESPACE"," ",1223],"=",["T_WHITESPACE"," ",1223],["T_VARIABLE","$metadata",1223],["T_OBJECT_OPERATOR","->",1223],["T_STRING","updateSequenceNum",1223],";",["T_WHITESPACE","\n\n            ",1223],["T_VARIABLE","$findNotesResults",1225],"[","]",["T_WHITESPACE"," ",1225],"=",["T_WHITESPACE"," ",1225],["T_VARIABLE","$result",1225],";",["T_WHITESPACE","\n\n            ",1225],["T_COMMENT","\/\/ If the caller specified a max result count, and we've reached it, then stop fixing up\n",1227],["T_WHITESPACE","            ",1228],["T_COMMENT","\/\/ results here.\n",1228],["T_WHITESPACE","            ",1229],["T_IF","if",1229],["T_WHITESPACE"," ",1229],"(",["T_VARIABLE","$context",1229],["T_OBJECT_OPERATOR","->",1229],["T_STRING","maxResults",1229],["T_WHITESPACE"," ",1229],">",["T_WHITESPACE"," ",1229],["T_LNUMBER","0",1229],["T_WHITESPACE"," ",1229],["T_BOOLEAN_AND","&&",1229],["T_WHITESPACE"," ",1229],["T_STRING","count",1229],"(",["T_VARIABLE","$findNotesResults",1229],")",["T_WHITESPACE"," ",1229],["T_IS_GREATER_OR_EQUAL",">=",1229],["T_WHITESPACE"," ",1229],["T_VARIABLE","$context",1229],["T_OBJECT_OPERATOR","->",1229],["T_STRING","maxResults",1229],")",["T_WHITESPACE"," ",1229],"{",["T_WHITESPACE","\n                ",1229],["T_BREAK","break",1230],";",["T_WHITESPACE","\n            ",1230],"}",["T_WHITESPACE","\n        ",1231],"}",["T_WHITESPACE","\n\n        ",1232],["T_RETURN","return",1234],["T_WHITESPACE"," ",1234],["T_VARIABLE","$findNotesResults",1234],";",["T_WHITESPACE","\n    ",1234],"}",["T_WHITESPACE","\n",1235],"}",["T_WHITESPACE","\n",1236]]