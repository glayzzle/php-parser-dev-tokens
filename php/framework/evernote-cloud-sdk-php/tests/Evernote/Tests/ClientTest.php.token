[["T_OPEN_TAG","<?php\n",1],["T_NAMESPACE","namespace",2],["T_WHITESPACE"," ",2],["T_STRING","Evernote",2],["T_NS_SEPARATOR","\\",2],["T_STRING","Tests",2],";",["T_WHITESPACE","\n\n",2],["T_USE","use",4],["T_WHITESPACE"," ",4],["T_STRING","Evernote",4],["T_NS_SEPARATOR","\\",4],["T_STRING","AdvancedClient",4],";",["T_WHITESPACE","\n",4],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Evernote",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Client",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Evernote",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Tests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Factory",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ThriftClientFactoryMock",6],";",["T_WHITESPACE","\n\n",6],["T_CLASS","class",8],["T_WHITESPACE"," ",8],["T_STRING","ClientTest",8],["T_WHITESPACE"," ",8],["T_EXTENDS","extends",8],["T_WHITESPACE"," ",8],["T_NS_SEPARATOR","\\",8],["T_STRING","PHPUnit_Framework_TestCase",8],["T_WHITESPACE","\n",8],"{",["T_WHITESPACE","\n    ",9],["T_CONST","const",10],["T_WHITESPACE"," ",10],["T_STRING","REGULAR_USER_TOKEN",10],["T_WHITESPACE","   ",10],"=",["T_WHITESPACE"," ",10],["T_CONSTANT_ENCAPSED_STRING","'REGULAR_USER_TOKEN'",10],";",["T_WHITESPACE","\n    ",10],["T_CONST","const",11],["T_WHITESPACE"," ",11],["T_STRING","BUSINESS_USER_TOKEN",11],["T_WHITESPACE","  ",11],"=",["T_WHITESPACE"," ",11],["T_CONSTANT_ENCAPSED_STRING","'BUSINESS_USER_TOKEN'",11],";",["T_WHITESPACE","\n    ",11],["T_CONST","const",12],["T_WHITESPACE"," ",12],["T_STRING","BUSINESS_ADMIN_TOKEN",12],["T_WHITESPACE"," ",12],"=",["T_WHITESPACE"," ",12],["T_CONSTANT_ENCAPSED_STRING","'BUSINESS_ADMIN_TOKEN'",12],";",["T_WHITESPACE","\n\n    ",12],["T_DOC_COMMENT","\/** @var  \\Evernote\\Client *\/",14],["T_WHITESPACE","\n    ",14],["T_PROTECTED","protected",15],["T_WHITESPACE"," ",15],["T_VARIABLE","$client",15],";",["T_WHITESPACE","\n\n    ",15],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$useFixtures",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_STRING","true",17],";",["T_WHITESPACE","\n\n    ",17],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_FUNCTION","function",19],["T_WHITESPACE"," ",19],["T_STRING","requires",19],"(",["T_VARIABLE","$var",19],")",["T_WHITESPACE","\n    ",19],"{",["T_WHITESPACE","\n        ",20],["T_IF","if",21],["T_WHITESPACE"," ",21],"(","!",["T_STRING","array_key_exists",21],"(",["T_VARIABLE","$var",21],",",["T_WHITESPACE"," ",21],["T_VARIABLE","$_SERVER",21],")",")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n            ",21],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","markTestSkipped",22],"(",")",";",["T_WHITESPACE","\n        ",22],"}",["T_WHITESPACE","\n\n        ",23],["T_RETURN","return",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$_SERVER",25],"[",["T_VARIABLE","$var",25],"]",";",["T_WHITESPACE","\n    ",25],"}",["T_WHITESPACE","\n\n    ",26],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","getClient",28],"(",["T_VARIABLE","$token",28],",",["T_WHITESPACE"," ",28],["T_VARIABLE","$token_type",28],",",["T_WHITESPACE"," ",28],["T_VARIABLE","$sandbox",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_STRING","true",28],",",["T_WHITESPACE"," ",28],["T_VARIABLE","$useFixtures",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_STRING","null",28],")",["T_WHITESPACE","\n    ",28],"{",["T_WHITESPACE","\n        ",29],["T_VARIABLE","$useFixtures",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],"(",["T_STRING","null",30],["T_WHITESPACE"," ",30],["T_IS_IDENTICAL","===",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$useFixtures",30],")",["T_WHITESPACE"," ",30],"?",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","useFixtures",30],["T_WHITESPACE"," ",30],":",["T_WHITESPACE"," ",30],["T_VARIABLE","$useFixtures",30],";",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$advancedClient",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_NEW","new",31],["T_WHITESPACE"," ",31],["T_STRING","AdvancedClient",31],"(",["T_VARIABLE","$token",31],",",["T_WHITESPACE"," ",31],["T_VARIABLE","$sandbox",31],",",["T_WHITESPACE"," ",31],["T_NEW","new",31],["T_WHITESPACE"," ",31],["T_STRING","ThriftClientFactoryMock",31],"(",["T_VARIABLE","$token",31],",",["T_WHITESPACE"," ",31],["T_VARIABLE","$token_type",31],",",["T_WHITESPACE"," ",31],["T_VARIABLE","$useFixtures",31],")",")",";",["T_WHITESPACE","\n        ",31],["T_RETURN","return",32],["T_WHITESPACE"," ",32],["T_NEW","new",32],["T_WHITESPACE"," ",32],["T_STRING","Client",32],"(",["T_VARIABLE","$token",32],",",["T_WHITESPACE"," ",32],["T_VARIABLE","$sandbox",32],",",["T_WHITESPACE"," ",32],["T_VARIABLE","$advancedClient",32],")",";",["T_WHITESPACE","\n    ",32],"}",["T_WHITESPACE","\n\n    ",33],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","test_listNotebooks_regularUser_shouldReturnAllKindsOfNotebooks",35],"(",")",["T_WHITESPACE","\n    ",35],"{",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$notebooks",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","getClient",37],"(",["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","requires",37],"(",["T_STRING","self",37],["T_DOUBLE_COLON","::",37],["T_STRING","REGULAR_USER_TOKEN",37],")",",",["T_WHITESPACE"," ",37],["T_STRING","self",37],["T_DOUBLE_COLON","::",37],["T_STRING","REGULAR_USER_TOKEN",37],")",["T_OBJECT_OPERATOR","->",37],["T_STRING","listNotebooks",37],"(",")",";",["T_WHITESPACE","\n\n        ",37],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","assertInternalType",39],"(",["T_CONSTANT_ENCAPSED_STRING","'array'",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$notebooks",39],")",";",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","assertContainsOnlyInstancesOf",40],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Evernote\\Model\\Notebook'",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$notebooks",40],")",";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$expected",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_START_HEREDOC","<<<EOF\n",41],["T_ENCAPSED_AND_WHITESPACE","\nUser created not shared not published\nINBOX\nUser created and shared\nUser created and published\nUser created, shared and published\nShared with user (All permissions)\n",42],["T_END_HEREDOC","EOF",49],";",["T_WHITESPACE","\n\n        ",49],["T_VARIABLE","$actual",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","\"\"",51],";",["T_WHITESPACE","\n        ",51],["T_STRING","array_walk",52],"(",["T_VARIABLE","$notebooks",52],",",["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],"(",["T_VARIABLE","$value",52],")",["T_WHITESPACE"," ",52],["T_USE","use",52],["T_WHITESPACE"," ",52],"(","&",["T_VARIABLE","$actual",52],")",["T_WHITESPACE"," ",52],"{",["T_VARIABLE","$actual",52],["T_WHITESPACE"," ",52],["T_CONCAT_EQUAL",".=",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",52],["T_WHITESPACE"," ",52],".",["T_WHITESPACE"," ",52],["T_VARIABLE","$value",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","name",52],";","}",")",";",["T_WHITESPACE","\n\n        ",52],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertEquals",54],"(",["T_VARIABLE","$expected",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$actual",54],")",";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","test_listNotebooks_businessUser_shouldReturnAllKindsOfNotebooks",57],"(",")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$notebooks",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getClient",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","requires",59],"(",["T_STRING","self",59],["T_DOUBLE_COLON","::",59],["T_STRING","BUSINESS_USER_TOKEN",59],")",",",["T_WHITESPACE"," ",59],["T_STRING","self",59],["T_DOUBLE_COLON","::",59],["T_STRING","BUSINESS_USER_TOKEN",59],")",["T_OBJECT_OPERATOR","->",59],["T_STRING","listNotebooks",59],"(",")",";",["T_WHITESPACE","\n\n        ",59],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertInternalType",61],"(",["T_CONSTANT_ENCAPSED_STRING","'array'",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$notebooks",61],")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertContainsOnlyInstancesOf",62],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Evernote\\Model\\Notebook'",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$notebooks",62],")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$expected",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_START_HEREDOC","<<<EOF\n",63],["T_ENCAPSED_AND_WHITESPACE","\nINBOX\nPersonal shared but not published\nPersonal published but not shared\nPersonal shared and published\nBusiness private\nBusiness shared with user\nBusiness shared but not published\nBusiness published but not shared\nBusiness shared and published\nUser created and shared\n",64],["T_END_HEREDOC","EOF",75],";",["T_WHITESPACE","\n\n        ",75],["T_VARIABLE","$actual",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","\"\"",77],";",["T_WHITESPACE","\n        ",77],["T_STRING","array_walk",78],"(",["T_VARIABLE","$notebooks",78],",",["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],"(",["T_VARIABLE","$value",78],")",["T_WHITESPACE"," ",78],["T_USE","use",78],["T_WHITESPACE"," ",78],"(","&",["T_VARIABLE","$actual",78],")",["T_WHITESPACE"," ",78],"{",["T_VARIABLE","$actual",78],["T_WHITESPACE"," ",78],["T_CONCAT_EQUAL",".=",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_VARIABLE","$value",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","name",78],";","}",")",";",["T_WHITESPACE","\n\n        ",78],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertEquals",80],"(",["T_VARIABLE","$expected",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$actual",80],")",";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","test_listNotebooks_businessAdmin_shouldReturnAllKindsOfNotebooks",83],"(",")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$notebooks",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getClient",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","requires",85],"(",["T_STRING","self",85],["T_DOUBLE_COLON","::",85],["T_STRING","BUSINESS_ADMIN_TOKEN",85],")",",",["T_WHITESPACE"," ",85],["T_STRING","self",85],["T_DOUBLE_COLON","::",85],["T_STRING","BUSINESS_ADMIN_TOKEN",85],")",["T_OBJECT_OPERATOR","->",85],["T_STRING","listNotebooks",85],"(",")",";",["T_WHITESPACE","\n\n        ",85],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertInternalType",87],"(",["T_CONSTANT_ENCAPSED_STRING","'array'",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$notebooks",87],")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertContainsOnlyInstancesOf",88],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Evernote\\Model\\Notebook'",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$notebooks",88],")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$expected",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_START_HEREDOC","<<<EOF\n",89],["T_ENCAPSED_AND_WHITESPACE","\nINBOX\nPersonal shared but not published\nPersonal published but not shared\nPersonal shared and published\nBusiness Notebook 1\nBusiness shared but not published\nMy shared notebook\nPrivate business\nBusiness shared but not published bis\nBusiness published but not shared\nBusiness published and shared\n",90],["T_END_HEREDOC","EOF",102],";",["T_WHITESPACE","\n\n        ",102],["T_VARIABLE","$actual",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","\"\"",104],";",["T_WHITESPACE","\n        ",104],["T_STRING","array_walk",105],"(",["T_VARIABLE","$notebooks",105],",",["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],"(",["T_VARIABLE","$value",105],")",["T_WHITESPACE"," ",105],["T_USE","use",105],["T_WHITESPACE"," ",105],"(","&",["T_VARIABLE","$actual",105],")",["T_WHITESPACE"," ",105],"{",["T_VARIABLE","$actual",105],["T_WHITESPACE"," ",105],["T_CONCAT_EQUAL",".=",105],["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_VARIABLE","$value",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","name",105],";","}",")",";",["T_WHITESPACE","\n\n        ",105],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertEquals",107],"(",["T_VARIABLE","$expected",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$actual",107],")",";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n",108],"}",["T_WHITESPACE","\n",109]]